/*
 Navicat Premium Data Transfer

 Source Server         : ffcs-mysql-192.168.124.37-开发环境
 Source Server Type    : MySQL
 Source Server Version : 50729
 Source Host           : 192.168.124.37:3307
 Source Schema         : chencq

 Target Server Type    : MySQL
 Target Server Version : 50729
 File Encoding         : 65001

 Date: 14/08/2024 16:09:54
*/

SET NAMES utf8mb4;
SET FOREIGN_KEY_CHECKS = 0;

-- ----------------------------
DROP TABLE IF EXISTS `access_authority`;
CREATE TABLE `access_authority`  (
  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT '主键',
  `parent_target` varchar(64) CHARACTER SET utf8 COLLATE utf8_bin NULL DEFAULT NULL COMMENT '父ID',
  `target` varchar(64) CHARACTER SET utf8 COLLATE utf8_bin NOT NULL COMMENT '菜单代码',
  `target_name` varchar(128) CHARACTER SET utf8 COLLATE utf8_bin NOT NULL COMMENT '菜单名称',
  `action` varchar(64) CHARACTER SET utf8 COLLATE utf8_bin NOT NULL COMMENT '按钮代码',
  `action_name` varchar(128) CHARACTER SET utf8 COLLATE utf8_bin NOT NULL COMMENT '按钮名称',
  `sort` int(8) NULL DEFAULT NULL,
  `enable_flag` int(1) NOT NULL DEFAULT 1 COMMENT '0--已禁用 1--已启用  DIC_NAME=ENABLE_FLAG',
  `delete_flag` int(1) NULL DEFAULT 0 COMMENT ' 0--未删除 1--已删除 DIC_NAME=DEL_FLAG',
  `create_by` varchar(64) CHARACTER SET utf8 COLLATE utf8_bin NOT NULL COMMENT '创建人',
  `create_time` datetime NOT NULL COMMENT '创建时间',
  `update_by` varchar(64) CHARACTER SET utf8 COLLATE utf8_bin NOT NULL COMMENT '修改人',
  `update_time` datetime NOT NULL COMMENT '修改时间',
  `version` tinyint(8) NULL DEFAULT NULL,
  PRIMARY KEY (`id`) USING BTREE,
  UNIQUE INDEX `TA_uniq_index`(`target`, `action`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 330 CHARACTER SET = utf8 COLLATE = utf8_bin COMMENT = '运营权限表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `access_role`;
CREATE TABLE `access_role`  (
  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT '主键',
  `role_code` varchar(32) CHARACTER SET utf8 COLLATE utf8_bin NOT NULL COMMENT '角色编码',
  `role_name` varchar(64) CHARACTER SET utf8 COLLATE utf8_bin NOT NULL COMMENT '角色名称',
  `enable_flag` int(1) NOT NULL DEFAULT 1 COMMENT '0--已禁用 1--已启用  DIC_NAME=ENABLE_FLAG',
  `delete_flag` int(1) NULL DEFAULT 0 COMMENT ' 0--未删除 1--已删除 DIC_NAME=DEL_FLAG',
  `create_by` varchar(64) CHARACTER SET utf8 COLLATE utf8_bin NOT NULL COMMENT '创建人',
  `create_time` datetime NOT NULL COMMENT '创建时间',
  `update_by` varchar(64) CHARACTER SET utf8 COLLATE utf8_bin NULL DEFAULT NULL COMMENT '更新人',
  `update_time` datetime NULL DEFAULT NULL COMMENT '更新时间',
  `version` tinyint(4) NULL DEFAULT NULL,
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 4 CHARACTER SET = utf8 COLLATE = utf8_bin COMMENT = '运营角色表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `access_role_authority`;
CREATE TABLE `access_role_authority`  (
  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT '主键',
  `role_code` varchar(32) CHARACTER SET utf8 COLLATE utf8_bin NOT NULL COMMENT '角色名称',
  `target` varchar(64) CHARACTER SET utf8 COLLATE utf8_bin NOT NULL COMMENT '权限目标',
  `action` varchar(64) CHARACTER SET utf8 COLLATE utf8_bin NOT NULL,
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 622 CHARACTER SET = utf8 COLLATE = utf8_bin COMMENT = '运营角色权限表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `access_user`;
CREATE TABLE `access_user`  (
  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT '主键',
  `login_name` varchar(64) CHARACTER SET utf8 COLLATE utf8_bin NOT NULL COMMENT ' 登录名',
  `real_name` varchar(64) CHARACTER SET utf8 COLLATE utf8_bin NOT NULL COMMENT '真实用户',
  `password` varchar(128) CHARACTER SET utf8 COLLATE utf8_bin NOT NULL COMMENT '密码',
  `phone` varchar(16) CHARACTER SET utf8 COLLATE utf8_bin NULL DEFAULT NULL COMMENT '手机号码',
  `email` varchar(64) CHARACTER SET utf8 COLLATE utf8_bin NULL DEFAULT NULL COMMENT '用户邮箱',
  `remark` varchar(512) CHARACTER SET utf8 COLLATE utf8_bin NULL DEFAULT NULL COMMENT '备注',
  `last_login_time` datetime NULL DEFAULT NULL COMMENT '最后一次登陆时间',
  `last_login_ip` varchar(16) CHARACTER SET utf8 COLLATE utf8_bin NULL DEFAULT NULL COMMENT '最后一次登录IP',
  `enable_flag` int(1) NOT NULL DEFAULT 1 COMMENT '0--已禁用 1--已启用  DIC_NAME=ENABLE_FLAG',
  `delete_flag` int(1) NOT NULL DEFAULT 0 COMMENT ' 0--未删除 1--已删除 DIC_NAME=DEL_FLAG',
  `create_by` varchar(64) CHARACTER SET utf8 COLLATE utf8_bin NULL DEFAULT NULL COMMENT '创建人',
  `create_time` datetime NULL DEFAULT NULL COMMENT '创建时间',
  `update_by` varchar(64) CHARACTER SET utf8 COLLATE utf8_bin NULL DEFAULT NULL COMMENT '更新人',
  `update_time` datetime NULL DEFAULT NULL COMMENT '更新时间',
  `version` tinyint(4) NULL DEFAULT NULL,
  PRIMARY KEY (`id`) USING BTREE,
  UNIQUE INDEX `IDX1`(`login_name`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 3 CHARACTER SET = utf8 COLLATE = utf8_bin COMMENT = '运营用户表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `access_user_role`;
CREATE TABLE `access_user_role`  (
  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT '主键',
  `login_name` varchar(32) CHARACTER SET utf8 COLLATE utf8_bin NOT NULL COMMENT '权限目标',
  `role_code` varchar(32) CHARACTER SET utf8 COLLATE utf8_bin NOT NULL COMMENT '角色名称',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 17 CHARACTER SET = utf8 COLLATE = utf8_bin COMMENT = '运营角色权限表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `cq_dispatch_orders`;
CREATE TABLE `cq_dispatch_orders`  (
  `id` bigint(20) NOT NULL COMMENT '主键',
  `asset_id` bigint(20) NOT NULL COMMENT '省份资产id',
  `user_id` bigint(20) NOT NULL COMMENT '派单人ID',
  `user_name` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '派单人名',
  `report_org_name` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '通知单位名称',
  `dispatch_err_msg` text CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL COMMENT '派单失败原因',
  `dispatch_detail_id` bigint(20) NOT NULL COMMENT '对接历史记录id',
  `dispatch_time` datetime NOT NULL COMMENT '派单时间',
  `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '更新时间',
  `deleted` tinyint(4) NOT NULL DEFAULT 0 COMMENT '删除状态;删除状态：0-未删除，1-已删除',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '重庆派单记录表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `security_leak_password`;
CREATE TABLE `security_leak_password`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'id',
  `policy_id` int(11) NULL DEFAULT NULL COMMENT '归属的密码策略id',
  `password` varchar(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '弱密码',
  `created_time` datetime NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `updated_time` datetime NULL DEFAULT CURRENT_TIMESTAMP COMMENT '修改时间',
  `update_seq` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT '0' COMMENT '更新记录',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 23 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '弱密码表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `security_user_cond`;
CREATE TABLE `security_user_cond`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'id',
  `event_id` int(11) NOT NULL COMMENT '事件id',
  `name` varchar(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '条件名称',
  `code` varchar(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '条件编码',
  `created_time` datetime NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `update_seq` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT '0' COMMENT '更新记录',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 70 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '用户条件表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `security_user_event`;
CREATE TABLE `security_user_event`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'id',
  `name` varchar(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '事件名称',
  `code` varchar(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '事件编码',
  `type` tinyint(4) NULL DEFAULT NULL COMMENT '事件触发类型-字典值：1-密码设置，2-登录校验，3-密码过期，4-账号空闲，5-账号过期，6-账号登录前',
  `process_order` tinyint(4) NOT NULL DEFAULT 0 COMMENT '执行优先级',
  `creator` bigint(20) NULL DEFAULT NULL COMMENT '创建者',
  `deleted` tinyint(4) NULL DEFAULT 0 COMMENT '是否删除',
  `created_time` datetime NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `updated_time` datetime NULL DEFAULT CURRENT_TIMESTAMP COMMENT '修改时间',
  `update_seq` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT '0' COMMENT '更新记录',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 24 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '用户事件表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `security_user_event_cond`;
CREATE TABLE `security_user_event_cond`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'id',
  `strategy_event_id` int(11) NOT NULL COMMENT '策略事件id',
  `cond_id` int(11) NOT NULL DEFAULT 0 COMMENT '条件id',
  `strategy_value` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '策略值',
  `created_time` datetime NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `update_seq` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT '0' COMMENT '更新记录',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 9743 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '用户策略条件表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `security_user_strategy`;
CREATE TABLE `security_user_strategy`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'id',
  `name` varchar(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '策略名称',
  `type` tinyint(4) NULL DEFAULT 0 COMMENT '策略类型-字典值：1-密码策略，2-账号策略，3-认证策略',
  `description` varchar(500) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '描述',
  `creator` bigint(20) NULL DEFAULT NULL COMMENT '创建者',
  `deleted` tinyint(4) NULL DEFAULT 0 COMMENT '是否删除',
  `created_time` datetime NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `updated_time` datetime NULL DEFAULT CURRENT_TIMESTAMP COMMENT '修改时间',
  `update_seq` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT '0' COMMENT '更新记录',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 35 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '用户策略表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `security_user_strategy_event`;
CREATE TABLE `security_user_strategy_event`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'id',
  `strategy_id` int(11) NOT NULL COMMENT '策略id',
  `event_id` int(11) NOT NULL COMMENT '事件id',
  `created_time` datetime NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `updated_time` datetime NULL DEFAULT CURRENT_TIMESTAMP COMMENT '修改时间',
  `update_seq` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT '0' COMMENT '更新记录',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 3838 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '用户策略事件表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `sjkcz_sj`;
CREATE TABLE `sjkcz_sj`  (
  `id` int(10) UNSIGNED NOT NULL AUTO_INCREMENT,
  `main_acct_name` varchar(250) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '主账号',
  `person_name` varchar(250) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '姓名',
  `cmd` varchar(150) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT '命令',
  `content` varchar(4000) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '操作内容',
  `op_time` datetime NOT NULL COMMENT '操作时间',
  `op_time_date` date NULL DEFAULT NULL COMMENT '操作时间-日期',
  `op_time_time` time NULL DEFAULT NULL COMMENT '操作时间-时间',
  `device_ip` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT 'ip',
  `login_time` datetime NOT NULL COMMENT '登录时间',
  `login_time_time` time NULL DEFAULT NULL COMMENT '登录时间-时间',
  `year` int(10) UNSIGNED NULL DEFAULT NULL COMMENT '分区-年',
  `month` tinyint(3) UNSIGNED NULL DEFAULT NULL COMMENT '分区-月',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `idx_year`(`year`) USING BTREE,
  INDEX `idx_month`(`month`) USING BTREE,
  INDEX `idx_opTime`(`op_time_time`) USING BTREE,
  INDEX `idx_cmd_acc`(`cmd`, `main_acct_name`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 134580 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '数据库操作' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `sjkcz_sjip`;
CREATE TABLE `sjkcz_sjip`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键',
  `ip` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT 'ip',
  PRIMARY KEY (`id`) USING BTREE,
  UNIQUE INDEX `unique_ip`(`ip`) USING BTREE COMMENT 'ip唯一索引'
) ENGINE = InnoDB AUTO_INCREMENT = 1 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '数据库操作-ip' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `sys_dict`;
CREATE TABLE `sys_dict`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'id',
  `dict_name` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '字典名称',
  `dict_code` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '字典编码',
  `status` tinyint(4) NULL DEFAULT 0 COMMENT '状态',
  `type` tinyint(4) NOT NULL DEFAULT 0 COMMENT '字典类型。0-数据字典，1-服务字典',
  `data_type` tinyint(4) NULL DEFAULT NULL COMMENT '数据类型。0-列表，1-全量树，2-分级树，只取1级',
  `description` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '备注',
  `deleted` tinyint(4) NULL DEFAULT 0 COMMENT '是否删除',
  `created_time` datetime NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `updated_time` datetime NULL DEFAULT CURRENT_TIMESTAMP COMMENT '修改时间',
  `update_seq` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT '0' COMMENT '更新记录',
  PRIMARY KEY (`id`) USING BTREE,
  UNIQUE INDEX `UNIQUE_CODE`(`dict_code`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 683 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '字典类型表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `sys_dict_data`;
CREATE TABLE `sys_dict_data`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'id',
  `dict_id` int(11) NOT NULL COMMENT '字典id',
  `parent_data_id` int(11) NULL DEFAULT 0 COMMENT '父数据id',
  `data_label` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '数据标签',
  `data_value` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '数据值',
  `data_type` tinyint(4) NOT NULL DEFAULT 0 COMMENT '数据类型:0-字符串，1-数字',
  `data_order` int(11) NULL DEFAULT NULL COMMENT '排序',
  `status` tinyint(4) NULL DEFAULT 0 COMMENT '状态',
  `deleted` tinyint(4) NULL DEFAULT 0 COMMENT '是否删除',
  `created_time` datetime NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `updated_time` datetime NULL DEFAULT CURRENT_TIMESTAMP COMMENT '修改时间',
  `update_seq` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT '0' COMMENT '更新记录',
  `external_value` varchar(500) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '扩展字段',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 15718 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '字典数据表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `sys_dict_page_load`;
CREATE TABLE `sys_dict_page_load`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'id',
  `page_id` int(11) NOT NULL COMMENT '页面id',
  `dict_id` int(11) NOT NULL COMMENT '字典id',
  `status` tinyint(4) NULL DEFAULT 0 COMMENT '状态',
  `creator` int(11) NULL DEFAULT NULL COMMENT '创建者',
  `deleted` tinyint(4) NULL DEFAULT 0 COMMENT '是否删除',
  `created_time` datetime NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `updated_time` datetime NULL DEFAULT CURRENT_TIMESTAMP COMMENT '修改时间',
  `update_seq` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT '0' COMMENT '更新记录',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 1330 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '页面字典加载表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `sys_file`;
CREATE TABLE `sys_file`  (
  `id` int(10) UNSIGNED NOT NULL AUTO_INCREMENT COMMENT 'id',
  `module_id` int(11) NOT NULL COMMENT '模块ID',
  `file_code` varchar(512) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '文件标识',
  `file_name` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '文件名称，模块路径后的相对路径',
  `file_path` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '文件地址',
  `creator` int(11) NULL DEFAULT NULL COMMENT '创建者',
  `deleted` tinyint(4) NULL DEFAULT 0 COMMENT '是否删除',
  `created_time` datetime NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `updated_time` datetime NULL DEFAULT CURRENT_TIMESTAMP COMMENT '修改时间',
  `update_seq` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT '0' COMMENT '更新记录',
  `file_partition` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '文件分区',
  `file_type` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '文件类型',
  PRIMARY KEY (`id`) USING BTREE,
  UNIQUE INDEX `file_code`(`file_code`) USING BTREE,
  INDEX `idx_partition_type`(`file_partition`, `file_type`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 2436 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '文件表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `sys_file_module`;
CREATE TABLE `sys_file_module`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'id',
  `sys_id` int(11) NOT NULL COMMENT '系统ID',
  `module_name` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '模块名称',
  `module_code` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '模块编码',
  `module_path` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '模块路径，如果不为空则文件路径以该值为路径，否则就是module_id',
  `deleted` tinyint(4) NULL DEFAULT 0 COMMENT '是否删除',
  `app_suffix_limit` varchar(500) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '文件后缀限制',
  `save_type` tinyint(4) NULL DEFAULT 0 COMMENT '存储方式-字典值：0-静态存储，访问使用路径，1-动态存储，访问使用id',
  `creator` int(11) NULL DEFAULT NULL COMMENT '创建者',
  `created_time` datetime NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `updated_time` datetime NULL DEFAULT CURRENT_TIMESTAMP COMMENT '修改时间',
  `update_seq` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT '0' COMMENT '更新记录',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 3 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '文件模块表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `sys_page`;
CREATE TABLE `sys_page`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'id',
  `page_url` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '页面url',
  `page_code` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `creator` int(11) NULL DEFAULT NULL COMMENT '创建者',
  `deleted` tinyint(4) NULL DEFAULT 0 COMMENT '是否删除',
  `created_time` datetime NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `updated_time` datetime NULL DEFAULT CURRENT_TIMESTAMP COMMENT '修改时间',
  `update_seq` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT '0' COMMENT '更新记录',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 197 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '页面标识表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_applog_dbaudit`;
CREATE TABLE `t_applog_dbaudit`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '审计ID',
  `dept_id` varchar(24) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '部门ID',
  `sys_id` varchar(24) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '系统ID',
  `asset_id` varchar(24) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '资产ID',
  `db_ip` varchar(24) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '数据库IP',
  `db_port` int(11) NULL DEFAULT NULL COMMENT '数据库端口',
  `op_type` varchar(24) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '操作类型：alert:告警,prevent:阻断,pass:通过,login:登录',
  `db_name` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '数据库名',
  `db_user` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '数据库用户名',
  `client_ip` varchar(24) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '客户端IP',
  `client_mac` varchar(24) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '客户端mac',
  `exec_sql` blob NULL COMMENT '执行sql',
  `db_operate` varchar(24) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '数据库操作类型,如:select,insert,update,delete',
  `exec_result` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '执行状态',
  `risk_level` varchar(16) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '风险等级',
  `login_offwork` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '当op_type为login时，并且当时间为非工作时间时，值 为1，否则为0',
  `field_p1` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '扩展字段1',
  `field_p2` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '扩展字段2',
  `field_p3` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '扩展字段3',
  `field_p4` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '扩展字段4',
  `field_p5` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '扩展字段5',
  `log_time` datetime NULL DEFAULT NULL COMMENT '日志时间',
  `createtime` datetime NULL DEFAULT NULL COMMENT '创建时间',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `idx_applog_dbaudit`(`dept_id`, `sys_id`, `asset_id`, `db_name`, `db_user`, `createtime`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 16 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '数据库审计日志表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_applog_dbaudit_rule`;
CREATE TABLE `t_applog_dbaudit_rule`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '审计ID',
  `applog_dbaudit_id` int(11) NULL DEFAULT NULL COMMENT '主表ID',
  `rule_name` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '规则名称',
  `action` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '规则响应',
  `threat` varchar(24) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '风险等级',
  `createtime` datetime NULL DEFAULT NULL COMMENT '创建时间',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `idx_applog_dbaudit`(`applog_dbaudit_id`, `rule_name`, `action`, `createtime`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 1 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '数据库审计日志规则表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_applog_strategy`;
CREATE TABLE `t_applog_strategy`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '告警策略ID',
  `dept_id` bigint(20) NOT NULL COMMENT '部门id',
  `strategy_name` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '策略名称',
  `status` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '状态,0禁用，1启用',
  `type` varchar(24) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '策略类型：simple(简单告警策略) sequence(事件序列告警策略) threshold(阀值告警策略) restrain(抑制告警策略)',
  `active_begin` time NULL DEFAULT NULL COMMENT '生效开始时间',
  `active_end` time NULL DEFAULT NULL COMMENT '生效结束时间',
  `warn_level` varchar(4) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '告警等级: 低风险|中风险|高内险|致命',
  `delay` int(11) NOT NULL COMMENT '等待时间',
  `delay_unit` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '等待时间单位:s(秒)m(分种)h(小时)',
  `result_deal` varchar(12) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '结果处理:merge(合并) quiet(静默）',
  `action_id` int(11) NULL DEFAULT NULL COMMENT '策略行为ID 可以没有行为',
  `illustrate` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '策略描述',
  `conditions` blob NULL COMMENT '条件列表',
  `threshold_num` int(11) NULL DEFAULT NULL COMMENT '告警阀值 当类型为threshold必填',
  `restrain_strategys` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '抑制策略ID,多个之间用逗号隔开 当类型为restrain时必填',
  `update_user` bigint(20) NOT NULL COMMENT '修改用户',
  `create_user` bigint(20) NOT NULL COMMENT '创建用户',
  `updatetime` datetime NOT NULL COMMENT '修改时间',
  `createtime` datetime NOT NULL COMMENT '创建时间',
  `eligible_deal_roles` varchar(512) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '处置角色',
  `eligible_audit_roles` varchar(512) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '审核角色',
  `warn_type` varchar(256) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '告警类型',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `idx_applog_strategy`(`dept_id`, `strategy_name`, `warn_level`, `create_user`, `createtime`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 8 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '数据库审计日志策略表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_applog_strategy_op_hist`;
CREATE TABLE `t_applog_strategy_op_hist`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键id',
  `warnstrategy_id` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '关联 ES ds-warnstragegy* 中的 id',
  `status` tinyint(4) NOT NULL COMMENT '处置状态: 1-发现, 2-处置, 3-审核',
  `operator_id` bigint(20) NULL DEFAULT NULL COMMENT '操作人ID',
  `operator_name` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '操作人名',
  `op` tinyint(4) NOT NULL COMMENT '操作: 1-发现, 21-误报, 22-清除, 23-已处理, 31-审核通过, 32-审核不通过',
  `opinion` varchar(1024) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '操作意见',
  `file_name` varchar(256) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '文件名',
  `file_path` varchar(256) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '文件路径',
  `gmt_create` datetime NOT NULL COMMENT '创建时间',
  `gmt_modified` datetime NOT NULL COMMENT '修改时间',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 396 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '数据库审计日志操作历史记录表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_applog_strategy_task`;
CREATE TABLE `t_applog_strategy_task`  (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `strategy_id` int(11) NULL DEFAULT NULL COMMENT '策略ID',
  `strategy_type` varchar(24) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '策略类型',
  `strategy_name` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '策略名称',
  `task_id` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '任务id,也用于记录策略告警id',
  `begin_time` datetime NULL DEFAULT NULL COMMENT '开始执行策略时间',
  `delay` int(11) NULL DEFAULT NULL COMMENT '持续时间，转为毫秒计算',
  `expire_time` datetime NULL DEFAULT NULL COMMENT '记录超时时间，此时间为策略触发后的超时间',
  `warnstrategy_log` blob NULL COMMENT '记录当前的告警中心数据',
  PRIMARY KEY (`id`) USING BTREE,
  UNIQUE INDEX `idx_warnstrategy_taskid`(`task_id`) USING BTREE,
  UNIQUE INDEX `idx_warnstrategy_strategyid`(`strategy_id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 260 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '数据库审计日志策略任务' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_applog_strategy_task_item`;
CREATE TABLE `t_applog_strategy_task_item`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键id',
  `task_id` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '任务id,也用于记录策略告警id',
  `strategy_id` int(11) NULL DEFAULT NULL COMMENT '策略ID,表t_applog_strategy',
  `strategy_type` varchar(24) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '策略类型：simple(简单告警策略) sequence(事件序列告警策略) threshold(阀值告警策略) restrain(抑制告警策略)',
  `event_name` varchar(24) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '事件序列名称',
  `warn_log_id` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '告警事件id',
  `is_restrain` int(11) NULL DEFAULT NULL COMMENT '抑制事件标记',
  `occur_threshold_num` int(11) NULL DEFAULT NULL COMMENT '触发阀值',
  `occur_time` datetime NULL DEFAULT NULL COMMENT '触发时间，此时间为warnlog的时间',
  `expire_time` datetime NULL DEFAULT NULL COMMENT '记录超时时间',
  PRIMARY KEY (`id`) USING BTREE,
  UNIQUE INDEX `idx_strategy_warnlog`(`warn_log_id`) USING BTREE,
  INDEX `idx_strategy_item`(`strategy_type`, `event_name`, `occur_time`, `expire_time`) USING BTREE,
  INDEX `idx_strategy_item_key2`(`task_id`, `strategy_id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 1365 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '数据库审计日志策略任务项' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_applog_tag`;
CREATE TABLE `t_applog_tag`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键',
  `tag_name` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '标签名称，唯一索引',
  `dept_id` bigint(20) NOT NULL COMMENT '用户部门ID',
  `status` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '状态,0禁用，1启用',
  `active_begin` time NULL DEFAULT NULL COMMENT '生效开始时间 HH:mm',
  `active_end` time NULL DEFAULT NULL COMMENT '生效结束时间 HH:mm',
  `illustrate` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '用途说明',
  `conditions` blob NULL COMMENT '条件列表',
  `create_user` bigint(20) NOT NULL COMMENT '创建用户id',
  `update_user` bigint(20) NOT NULL COMMENT '修改用户id',
  `updatetime` datetime NOT NULL COMMENT '修改时间 yyyy-MM-dd HH:mm:ss',
  `createtime` datetime NOT NULL COMMENT '创建时间 yyyy-MM-dd HH:mm:ss',
  PRIMARY KEY (`id`) USING BTREE,
  UNIQUE INDEX `idx_applog_tag_name`(`tag_name`) USING BTREE,
  INDEX `idx_applog_tag`(`dept_id`, `create_user`, `update_user`, `createtime`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 5 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '数据库审计日志标签' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_applog_taskinfo`;
CREATE TABLE `t_applog_taskinfo`  (
  `id` bigint(20) NOT NULL COMMENT '任务ID',
  `task_name` varchar(32) CHARACTER SET utf8 COLLATE utf8_unicode_ci NOT NULL COMMENT '任务名称',
  `task_period` varchar(64) CHARACTER SET utf8 COLLATE utf8_unicode_ci NOT NULL COMMENT '任务周期-字典：day-每日，week-每周，month-每月，quarter-每季，rightAway-立即生成',
  `sys_id` varchar(24) CHARACTER SET utf8 COLLATE utf8_unicode_ci NOT NULL COMMENT '系统ID',
  `login_fail_count` int(11) NULL DEFAULT 0 COMMENT '登录失败次数(每天)',
  `login_fail_period_count` int(11) NULL DEFAULT 0 COMMENT '周期内登录失败次数',
  `account_risk_count` int(11) NULL DEFAULT 0 COMMENT '账号异常次数',
  `status` char(1) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT '1' COMMENT '状态-字典: 0-停用，1-启用',
  `task_desc` varchar(128) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '任务描述',
  `create_user` varchar(32) CHARACTER SET utf8 COLLATE utf8_unicode_ci NOT NULL COMMENT '任务创建者',
  `createtime` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '记录创建时间',
  `is_delete` char(1) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT '0' COMMENT '是否删除：0-未删除，1-删除',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `idx_task_name`(`task_name`) USING BTREE,
  INDEX `idx_sys_id`(`sys_id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_unicode_ci COMMENT = '任务记录表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_applog_taskinfo_download`;
CREATE TABLE `t_applog_taskinfo_download`  (
  `id` bigint(20) NOT NULL COMMENT '任务下载记录',
  `task_id` bigint(20) NOT NULL COMMENT '任务ID',
  `file_name` varchar(128) CHARACTER SET utf8 COLLATE utf8_unicode_ci NOT NULL COMMENT '文件名',
  `message` blob NULL COMMENT '失败说明',
  `status` char(1) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT '0' COMMENT '状态-字典: 0-生成中，1-成功，2-失败',
  `file_path` varchar(128) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '文件存放位置',
  `createtime` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '记录创建时间',
  `is_delete` char(1) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT '0' COMMENT '是否删除：0-未删除，1-删除',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `idx_task_id`(`task_id`) USING BTREE,
  INDEX `idx_file_name`(`file_name`) USING BTREE,
  INDEX `idx_createtime`(`createtime`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_unicode_ci COMMENT = '任务下载记录表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_applog_warn_daycount`;
CREATE TABLE `t_applog_warn_daycount`  (
  `id` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '主键标识',
  `createtime` datetime NULL DEFAULT NULL COMMENT '创建时间',
  `record_count` int(11) NULL DEFAULT NULL COMMENT '记录数量',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '预警记录表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_applog_warn_discard`;
CREATE TABLE `t_applog_warn_discard`  (
  `id` bigint(20) NOT NULL,
  `eventtype` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '事件类型',
  `warnStatus` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '告警状态，0表示解除告警，1表示告警',
  `createtime` datetime NULL DEFAULT NULL COMMENT '创建时间',
  `dealstatus` tinyint(4) NULL DEFAULT NULL COMMENT '处理状态: 0-未处理, 1-误报, 2-清除, 3-已处理',
  `dealtime` datetime NULL DEFAULT NULL COMMENT '处理告警的时间',
  `dealperson` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '处理人',
  `dealmsg` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '处理说明',
  `auditstatus` tinyint(4) NULL DEFAULT NULL COMMENT '审核状态: 0-未审核, 1-已审核',
  `audittime` datetime NULL DEFAULT NULL COMMENT '审核时间',
  `auditperson` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '审核人',
  `auditmsg` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '审核意见',
  PRIMARY KEY (`id`) USING BTREE,
  UNIQUE INDEX `idx_warn`(`eventtype`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '取消预警记录表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_applog_warnaction`;
CREATE TABLE `t_applog_warnaction`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '行为ID',
  `action_name` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '行为名称',
  `dept_id` bigint(20) NOT NULL COMMENT '用户部门ID',
  `status` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '状态,0禁用，1启用',
  `illustrate` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '说明',
  `update_user` bigint(20) NOT NULL COMMENT '修改用户',
  `create_user` bigint(20) NOT NULL COMMENT '创建用户',
  `updatetime` datetime NOT NULL COMMENT '修改时间',
  `createtime` datetime NOT NULL COMMENT '创建时间',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `idx_warnaction`(`action_name`, `dept_id`, `create_user`, `createtime`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 11 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '告警行为表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_applog_warnaction_item`;
CREATE TABLE `t_applog_warnaction_item`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '条目ID',
  `action_id` int(11) NOT NULL COMMENT '行为ID',
  `content` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '内容,指对像类型的特征',
  `type` varchar(12) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '类型：mail(邮件) sms（短信）',
  `update_user` bigint(20) NOT NULL COMMENT '修改用户',
  `create_user` bigint(20) NOT NULL COMMENT '创建用户',
  `updatetime` datetime NOT NULL COMMENT '修改时间',
  `createtime` datetime NOT NULL COMMENT '创建时间',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `idx_warnation_item`(`action_id`, `create_user`, `createtime`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 45 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '告警行为条目' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_archive_system`;
CREATE TABLE `t_archive_system`  (
  `id` int(10) UNSIGNED NOT NULL AUTO_INCREMENT COMMENT '主键id',
  `archive_name` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '备案名称',
  `ods_code` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT 'ODS唯一标识',
  `dept` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '归属部门',
  `affi_dept` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '归属中心 (归属中心有可能是部门的下面一级部门)',
  `affi_unit` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '归属网络/系统单元',
  `decl_level` varchar(8) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '工信部申报等级',
  `decl_account` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '申报使用的账号',
  `report_submit` varchar(8) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '是否提交风险评估报告',
  `report_submit_date` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '报告提交日期',
  `report_prep_date` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '报告编制日期',
  `deleted` int(11) NOT NULL DEFAULT 0 COMMENT '是否删除（0-未删除，1-已删除）',
  `create_time` datetime NOT NULL COMMENT '创建时间',
  `update_time` datetime NOT NULL COMMENT '更新时间',
  `soc_id` varchar(500) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '定级备案唯一标识（定级备案名称MD5）',
  `dept_code` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '部门编码',
  `comp_overseas_rcv` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '出境接收方',
  `system_type` tinyint(4) NULL DEFAULT NULL COMMENT '系统类型 1-生产系统，2-运维系统，3-管理系统，4-业务支撑系统，5-安全保障系统，99-其他',
  `has_out_risk` int(11) NULL DEFAULT NULL COMMENT '是否有出境数据;0-无，1-有',
  `security_management` varchar(400) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '数据安全管理制度',
  `comp_overseas_mode` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '出境方式',
  `major_id` tinyint(4) NULL DEFAULT NULL COMMENT '所属专业 1-IT网，2-无线，3-接入网，4-核心网，5-WLAN，6-线路，7-动环，8-ICT，9-安全，10-传输，11-数据，12-业务平台，99-其他',
  `department_group` int(1) NULL DEFAULT NULL COMMENT '主管部门条线 0-无，1-市场条线，2-客服条线，3-云网条线，4-政企条线，5-渠道条线，6-网信安条线',
  `security_level` int(1) NULL DEFAULT NULL COMMENT '网络安全等级保护情况 0-未定级，1-一级，2-二级，3-三级，4-四级',
  `assign_id` varchar(500) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '被指派用户id(,隔开)',
  `source` int(11) NOT NULL DEFAULT 1 COMMENT '数据来源 0-soc同步 1-手动添加',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 310 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '定级备案系统' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_archive_system_mapping`;
CREATE TABLE `t_archive_system_mapping`  (
  `id` int(10) UNSIGNED NOT NULL AUTO_INCREMENT COMMENT '主键id',
  `archive_sys_id` int(11) NULL DEFAULT NULL COMMENT '定级备案系统ID (t_archive_system)',
  `sys_id` bigint(20) NULL DEFAULT NULL COMMENT '业务系统ID',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 650 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '业务系统和定级备案系统关联表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_asset_account_asset`;
CREATE TABLE `t_asset_account_asset`  (
  `id` bigint(20) NOT NULL COMMENT '主键id',
  `account` varchar(32) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '账号',
  `type` varchar(32) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '账号类型0-数据库2-应用',
  `source_addr` varchar(128) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '应用/数据库地址',
  `source` int(11) NULL DEFAULT NULL COMMENT '来源0-手动 1-nsoc 2-dpi 3-自主扫描',
  `owner_status` varchar(32) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '归属情况0-未归属1-已归属',
  `find_time` datetime NULL DEFAULT NULL COMMENT '发现时间',
  `dept_id` bigint(20) NULL DEFAULT NULL COMMENT '归属部门',
  `system_id` bigint(20) NULL DEFAULT NULL COMMENT '归属业务系统',
  `CREATED_BY` varchar(32) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '创建人',
  `CREATED_TIME` datetime NULL DEFAULT NULL COMMENT '创建时间',
  `UPDATED_BY` varchar(32) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '更新人',
  `UPDATED_TIME` datetime NULL DEFAULT NULL COMMENT '更新时间',
  `charge_user_id` bigint(20) NULL DEFAULT NULL COMMENT '认领责任人',
  `isDelete` char(1) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT '0' COMMENT '是否删除，0未删除，1删除',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_unicode_ci COMMENT = '账号资产表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_asset_api_asset`;
CREATE TABLE `t_asset_api_asset`  (
  `id` bigint(20) NOT NULL COMMENT '编号',
  `api_name` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '接口名',
  `url` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '请求路径',
  `method` varchar(10) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '请求方式（POST..）',
  `protocol` char(2) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '1-http，2-https，3-Ftp，4-Sftp，99-其它',
  `source` tinyint(4) NULL DEFAULT NULL COMMENT '来源（0-手动添加，1-端口扫描，2-dpi）',
  `request_labels` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '请求敏感识别字段（|隔开）',
  `request_body` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '（最新）请求报文内容',
  `request_sensitive_content` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '请求敏感字段',
  `response_labels` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '响应敏感识别字段（|隔开）',
  `response_body` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '（最新）响应报文内容',
  `response_sensitive_content` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '响应敏感字段',
  `create_time` datetime NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `update_time` datetime NULL DEFAULT CURRENT_TIMESTAMP COMMENT '更新时间',
  `is_deleted` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT '0' COMMENT '是否删除，0未删除，1删除',
  `api_id` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT 'API唯一标识',
  `host` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '域名',
  `eop_name` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT 'EOP名称',
  `data_level` char(2) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '数据级别;1-一般数据，2-重要数据，3-核心数据',
  `application_class` char(2) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '应用类型;0-未知 1-Web API，2-数据 API，3-SDK-API，4-第三方 API，5-内部 API，6-云 API，7-IoT API，99-其它',
  `personal_info` char(2) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '个人信息;0-无，1-有',
  `transmission_scenario` char(2) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '数据传输场景;1-跨境，2-跨外部主体，3-跨电信内部单位，4-跨本单位系统，5-系统内部间，99-其它',
  `data_encryption_situation` char(2) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '数据加密情况;1-对称加密，2-非对称加密，99-其他',
  `channel_encryption_situation` char(2) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '通道加密情况;0-未加密，1-已加密',
  `api_authentication_method` char(2) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '接口认证方式;1-API KEY 签名认证，2-Token认证，3-数字证书认证，4-其他',
  `api_call_status` char(2) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '接口调用状态;0-无，1-高活跃，2-低活跃，3-失活，4-复活，99-其他',
  `api_type` char(2) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '接口类型;1-普通接口，2-服务接口，3-人机接口，4-登录接口，5-对外接口，6-跨境接口，7-文件上传接口，8-文件下载接口，99-其他',
  `is_sensitivity` char(2) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '是否涉敏;0-否，1-是',
  `use_type` char(2) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '接口用途;1-生产；2-测试;99-其他',
  `implement_type` char(2) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '接口实现方式;1:Restful 2:GraphQL 3:Soap 4:Dubbo 5:Xml-RPC 6:Json-RPC 7:gRPC 8:WebSocket 99:其它',
  `request_data` int(11) NULL DEFAULT NULL COMMENT '接口流出的数据量，按天计算日均值单位GB',
  `security_capability` char(20) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '系统已具备的安全防护能力1-身份认证，2-访问控制，3-安全网关，4-风险检测，5-敏感数据识别，6-异常行为拦截，99-其他 多种能力以“,”进行合并，例如具备了身份认证和访问控制，则值为”1,2”',
  `report_status` tinyint(4) NULL DEFAULT 0 COMMENT '上报状态: 0-未上报, 1-成功, 2-失败',
  `is_claim` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '0' COMMENT '是否认领（0-否，1-是，2-已忽略）',
  `system_id` bigint(20) NULL DEFAULT NULL COMMENT '归属业务系统',
  `dept_id` bigint(20) NULL DEFAULT NULL COMMENT '归属部门',
  `dept_user` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '归属部门负责人',
  `dept_user_phone` bigint(20) NULL DEFAULT NULL COMMENT '归属部门负责人电话',
  `dept_business_id` bigint(20) NULL DEFAULT NULL COMMENT '业务部门',
  `dept_business_user` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '业务部门负责人',
  `dept_business_user_phone` bigint(20) NULL DEFAULT NULL COMMENT '业务部门负责人号码',
  `dept_maintenance_id` bigint(20) NULL DEFAULT NULL COMMENT '维护部门',
  `dept_maintenance_user` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '维护部门负责人',
  `dept_maintenance_user_phone` bigint(20) NULL DEFAULT NULL COMMENT '维护部门负责人号码',
  `claim_time` datetime NULL DEFAULT NULL COMMENT '认领时间',
  `dept_user_email` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '归属部门负责人邮箱',
  `dept_business_user_email` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '业务部门负责人邮箱',
  `dept_maintenance_user_email` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '维护部门负责人邮箱',
  `ignore_reason` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '忽略原因',
  `is_audit` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '0' COMMENT '是否稽核（0-否，1-是）',
  `data_class` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '数据类别;多个用,分隔',
  `sensitivity_level` tinyint(4) NULL DEFAULT NULL COMMENT '敏感级别',
  `discover_time` datetime NULL DEFAULT NULL COMMENT '接口发现时间',
  `ip` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT 'ip',
  `all_integrity` double(6, 2) NULL DEFAULT NULL COMMENT '全部字段完整度',
  `require_integrity` double(6, 2) NULL DEFAULT NULL COMMENT '必填字段完整度',
  `recommendation_bus_id` bigint(20) NULL DEFAULT NULL COMMENT '推荐业务系统id',
  PRIMARY KEY (`id`) USING BTREE,
  UNIQUE INDEX `uniq_api`(`api_name`, `url`, `api_id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '应用接口资产表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_asset_api_asset_audit`;
CREATE TABLE `t_asset_api_asset_audit`  (
  `id` bigint(20) NOT NULL COMMENT '编号',
  `type` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '敏感字段信息类型 响应/请求',
  `content` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '敏感字段',
  `labels_new` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '敏感字段标签(稽核后)',
  `labels_raw` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '敏感字段标签(稽核前、原始)',
  `create_time` datetime NULL DEFAULT CURRENT_TIMESTAMP COMMENT '稽核时间',
  `create_user` bigint(20) NULL DEFAULT NULL COMMENT '创建人',
  `api_id` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT 'API唯一标识',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '应用接口资产稽核记录表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_asset_api_asset_history`;
CREATE TABLE `t_asset_api_asset_history`  (
  `id` bigint(20) NOT NULL COMMENT '编号',
  `api_id` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT 't_asset_api_asset表主键',
  `request_labels` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '请求敏感识别字段（|隔开）',
  `request_body` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '（最新）请求报文内容',
  `request_sensitive_content` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '请求敏感字段',
  `response_labels` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '响应敏感识别字段（|隔开）',
  `response_body` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '（最新）响应报文内容',
  `response_sensitive_content` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '响应敏感字段',
  `source` char(2) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '0' COMMENT '来源 0-流数 1-稽核',
  `create_time` datetime NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `update_time` datetime NULL DEFAULT CURRENT_TIMESTAMP COMMENT '更新时间',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '应用接口资产历史记录表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_asset_api_asset_history_new`;
CREATE TABLE `t_asset_api_asset_history_new`  (
  `id` bigint(20) NOT NULL COMMENT '编号',
  `api_id` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT 't_asset_api_asset表主键',
  `labels` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '敏感识别字段（|隔开）',
  `body` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '（最新）报文内容',
  `sensitive_content` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '敏感字段',
  `source` char(2) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '0' COMMENT '来源 0-流数 1-稽核',
  `create_time` datetime NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `update_time` datetime NULL DEFAULT CURRENT_TIMESTAMP COMMENT '更新时间',
  `type` tinyint(11) NOT NULL COMMENT '0-请求 1-响应',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '应用接口资产历史记录表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_asset_api_security_risks`;
CREATE TABLE `t_asset_api_security_risks`  (
  `id` bigint(20) NOT NULL COMMENT '主键',
  `api_id` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT 'API唯一标识',
  `is_involved_important_and_core` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '是否涉及重要数据和核心数据;0-否，1-是',
  `is_involved_personal_info` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '是否涉及用户个人信息;0-否，1-是',
  `is_involved_exposure` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '是否涉及互联网暴露面;0-否，1-是',
  `is_involved_partners` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '是否涉及合作方;0-否，1-是',
  `is_exist_weak_password` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '是否存在弱口令;0-否，1-是',
  `is_exist_data_exiting` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '是否存在数据出境;0-否，1-是',
  `is_encrypt_transmission` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '是否加密传输;0-否，1-是',
  `security_capability` char(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '系统已具备的安全防护能力;1-身份认证，2-访问控制，3-安全网关，4-风险检测，5-敏感数据识别，6-异常行为拦截，99-其他 多种能力以“,”进行合并，例如具备了身份认证和访问控制，则值为”1,2”',
  `is_regular_audits` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '是否定期开展接口日志审计;0-否，1-是',
  `is_abnormal_behavior` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '是否发现异常操作行为（若有请具体描述异常行为）',
  `rectification_status` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '整改完成情况及整改措施',
  `batch_id` varchar(10) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '整改任务id;格式yyyymmdd',
  `report_status` tinyint(4) NULL DEFAULT 0 COMMENT '上报状态: 0-未上报, 1-成功, 2-失败',
  `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
  PRIMARY KEY (`id`, `batch_id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '应用接口安全风险信息表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_asset_api_visit`;
CREATE TABLE `t_asset_api_visit`  (
  `id` bigint(20) NOT NULL COMMENT '主键',
  `api_id` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT 'API唯一标识',
  `visits` int(11) NOT NULL COMMENT '接口访问次数',
  `report_time` int(11) NOT NULL COMMENT '上报时间',
  `report_status` tinyint(4) NULL DEFAULT 0 COMMENT '上报状态: 0-未上报, 1-成功, 2-失败',
  `update_time` datetime NULL DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
  PRIMARY KEY (`id`, `api_id`, `report_time`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '应用接口访问' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_asset_app_asset`;
CREATE TABLE `t_asset_app_asset`  (
  `id` bigint(20) NOT NULL COMMENT '编号',
  `app_code` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '应用标识',
  `name` varchar(30) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '应用名',
  `address` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '应用地址',
  `source` tinyint(4) NULL DEFAULT NULL COMMENT '来源（0-手动添加，1-端口扫描，2-dpi）',
  `api_num` int(11) NULL DEFAULT NULL COMMENT '接口数量',
  `system_id` bigint(20) NULL DEFAULT NULL COMMENT '归属业务系统',
  `dept_id` bigint(20) NULL DEFAULT NULL COMMENT '归属部门',
  `dept_business_id` bigint(20) NULL DEFAULT NULL COMMENT '业务部门',
  `dept_maintenance_id` bigint(20) NULL DEFAULT NULL COMMENT '维护部门',
  `create_time` datetime NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `update_time` datetime NULL DEFAULT CURRENT_TIMESTAMP COMMENT '更新时间',
  `is_deleted` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT '0' COMMENT '是否删除，0未删除，1删除',
  `dept_user` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '归属部门负责人;',
  `dept_user_phone` bigint(20) NULL DEFAULT NULL COMMENT '归属部门负责人号码;',
  `dept_business_user` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '业务部门负责人;',
  `dept_business_user_phone` bigint(20) NULL DEFAULT NULL COMMENT '业务部门负责人号码;',
  `dept_maintenance_user` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '维护部门负责人;',
  `dept_maintenance_user_phone` bigint(20) NULL DEFAULT NULL COMMENT '维护部门负责人号码;',
  PRIMARY KEY (`id`, `app_code`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '应用资产表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_asset_app_interface_asset`;
CREATE TABLE `t_asset_app_interface_asset`  (
  `id` bigint(20) NOT NULL COMMENT '编号',
  `name` varchar(128) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '应用名称',
  `url` varchar(32) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '接口链接',
  `ip` varchar(32) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '接口ip',
  `port` varchar(32) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '接口端口',
  `protocol` int(11) NULL DEFAULT NULL COMMENT '接口协议0-http,1-https,2-webservice,3-tcp,4-udp',
  `memo` varchar(32) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '接口描述',
  `method` int(11) NULL DEFAULT NULL COMMENT '请求方式0-post，1-get，3-其他',
  `app_interface_asset_id` varchar(32) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '归属应用',
  `source` int(11) NULL DEFAULT NULL COMMENT '来源0-探针扫描，1-策略扫描',
  `CREATED_BY` varchar(32) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '创建人',
  `CREATED_TIME` datetime NULL DEFAULT NULL COMMENT '创建时间',
  `UPDATED_BY` varchar(32) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '更新人',
  `UPDATED_TIME` datetime NULL DEFAULT NULL COMMENT '更新时间',
  `sen_level` int(11) NULL DEFAULT NULL COMMENT '敏感类型：1-敏感数据，2-较敏感数据，3-低敏感数据，4-内部公开数据',
  `isDelete` char(1) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT '0' COMMENT '是否删除，0未删除，1删除',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_unicode_ci COMMENT = '应用接口资产表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_asset_asset_find_statistics`;
CREATE TABLE `t_asset_asset_find_statistics`  (
  `id` bigint(20) NOT NULL COMMENT '编号',
  `cur_date` varchar(32) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '日期(yyyy-MM-dd)',
  `strategy_type` int(11) NULL DEFAULT NULL COMMENT '策略类型0-ip/ip+端口扫描1-SOC同步2-Agent同步3-流量采集4-4A同步',
  `num` int(11) NULL DEFAULT NULL COMMENT '同步数量',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `cur_date and strategy_type_Index`(`cur_date`, `strategy_type`) USING BTREE COMMENT 'cur_date，strategy_type的组合索引'
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_unicode_ci COMMENT = '数据资产发现统计表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_asset_charcteristic_scope`;
CREATE TABLE `t_asset_charcteristic_scope`  (
  `id` bigint(20) NOT NULL COMMENT '编号',
  `scope_id` bigint(20) NULL DEFAULT NULL COMMENT '作用域值',
  `scope_name` varchar(255) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '作用域名称',
  `scope` char(1) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '生效范围0-全局1-业务系统2-数据库',
  `parent_scope_id` bigint(20) NULL DEFAULT NULL COMMENT '父级作用域',
  `dept_id` bigint(20) NULL DEFAULT NULL COMMENT '归属部门',
  `charge_user_id` bigint(20) NULL DEFAULT NULL COMMENT '责任人',
  `isDelete` char(1) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT '0' COMMENT '是否删除，0未删除，1删除',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_unicode_ci COMMENT = '分类分级特征作用域表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_asset_classify_group_result`;
CREATE TABLE `t_asset_classify_group_result`  (
  `id` bigint(20) NOT NULL COMMENT '标识',
  `statistics_type` tinyint(4) NOT NULL COMMENT '统计类型;统计类型-字典：0-系统视图，1- 管理部门视图，2-业务部门视图，3-维护部门视图',
  `depart_name` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT '名称;对应系统/部门名称',
  `manager_name` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '责任人',
  `report_id` bigint(20) NOT NULL COMMENT '报表配置ID',
  `archive_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '定级备案系统名称',
  `decl_level` varchar(8) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '定级备案情况',
  `total_db` int(22) NULL DEFAULT 0 COMMENT '数据库/文件系统总量',
  `classify_num` int(22) NULL DEFAULT 0 COMMENT '已分类分级资产数量',
  `unclassify_num` int(22) NULL DEFAULT 0 COMMENT '未分类分级资产数量',
  `rate` int(22) NULL DEFAULT 0 COMMENT '进度',
  `sub_total` int(22) NULL DEFAULT 0 COMMENT '字段/文件总量',
  `unrecognized_num` int(22) NULL DEFAULT 0 COMMENT '未识别字段/文件数量',
  `normal_num` int(22) NULL DEFAULT 0 COMMENT '一般数据字段/文件数量',
  `important_num` int(22) NULL DEFAULT 0 COMMENT '重要数据字段/文件数量',
  `core_num` int(22) NULL DEFAULT 0 COMMENT '核心数据字段/文件数量',
  `asset_type` tinyint(4) NOT NULL COMMENT '统计类型;统计类型-字典：0-数据库资产，1- 文件系统资产',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '组装分级分类情况数据' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_asset_data_resource_scan_task`;
CREATE TABLE `t_asset_data_resource_scan_task`  (
  `ID` bigint(20) NOT NULL COMMENT '编号',
  `NAME` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '任务名',
  `SCAN_TYPE` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '扫描类型0-端口扫描 1-SOC同步 2-AGENT同步 3-4A同步',
  `IP_TYPE` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT 'IP格式类型0-单个ip、1-IP段、2-连续ip、3-多个IP',
  `IP` varchar(256) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT 'IP段',
  `PORT` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '端口段',
  `URL` varchar(256) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '同步地址',
  `SCAN_WAY` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '扫描方式 0-单次扫描 1-周期扫描',
  `SCAN_STATUS` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '扫描状态 0-未执行 1-执行中 3-执行完成',
  `LAST_SCAN_TIME` datetime NULL DEFAULT NULL COMMENT '上次扫描时间',
  `EXEC_TIME` datetime NULL DEFAULT NULL COMMENT '单次扫描执行时间',
  `EXEC_NUM` int(11) NULL DEFAULT NULL COMMENT '周期执行时长',
  `EXEC_UNIT` int(11) NULL DEFAULT NULL COMMENT '周期执行单位 0-天   2-月',
  `CREATED_BY` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '创建人',
  `CREATED_TIME` datetime NULL DEFAULT NULL COMMENT '创建时间',
  `UPDATED_BY` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '更新人',
  `UPDATED_TIME` datetime NULL DEFAULT NULL COMMENT '更新时间',
  `PERIOD_TIME` int(11) NULL DEFAULT NULL COMMENT '周期时间',
  `DEPART_ID` bigint(20) NULL DEFAULT NULL COMMENT '部门ID',
  `isDelete` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT '0' COMMENT '是否删除，0未删除，1删除',
  PRIMARY KEY (`ID`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '数据资源扫描任务' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_asset_data_sign`;
CREATE TABLE `t_asset_data_sign`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键id',
  `data_sign_name` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '数据标记名称',
  `create_time` datetime NOT NULL COMMENT '创建时间',
  `priority` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '优先级',
  `deleted` tinyint(4) NULL DEFAULT 0 COMMENT '逻辑删除',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 4 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '数据标记表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_asset_data_sign_details`;
CREATE TABLE `t_asset_data_sign_details`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键id',
  `data_sign_id` int(11) NOT NULL COMMENT '数据标记id',
  `type` tinyint(4) NOT NULL COMMENT '标记类型： 0-业务系统 1-标签sensitive_code(t_asset_sensitive_characteristic中)',
  `relation_id` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '关联id',
  `deleted` tinyint(4) NULL DEFAULT 0 COMMENT '逻辑删除 0-未删除 1-已删除',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 3089 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '数据标记详情表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_asset_db_change_pwd`;
CREATE TABLE `t_asset_db_change_pwd`  (
  `id` bigint(20) NOT NULL COMMENT 'id',
  `task_id` bigint(20) NOT NULL COMMENT '扫描任务id',
  `result` int(11) NOT NULL COMMENT '改密结果 0-失败 1-成功',
  `msg` varchar(255) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '结果描述',
  `create_time` datetime NULL DEFAULT NULL COMMENT '创建时间'
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '数据库资产自动改密记录' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_asset_dbsql_audit`;
CREATE TABLE `t_asset_dbsql_audit`  (
  `id` bigint(20) NOT NULL COMMENT '编号',
  `task_id` bigint(20) NOT NULL COMMENT '策略标志',
  `create_user_id` bigint(20) NOT NULL COMMENT '策略创建用户',
  `exec_sql` text CHARACTER SET utf8 COLLATE utf8_unicode_ci NOT NULL COMMENT '执行语句',
  `exec_time` datetime NULL DEFAULT NULL COMMENT '执行时间',
  `deal_way` int(11) NULL DEFAULT NULL COMMENT '处理方式(0-拦截1-审计)',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_unicode_ci COMMENT = '分类分级程序执行数据库命令审计表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_asset_descovery`;
CREATE TABLE `t_asset_descovery`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键',
  `ip` varchar(24) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '服务器IP',
  `port` int(11) NULL DEFAULT NULL COMMENT '端口',
  `source_type` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '资源类型',
  `version` varchar(24) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '资源版本',
  `source_name` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '资源名',
  `source` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '来源,0-手动 1-nsoc 2-dpi',
  `is_delete` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '0表示未删除，1表示删除',
  `createtime` datetime NULL DEFAULT NULL COMMENT '创建时间',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `idx_asset_descovery`(`ip`, `port`, `createtime`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 1 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '资产发现表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_asset_discovery_app`;
CREATE TABLE `t_asset_discovery_app`  (
  `id` bigint(20) NOT NULL COMMENT '主键',
  `app_code` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '应用标识',
  `address` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '服务器地址',
  `name` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '应用名称',
  `source` tinyint(4) NOT NULL COMMENT '来源（0-手动添加，1-端口扫描，2-dpi）',
  `is_claim` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '0' COMMENT '是否认领（0-否，1-是）',
  `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `claim_time` datetime NULL DEFAULT NULL COMMENT '认领时间',
  PRIMARY KEY (`id`, `app_code`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = 'app认领表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_asset_discovery_configuration`;
CREATE TABLE `t_asset_discovery_configuration`  (
  `id` bigint(20) NOT NULL COMMENT '主键',
  `rule_name` varchar(50) CHARACTER SET utf8 COLLATE utf8_unicode_ci NOT NULL COMMENT '规则名称',
  `asset_type` varchar(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '资产类型',
  `effective_status` int(11) NOT NULL DEFAULT 0 COMMENT '是否生效（0-开启，1-关闭）',
  `creator` bigint(20) NOT NULL COMMENT '创建者',
  `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `update_time` datetime NULL DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP COMMENT '修改时间',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '资产类型识别规则配置表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_asset_discovery_rule`;
CREATE TABLE `t_asset_discovery_rule`  (
  `id` bigint(20) NOT NULL COMMENT '主键',
  `configId` bigint(20) NOT NULL COMMENT '资产类型识别配置表Id',
  `rule_type` int(11) NOT NULL DEFAULT 0 COMMENT '规则类型（0-端口匹配，1-正则匹配）',
  `rule_content` text CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '规则内容',
  `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `update_time` datetime NULL DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP COMMENT '修改时间',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '资产类型识别规则详情表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_asset_discovery_server`;
CREATE TABLE `t_asset_discovery_server`  (
  `id` bigint(20) NOT NULL COMMENT '主键',
  `ip` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '服务器ip',
  `port` int(11) NOT NULL COMMENT '端口',
  `server_type` tinyint(4) NULL DEFAULT NULL COMMENT '服务器类型(0-db,1-文件系统)',
  `asset_type` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '资产类型（1-mysql，2-oracle...-ftp,-sftp）',
  `scheme` varchar(30) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '实例名',
  `source` tinyint(4) NULL DEFAULT NULL COMMENT '来源（0-手动添加，1-端口扫描，2-dpi）',
  `is_claim` int(11) NULL DEFAULT 0 COMMENT '是否认领（0-否，1-是）',
  `create_time` datetime NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `claim_time` datetime NULL DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP COMMENT '认领时间',
  `is_ignore` tinyint(4) NULL DEFAULT 0 COMMENT '是否忽略（0-未忽略  1-已忽略）',
  `task_id` bigint(20) NULL DEFAULT NULL COMMENT '资产发现扫描的任务id',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '资产认领表(db、文件系统)' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_asset_file_asset`;
CREATE TABLE `t_asset_file_asset`  (
  `id` bigint(20) NOT NULL COMMENT '编号',
  `file_name` varchar(128) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '文件夹/文件名称',
  `type` int(11) NULL DEFAULT NULL COMMENT '类型（1-文件夹，2-文件）',
  `parent_id` bigint(20) NULL DEFAULT NULL COMMENT '父节点',
  `owner_status` int(11) NULL DEFAULT NULL COMMENT '归属情况0-未归属1-已归属',
  `file_path` varchar(1024) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '文件路径',
  `memo` varchar(512) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '描述',
  `system_id` bigint(20) NULL DEFAULT NULL COMMENT '归属业务系统',
  `dept_id` bigint(20) NULL DEFAULT NULL COMMENT '归属部门',
  `host_addr` varchar(32) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '所在主机物理地址',
  `host_ip` varchar(256) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '所在主机IP',
  `source` int(11) NULL DEFAULT NULL COMMENT '数据来源0-探针发现1-策略扫描',
  `VALID_TAG` int(11) NOT NULL DEFAULT 1 COMMENT '有效标志：0-无效，1-有效 ',
  `CREATED_BY` varchar(32) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '创建人',
  `CREATED_TIME` datetime NULL DEFAULT NULL COMMENT '创建时间',
  `UPDATED_BY` varchar(32) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '更新人',
  `UPDATED_TIME` datetime NULL DEFAULT NULL COMMENT '更新时间',
  `report_status` tinyint(4) NULL DEFAULT 0 COMMENT '上报状态: 0-未上报, 1-成功, 2-失败',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_unicode_ci COMMENT = '文件资产表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_asset_file_asset_new`;
CREATE TABLE `t_asset_file_asset_new`  (
  `id` bigint(20) UNSIGNED NOT NULL AUTO_INCREMENT COMMENT '编号',
  `asset_discovery_id` bigint(20) NULL DEFAULT NULL COMMENT '数据发现ID',
  `system_id` bigint(20) UNSIGNED NOT NULL COMMENT '系统ID',
  `ip` varchar(24) CHARACTER SET utf8 COLLATE utf8_unicode_ci NOT NULL COMMENT '服务器IP',
  `port` int(11) NULL DEFAULT NULL COMMENT '端口',
  `protocol` varchar(24) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '协议：ftp，http,nfs',
  `path` varchar(128) CHARACTER SET utf8 COLLATE utf8_unicode_ci NOT NULL COMMENT '路径',
  `source` char(1) CHARACTER SET utf8 COLLATE utf8_unicode_ci NOT NULL COMMENT '来源,0-手动 1-nsoc 2-dpi',
  `report_status` tinyint(4) NULL DEFAULT 0 COMMENT '上报状态: 0-未上报, 1-成功, 2-失败',
  `approval_need` char(1) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT '0' COMMENT '是否需要审核 0-需要 1-不需要',
  `discovery_time` datetime NULL DEFAULT NULL COMMENT '发现时间',
  `create_user` bigint(20) NOT NULL COMMENT '创建人ID',
  `update_user` bigint(20) NOT NULL COMMENT '修改人ID',
  `updatetime` datetime NOT NULL COMMENT '修改时间',
  `createtime` datetime NOT NULL COMMENT '创建时间',
  `task_status` char(1) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT '0' COMMENT '扫描任务状态 0-未扫描 1-已扫描 2-连接异常',
  `connect_status` char(1) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT '0' COMMENT '连接状态 0-待连接 1-可连接 2-无法连接',
  `size` bigint(20) NULL DEFAULT 0 COMMENT '文件系统大小byte',
  `kerberos_tag` int(11) NULL DEFAULT NULL COMMENT 'Kerberos认证 1是0否',
  `type` varchar(16) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '资源类型',
  `principal` varchar(255) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT 'principal',
  `isDelete` char(1) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT '0' COMMENT '是否删除，0未删除，1删除',
  `cluster_name` varchar(255) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '集群名称',
  `cluster_code` varchar(255) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '集群标识',
  `host_ip` varchar(255) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '主机域名/IP',
  `host_port` int(11) NULL DEFAULT NULL COMMENT '主机端口',
  `host_opsystem` varchar(255) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '主机操作系统',
  `extra_info` varchar(255) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '补充信息',
  `asset_name` varchar(255) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '资产名称',
  `version` varchar(255) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '版本号',
  `asset_level` int(11) NULL DEFAULT 0 COMMENT '敏感级别 0-未识别 1-1级 2-2级 3-3级 4-4级，默认为0',
  `asset_important` int(11) NULL DEFAULT 0 COMMENT '数据级别 0-未识别 1-一般数据 2-重要数据 3-核心数据',
  `security_capability` varchar(255) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT '99' COMMENT '安全防护能力覆盖',
  `soc_id` varchar(500) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT 'soc资产id',
  `is_completion` char(1) CHARACTER SET utf8 COLLATE utf8_unicode_ci NOT NULL DEFAULT '1' COMMENT '数据是否补全 0-未补全 1-已补全',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `idx_system_id`(`system_id`) USING BTREE,
  INDEX `idx_ip`(`ip`) USING BTREE,
  INDEX `idx_port`(`port`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 1823254134443323395 CHARACTER SET = utf8 COLLATE = utf8_unicode_ci COMMENT = '文件资产表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_asset_fj_dept_record_status`;
CREATE TABLE `t_asset_fj_dept_record_status`  (
  `id` bigint(20) NULL DEFAULT NULL COMMENT '标识',
  `dept_id` bigint(20) NULL DEFAULT NULL COMMENT '权限部门ID',
  `first_dept_id` bigint(20) NULL DEFAULT NULL COMMENT '一级部门ID',
  `secord_dept_id` bigint(20) NULL DEFAULT NULL COMMENT '二级部门ID',
  `status` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '完成情况0-未完成1-已完成'
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '部门备案状态记录 部门备案状态记录' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_asset_fj_systeminfo_log`;
CREATE TABLE `t_asset_fj_systeminfo_log`  (
  `id` bigint(20) NOT NULL COMMENT '标志',
  `dept_name` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '一级部门名',
  `first_dept_id` bigint(20) NULL DEFAULT NULL COMMENT '一级部门id',
  `second_dept_name` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '二级部门名',
  `second_dept_id` bigint(20) NULL DEFAULT NULL COMMENT '二级部门id',
  `system_id` bigint(20) NULL DEFAULT NULL COMMENT '业务系统ID',
  `system_name` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '业务系统名称',
  `update_user_id` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '更新人',
  `update_time` datetime NULL DEFAULT NULL COMMENT '更新时间',
  `update_info` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '更新项目',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '业务系统备案信息变更记录表 ' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_asset_fj_systeminfo_record`;
CREATE TABLE `t_asset_fj_systeminfo_record`  (
  `id` bigint(20) NOT NULL COMMENT '标识',
  `company_name` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '单位名称',
  `dept_id` bigint(20) NULL DEFAULT NULL COMMENT '权限部门字段',
  `first_dept_id` bigint(20) NULL DEFAULT NULL COMMENT '一级部门',
  `secord_dept_id` bigint(20) NULL DEFAULT NULL COMMENT '二级部门',
  `system_id` bigint(20) NULL DEFAULT NULL COMMENT '业务系统',
  `jbqk_sjlj` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '基本情况-数据量级（TB）',
  `jbqk_rjzl` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '基本情况-日均增量（TB）',
  `slqk_sjyhsl` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '用户数据梳理情况-涉及用户数量',
  `slqk_yhsl` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '用户数据梳理情况-用户数量（计算后)',
  `slqk_jia` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '用户数据梳理情况-家（计算后)',
  `slqk_sjlj` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '用户数据梳理情况-数据量级/（TB）',
  `slqk_rjzl` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '用户数据梳理情况-日均增量/（TB）',
  `slqk_sjly_yhtg` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '用户数据梳理情况-数据来源-用户提供/（TB',
  `slqk_sjly_wbhq` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '用户数据梳理情况-数据来源-外部获取（合作共享、购买等）/（TB）',
  `slqk_sjly_hlwpc` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '用户数据梳理情况-数据来源-互联网爬虫/（TB）',
  `slqk_sjly_scyyzcs` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '用户数据梳理情况-数据来源-生产运营中产生/（TB）',
  `slqk_sjly_tjfxjg` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '用户数据梳理情况-数据来源-统计分析结果/（TB',
  `slqk_sjly_qt` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '用户数据梳理情况-数据来源-其他（请具体说明）/（TB）',
  `slqk_ccwz_zxyw` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '用户数据梳理情况-数据存储位置-自行运维管理云平台/（TB）',
  `slqk_ccwz_dsfypt` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '用户数据梳理情况-数据存储位置-第三方云平台/（TB）',
  `slqk_ccwz_wljf` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '用户数据梳理情况-数据存储位置-物理机房/（TB）(指非云化的传统物理机房)',
  `slqk_ccwz_qt` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '用户数据梳理情况-数据存储位置-其他（请具体说明）/（TB）',
  `slqk_sjsyqk_ywyy` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '用户数据梳理情况-数据使用情况-业务运营',
  `slqk_sjsyqk_yhff` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '用户数据梳理情况-数据使用情况-用户服务',
  `slqk_sjsyqk_gxhfw` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '用户数据梳理情况-数据使用情况-个性化服务（如用户画像、消费行为分析等）',
  `slqk_sjsyqk_dwtg` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '用户数据梳理情况-数据使用情况-对外提供(如出售、委托、共享等)',
  `slqk_sjsyqk_yjfx` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '用户数据梳理情况-数据使用情况-研究分析（如市场研究、宏观分析、报告产出等）',
  `slqk_sjsyqk_yxgbmlcyq` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '用户数据梳理情况-数据使用情况-应相关部门留存要求',
  `slqk_sjsyqk_qt` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '用户数据梳理情况-数据使用情况-其他（请具体说明）',
  `qtsj_whsj_sjlj` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '其他主要数据类别梳理情况-网络与系统的建设与运行维护类数据-数据量级/',
  `qtsj_whsj_rjzl` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '其他主要数据类别梳理情况-网络与系统的建设与运行维护类数据-日均增量/（TB',
  `qtsj_ywyy_sjlj` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '其他主要数据类别梳理情况-业务运营类数据-数据量级/ （TB）',
  `qtsj_ywyy_rjzl` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '其他主要数据类别梳理情况-业务运营类数据日均增量/（TB)',
  `qtsj_qygl_sjlj` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '其他主要数据类别梳理情况企业管理数据-数据量级/（TB）',
  `qtsj_qygl_rjzl` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '其他主要数据类别梳理情况企业管理数据-日均增量/（TB)',
  `qtsj_qtsj_sjlj` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '其他主要数据类别梳理情况-其他数据-数据量级/（TB）',
  `qtsj_qtsj_rjzl` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '其他主要数据类别梳理情况-其他数据-日均增量/（TB)',
  `zysj_sjlj` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '重要数据梳理情况-数据量级/ （TB）',
  `zysj_rjzl` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '重要数据梳理情况-日均增量/ （TB）',
  `zysj_sjlb_jsyx` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '重要数据梳理情况-数据类别-网络与系统的建设与运行维护类/（TB）',
  `zysj_sjlb_ywyl` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '重要数据梳理情况-数据类别-业务运营类/（TB）',
  `zysj_sjlb_qygl` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '重要数据梳理情况-数据类别-企业管理类/（TB）',
  `zysj_sjlb_qt` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '重要数据梳理情况-数据类别-其他（请具体说明）/（TB）',
  `zysj_sjly_yhtg` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '重要数据梳理情况-数据来源-用户提供/（TB）',
  `zysj_sjly_wbhq` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '重要数据梳理情况-数据来源-外部获取（合作共享、购买等）/（TB）',
  `zysj_sjly_hlwpc` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '重要数据梳理情况-数据来源-互联网爬虫/（TB）',
  `zysj_sjly_scyy` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '重要数据梳理情况-数据来源-生产运营中产生/（TB）',
  `zysj_sjly_tjfx` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '重要数据梳理情况-数据来源-统计分析结果/（TB）',
  `zysj_sjly_qt` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '重要数据梳理情况-数据来源-其他（请具体说明）/（TB）',
  `zysj_sjcc_zglypt` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '重要数据梳理情况-数据存储位置-自行运维管理云平台/ （TB）',
  `zysj_sjcc_dsfypt` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '重要数据梳理情况-数据存储位置-第三方云平台/ （TB）',
  `zysj_sjcc_wljf` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '重要数据梳理情况-数据存储位置-物理机房/ （TB）',
  `zysj_sjcc_qt` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '重要数据梳理情况-数据存储位置-其他/ （TB）（请具体说明）',
  `zysj_sjsy_yxwh` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '重要数据梳理情况-数据使用情况-网络与系统运行维护',
  `zysj_sjsy_wlgh` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '重要数据梳理情况-数据使用情况-网络规划',
  `zysj_sjsy_tzjh` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '重要数据梳理情况-数据使用情况-投资计划',
  `zysj_sjsy_xmgl` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '重要数据梳理情况-数据使用情况-项目管理',
  `zysj_sjsy_aqgl` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '重要数据梳理情况-数据使用情况-安全管理',
  `zysj_sjsy_zdfzzl` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '重要数据梳理情况-数据使用情况-制定发展战略',
  `zysj_sjsy_hycl` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '重要数据梳理情况-数据使用情况-重大决策与重要会议材料',
  `zysj_sjsy_zcjsyf` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '重要数据梳理情况-数据使用情况-支撑技术研发',
  `zysj_sjsy_cwys` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '重要数据梳理情况-数据使用情况-财务预算',
  `zysj_sjsy_scjy` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '重要数据梳理情况-数据使用情况-生产经营',
  `zysj_sjsy_qt` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '重要数据梳理情况-数据使用情况-其他（请具体说明',
  `aqts_wgfwcs` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '企业内部数据安全态势-违规数据批量访问行为次数',
  `aqts_wgczcs` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '企业内部数据安全态势-违规数据批量操作行为次数',
  `aqts_wgxs` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '企业内部数据安全态势-（1）违规形式（内部越权访问、未授权访问、绕行访问、外部攻击非法访问等，可结合企业违规审计策略定义）',
  `aqts_sjslj` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '企业内部数据安全态势-（2）涉及数据量级及类别',
  `aqts_sfljcz` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '企业内部数据安全态势-（3）是否进行拦截处置',
  `aqts_ljczfs` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '企业内部数据安全态势-（4）拦截处置方式',
  `dwjk_sl` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '企业对外数据共享接口-企业对外数据共享接口数量/ （个）',
  `dwjk_lcslzs` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '企业对外数据共享接口-企业通过对外数据共享接口流出数据总量/（TB）',
  `dwjk_sjlj_hsj` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '企业对外数据共享接口-企业通过对外数据共享接口流出各类别数据量级-用户数据/（TB）',
  `dwjk_sjlj_zysj` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '企业对外数据共享接口-企业通过对外数据共享接口流出各类别数据量级-重要数据/（TB）',
  `dwjk_sjlj_ywsj` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '企业对外数据共享接口-企业通过对外数据共享接口流出各类别数据量级-网络与系统的建设与运行维护类数据/（TB）',
  `dwjk_sjlj_yysj` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '企业对外数据共享接口-企业通过对外数据共享接口流出各类别数据量级-业务运营类数据/（TB）',
  `dwjk_sjlj_qyglsj` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '企业对外数据共享接口-企业通过对外数据共享接口流出各类别数据量级-企业管理数据/（TB）',
  `dwjk_sjlj_qtsj` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '企业对外数据共享接口-企业通过对外数据共享接口流出各类别数据量级-其他数据/（TB）',
  `dwjk_lcxs_tjsj` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '企业对外数据共享接口-用户数据对外流出的形式-统计数据/（TB）',
  `dwjk_lcxs_yzsj` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '企业对外数据共享接口-用户数据对外流出的形式-验真数据/（TB）',
  `dwjk_lcxs_bqsj` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '企业对外数据共享接口-用户数据对外流出的形式-标签数据/（TB）',
  `dwjk_lcxs_yssj` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '企业对外数据共享接口-用户数据对外流出的形式-原始数据/（TB）',
  `dwjk_lcxs_qt` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '企业对外数据共享接口-用户数据对外流出的形式-其他（请具体说明）/（TB）',
  `dwjk_lcjsf_zf` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '企业对外数据共享接口-流出数据接收方数量-',
  `dwjk_lcjsf_sydw` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '企业对外数据共享接口-流出数据接收方数量-事业单位 /（个）',
  `dwjk_lcjsf_qy` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '企业对外数据共享接口-流出数据接收方数量-企业/ （个）',
  `dwjk_lcjsf_gr` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '企业对外数据共享接口-流出数据接收方数量-个人/ （个）',
  `dwjk_lcjsf_qt` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '企业对外数据共享接口-流出数据接收方数量-其他/ （个）',
  `dwjk_xzhzfsl` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '企业对外数据共享接口-本季度新增数据共享合作方数量/ （个）',
  `cjll_cjlj_yhsj` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '数据出境流量-涉数据出境数据量级-用户数据/（TB）',
  `cjll_cjlj_zysj` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '数据出境流量-涉数据出境数据量级-重要数据/（TB）',
  `cjll_cjlj_ywsj` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '数据出境流量-涉数据出境数据量级-网络与系统的建设与运行维护类数据/（TB）',
  `cjll_cjlj_ywyysj` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '数据出境流量-涉数据出境数据量级-业务运营类数据/（TB）',
  `cjll_cjlj_qyglsj` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '数据出境流量-涉数据出境数据量级-企业管理数据/（TB）',
  `cjll_cjlj_qtsj` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '数据出境流量-涉数据出境数据量级-其他数据/（TB）',
  `cjll_lcjsfsl_zf` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '数据出境流量-流出数据接收方数量-政府/ （个）',
  `cjll_lcjsfsl_sydw` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '数据出境流量-流出数据接收方数量-事业单位 /（个）',
  `cjll_lcjsfsl_qy` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '数据出境流量-流出数据接收方数量-企业/ （个）',
  `cjll_lcjsfsl_gr` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '数据出境流量-流出数据接收方数量-个人/ （个）',
  `cjll_lcjsfsl_qt` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '数据出境流量-流出数据接收方数量-其他/ （个）',
  `cjll_aqpg_kz` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '数据出境流量-是否需要或已开展数据出境安全评估-已开展',
  `cjll_aqpg_wkz` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '数据出境流量-是否需要或已开展数据出境安全评估-未开展',
  `cjll_aqpg_bsj` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '数据出境流量-是否需要或已开展数据出境安全评估-不涉及数据出境',
  `syjsfs` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '数据类型和使用的技术方式',
  `update_time` datetime NULL DEFAULT NULL COMMENT '修改时间',
  `create_time` datetime NULL DEFAULT NULL COMMENT '创建时间（备案时间）',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '福建业务系统信息备案表 ' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_asset_others`;
CREATE TABLE `t_asset_others`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键id',
  `asset_src_id` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '第三方ID',
  `asset_src_type` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '第三方ID区别标识,比如来源表,用于保证ID不重复,结合asseetSrcId为唯一索引',
  `asset_name` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '资产名称',
  `asset_name_main` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '主资产名称,通常指在4A中的名称',
  `source_from` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '数据来源,如nsoc',
  `asset_type` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '资产类型,device,program',
  `url` varchar(256) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT 'assetType为program时,可能存在url',
  `os_name` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '操作系统名称',
  `os_version` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '操作系统版本',
  `ipv4` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT 'ipv4',
  `ipv6` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT 'ipv6',
  `ports` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '端口,多个时以逗号隔开',
  `service` varchar(24) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '端口服务',
  `asset_class` varchar(24) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '资产类别,如网管设备、台式机、打印机、云桌面等',
  `purpose` varchar(24) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '用途(办公营业、服务器、网络设备等)',
  `department_name` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '资产所属部门名称',
  `company` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '归属单位',
  `security_domain` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '安全域',
  `manager` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '负责人/用户名字',
  `location` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '部署位置,如机房,几号机架第几U等',
  `region` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '所属地市,如福州等',
  `updatetime` datetime NULL DEFAULT NULL COMMENT '修改时间',
  `createtime` datetime NULL DEFAULT NULL COMMENT '创建时间',
  `db_type` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '数据库类型名称',
  PRIMARY KEY (`id`) USING BTREE,
  UNIQUE INDEX `idx_assetother_flag`(`asset_src_id`, `asset_src_type`, `asset_type`) USING BTREE,
  INDEX `idx_assetother`(`asset_src_id`, `asset_src_type`, `asset_name`, `source_from`, `os_name`, `ipv4`, `service`, `department_name`, `manager`, `updatetime`, `createtime`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 1 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '第三方资产表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_asset_record`;
CREATE TABLE `t_asset_record`  (
  `ID` bigint(20) NOT NULL COMMENT '主键',
  `SAVE_TYPE` int(11) NULL DEFAULT NULL COMMENT '保存类型',
  `SYS_ID` bigint(20) NULL DEFAULT NULL COMMENT '业务系统ID',
  `DEPT_ID` bigint(20) NULL DEFAULT NULL COMMENT '部门ID',
  `DATA_SAVE_LIMIT_TIME` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '数据保存期限',
  `DATA_DEAL_TARGET` int(11) NULL DEFAULT NULL COMMENT '数据处理目的',
  `SOURCE_SYS_ID_TAG` int(11) NULL DEFAULT NULL COMMENT '数据来源系统有无1有0无',
  `SOURCE_SYS_ID` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '数据来源系统id用,隔开',
  `TARGET_SYS_ID_TAG` int(11) NULL DEFAULT NULL COMMENT '数据目的系统有无1有0无',
  `TARGET_SYS_ID` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '数据目的系统id用,隔开',
  `SHARE_TRANSFER` int(11) NULL DEFAULT NULL COMMENT '共享转让 1是0否',
  `PUBLIC_DISCLOSURE` int(11) NULL DEFAULT NULL COMMENT '公开披露 1是0否',
  `DATA_EXIT` int(11) NULL DEFAULT NULL COMMENT '数据出境 1是0否',
  `ACQUISITION_PHASE` int(11) NULL DEFAULT NULL COMMENT '采集阶段 1有0无',
  `ACQUISITION_PHASE_TYPE` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '采集阶段类型',
  `TRANSMISSION_PHASE` int(11) NULL DEFAULT NULL COMMENT '传输阶段 1有0无',
  `TRANSMISSION_PHASE_TYPE` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '传输阶段类型',
  `STORAGE_PHASE` int(11) NULL DEFAULT NULL COMMENT '存储阶段 1有0无',
  `STORAGE_PHASE_TYPE` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '存储阶段类型',
  `USE_PHASE` int(11) NULL DEFAULT NULL COMMENT '使用阶段 1有0无',
  `USE_PHASE_TYPE` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '使用阶段类型',
  `SHARING_PHASE` int(11) NULL DEFAULT NULL COMMENT '共享阶段 1有0无',
  `SHARING_PHASE_TYPE` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '共享阶段类型',
  `DESTRUCTION_PHASE` int(11) NULL DEFAULT NULL COMMENT '销毁阶段 1有0无',
  `DESTRUCTION_PHASE_TYPE` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '销毁阶段类型',
  `UPDATE_TIME` timestamp NULL DEFAULT NULL COMMENT '更新时间',
  `CHARGE_USER_NAME` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '运营责任人',
  `DATA_NUMBER` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '数据量',
  `DATA_BASE_INFO` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '数据库信息',
  `IOE_CHECK` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '是否去IOE',
  `USE_OUT_LIST_PART` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '是否使用集团清单外组件',
  `USE_PART` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '使用清单外什么组件',
  PRIMARY KEY (`ID`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '业务系统报备信息' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_asset_rule_item`;
CREATE TABLE `t_asset_rule_item`  (
  `id` bigint(20) NOT NULL COMMENT '标识',
  `colunm_match_name` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '匹配内容',
  `column_match_rule` varchar(8) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '名称匹配规则: 0-包含 1-起始于 2-结束于 3-等于 4-正则',
  `match_type` int(11) NULL DEFAULT NULL COMMENT '匹配类型: 0-字段名 1-字段注释 2-样本数据',
  `evaluate` int(11) NULL DEFAULT NULL COMMENT '评估值',
  `rule_id` bigint(20) NULL DEFAULT NULL COMMENT '敏感规则表标识',
  `isDelete` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT '0' COMMENT '是否删除，0未删除，1删除',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_unicode_ci COMMENT = '敏感规则匹配项目' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_asset_scan_history`;
CREATE TABLE `t_asset_scan_history`  (
  `id` bigint(20) UNSIGNED NOT NULL AUTO_INCREMENT COMMENT '主键id',
  `asset_id` bigint(20) NULL DEFAULT NULL COMMENT '资产ID',
  `asset_type` tinyint(4) NULL DEFAULT 1 COMMENT '资产类型: 1-数据库, 2-文件系统',
  `super_num` bigint(20) UNSIGNED NULL DEFAULT NULL COMMENT '表数量 (MySQL, Oracle, Hive 等)',
  `sub_num` bigint(20) UNSIGNED NULL DEFAULT NULL COMMENT '字段数量',
  `gmt_create` datetime NULL DEFAULT NULL COMMENT '创建时间',
  `gmt_modified` datetime NULL DEFAULT NULL COMMENT '更新时间',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 1820278839629119490 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '资产扫描历史' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_asset_scan_task`;
CREATE TABLE `t_asset_scan_task`  (
  `ID` bigint(20) NOT NULL COMMENT '标识',
  `NAME` varchar(64) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '任务名',
  `DEPT_ID` bigint(20) NULL DEFAULT NULL COMMENT '归属部门',
  `DEPT_NAME` varchar(128) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '归属部门名称',
  `BUSINESS_SYSTEM_ID` bigint(20) NULL DEFAULT NULL COMMENT '归属业务系统',
  `BUSINESS_SYSTEM_NAME` varchar(128) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '归属业务系统名',
  `AGENT_IP` varchar(64) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT 'AgentIp',
  `ASSET_IP` varchar(64) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '资产IP',
  `EXEC_TIME` timestamp NULL DEFAULT NULL COMMENT '单次扫描执行时间',
  `EXEC_NUM` int(11) NULL DEFAULT NULL COMMENT '周期执行时长',
  `EXEC_UNIT` char(1) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '周期执行单位 0-天  1-周  2-月  3-年',
  `SCAN_WAY` char(1) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '扫描方式 0-单次扫描 1-周期扫描',
  `ASSET_TYPE` tinyint(4) NULL DEFAULT NULL COMMENT '资产类型: 1-数据库, 2-文件系统',
  `ASSET_ID` bigint(20) NULL DEFAULT NULL COMMENT '扫描数据库资产标识',
  `ASSET_NAME` varchar(128) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '扫描数据库资产名称',
  `SCHEMA_NAME` varchar(128) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '样本数据扫描数据库实例',
  `SCAN_USER` varchar(1024) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '扫描数据库用户',
  `SCAN_PWD` varchar(1024) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '扫描数据库密码',
  `TASK_TYPE` char(1) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '扫描任务类型 0-资产结构扫描  1-样本数据扫描',
  `approval_status` char(1) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '0-待审批，1-待执行，2-正在执行，3-完成，4-等待下次执行 5-执行出错   6-手动中止',
  `SCAN_RESULT` longtext CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL COMMENT '扫描结果',
  `APPROVAL_USER_ID` bigint(20) NULL DEFAULT NULL COMMENT '审批人',
  `CREATE_USER_ID` bigint(20) NULL DEFAULT NULL COMMENT '创建人',
  `CREATE_TIME` timestamp NULL DEFAULT NULL COMMENT '创建时间',
  `START_TIME` timestamp NULL DEFAULT NULL COMMENT '任务开始时间',
  `END_TIME` timestamp NULL DEFAULT NULL COMMENT '任务结束时间',
  `RUN_FLAG` char(1) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT '1' COMMENT '运行状态 0-停用  1-启用',
  `DEL_FLAG` char(1) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '逻辑删除标识 0-删除  1-正常',
  `SCAN_TYPE` int(11) NULL DEFAULT NULL COMMENT '扫描类型 0-NSOC扫描同步  1-自主扫描',
  `UPDATE_TIME` timestamp NULL DEFAULT NULL COMMENT '更新时间',
  `PERIOD_TIME` int(11) NULL DEFAULT NULL COMMENT '时间整点范围：0-23',
  `SERVER_NAME` varchar(128) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '服务名',
  `KRB5_NAME` varchar(255) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT 'krb5文件名',
  `KEYTAB_NAME` varchar(255) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT 'keytab文件名',
  `AUTO_MODIFY_PWD` char(1) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '是否自动改密 0-否 1-是',
  `EXEC_NUM_PWD` int(11) NULL DEFAULT NULL COMMENT '改密周期执行时长',
  `EXEC_UNIT_PWD` char(1) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '改密周期执行单位 0-天  1-周  2-月  3-年',
  `PERIOD_TIME_PWD` int(11) NULL DEFAULT NULL COMMENT '改密时间整点范围：0-23',
  `SERVER_PORT` int(11) NULL DEFAULT NULL COMMENT '服务器端口',
  `RULE_TYPES` varchar(64) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '识别规则: 1-规则,2-字典,3-语义,4-AI；以逗号分隔',
  `SAMPLE_NUM` int(11) NULL DEFAULT NULL COMMENT '样本数量: -1-不取样本, 0-全量, 其它数字为样本数量',
  `CONSUMPTION_TIME` int(11) NULL DEFAULT NULL COMMENT '消费时间',
  `dbscan_id` bigint(20) NULL DEFAULT NULL COMMENT '閲囬泦鏈篿d',
  PRIMARY KEY (`ID`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_unicode_ci COMMENT = '资产扫描任务表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_asset_scan_task_phase`;
CREATE TABLE `t_asset_scan_task_phase`  (
  `id` bigint(20) UNSIGNED NOT NULL AUTO_INCREMENT COMMENT '主键id',
  `task_id` bigint(20) UNSIGNED NULL DEFAULT NULL COMMENT 't_asset_scan_task 表ID',
  `phase_type` tinyint(4) NULL DEFAULT NULL COMMENT '阶段类型: 1-扫描, 2-分类标签, 3-第三方分类分级',
  `phase_order` int(11) NULL DEFAULT NULL COMMENT '阶段排序',
  `phase_status` tinyint(3) UNSIGNED NULL DEFAULT NULL COMMENT '阶段状态: 1-未开始, 2-进行中, 3-完成, 4-失败',
  `failure_reason` varchar(1024) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '失败原因',
  `start_time` datetime NULL DEFAULT NULL COMMENT '阶段开始时间',
  `end_time` datetime NULL DEFAULT NULL COMMENT '阶段结束时间',
  `invoke_url` varchar(256) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '触发请求地址',
  `invoke_params` varchar(1024) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '触发请求参数',
  `gmt_create` datetime NULL DEFAULT NULL COMMENT '创建时间',
  `gmt_modified` datetime NULL DEFAULT NULL COMMENT '更新时间',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 1816664244532281346 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '资产扫描任务阶段' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_asset_scan_task_schedule`;
CREATE TABLE `t_asset_scan_task_schedule`  (
  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT '主键id',
  `name` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '计划名称',
  `type` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '类型 1-复扫 2-连通性校验 3-扫描',
  `mode` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '模式 1-批量 2-单次',
  `start_time` datetime NULL DEFAULT NULL COMMENT '开始时间',
  `end_time` datetime NULL DEFAULT NULL COMMENT '结束时间',
  `status` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '状态 0-未开始 1-进行中 2-完成 3-等待下次执行 4-异常',
  `create_by` bigint(20) NULL DEFAULT NULL COMMENT '创建人',
  `exec_way` char(1) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '执行方式 0-单次 1-周期性',
  `exec_num` int(11) NULL DEFAULT NULL COMMENT '周期执行时长',
  `exec_unit` char(1) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '周期执行单位 0-天  1-周  2-月  3-年',
  `exec_period_time` int(11) NULL DEFAULT NULL COMMENT '时间整点范围：0-23',
  `create_time` datetime NULL DEFAULT NULL COMMENT '创建时间',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 271 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '扫描任务批处理计划' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_asset_scan_task_schedule_item`;
CREATE TABLE `t_asset_scan_task_schedule_item`  (
  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT '主键id',
  `schedule_id` bigint(20) NOT NULL COMMENT '计划id',
  `task_id` bigint(20) NOT NULL COMMENT '扫描任务id',
  `task_status` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '1-待执行，2-正在执行，3-完成，4-等待下次执行 5-执行出错',
  `scan_num` int(11) NULL DEFAULT NULL COMMENT '扫描数量',
  `req_param` longtext CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '请求参数',
  `recognition_rate` double(5, 2) NULL DEFAULT NULL COMMENT '识别率（%）',
  `time_cost` bigint(20) NULL DEFAULT NULL COMMENT '耗时（s）',
  `task_result` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '扫描结果',
  `start_time` datetime NULL DEFAULT NULL COMMENT '开始时间',
  `end_time` datetime NULL DEFAULT NULL COMMENT '结束时间',
  `create_time` datetime NULL DEFAULT NULL COMMENT '创建时间',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 271 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '扫描任务批处理计划执行项' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_asset_scan_task_sql`;
CREATE TABLE `t_asset_scan_task_sql`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键id',
  `scan_id` bigint(20) NULL DEFAULT NULL COMMENT '扫描任务id',
  `db_name` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '脚本文件名称',
  `file_path` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '脚本文件路径',
  `create_time` datetime NULL DEFAULT NULL,
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 29 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '脚本扫描任务记录表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_asset_security_ledger`;
CREATE TABLE `t_asset_security_ledger`  (
  `id` bigint(20) NOT NULL COMMENT '主键id',
  `type` int(11) NULL DEFAULT NULL COMMENT '资产类型 1-信息系统，2-数据库资产，3-文件系统资产',
  `object_id` bigint(20) NULL DEFAULT NULL COMMENT '资产类型为信息系统时为areaBusinessId，资产类型为数据库资产和文件系统资产时为对应的areaAssetId',
  `has_comp_check` int(11) NULL DEFAULT NULL COMMENT '是否有合规性评估 0-无，1-有',
  `comp_check_time` datetime NULL DEFAULT NULL COMMENT '合规性评估时间',
  `comp_check_org` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '合规性评估机构',
  `comp_check_std` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '合规性评估规范',
  `comp_check_conc` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '合规性评估结论',
  `comp_check_details` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '合规性评估详情',
  `has_risk_check` int(11) NULL DEFAULT NULL COMMENT '是否有风险评估 0-无，1-有',
  `comp_risk_time` datetime NULL DEFAULT NULL COMMENT '风险评估时间',
  `comp_risk_org` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '风险评估机构',
  `comp_risk_std` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '风险评估规范',
  `comp_risk_conc` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '风险评估结论',
  `comp_risk_details` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '风险评估详情',
  `has_overseas_check` int(11) NULL DEFAULT NULL COMMENT '是否有出境安全评估 0-无，1-有',
  `comp_overseas_time` datetime NULL DEFAULT NULL COMMENT '出境安全评估时间',
  `comp_overseas_org` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '出境安全评估机构',
  `comp_overseas_std` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '出境安全评估规范',
  `comp_overseas_conc` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '出境安全评估结论',
  `comp_overseas_details` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '出境安全评估详情',
  `create_time` datetime NULL DEFAULT NULL COMMENT '创建时间',
  `report_status` tinyint(4) NULL DEFAULT 0 COMMENT '上报状态: 0-未上报, 1-成功, 2-失败',
  `update_time` datetime NULL DEFAULT NULL COMMENT '更新时间',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '资产安全台账' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_asset_sen_manual_marking`;
CREATE TABLE `t_asset_sen_manual_marking`  (
  `id` int(10) UNSIGNED NOT NULL AUTO_INCREMENT COMMENT '主键id',
  `line_number` int(10) UNSIGNED NULL DEFAULT NULL COMMENT 'Excel行号',
  `field_name` varchar(1024) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '字段名',
  `field_comment` varchar(1024) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '字段注释',
  `sample_data` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '样本',
  `feature_type` tinyint(4) NULL DEFAULT NULL COMMENT '特征类型: 1-上级(公共/通用), 2-下级(细节), 3-已存在, 4-无效',
  `feature_name` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '特征中文名',
  `sensitive_code` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '特征标签',
  `class_code` varchar(512) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '分类代码',
  `field_name_regex` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '字段名正则',
  `field_comment_regex` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '字段注释正则',
  `sample_data_regex` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '样本正则',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 44021 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '手动打标表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_asset_sen_super_sub_mapping`;
CREATE TABLE `t_asset_sen_super_sub_mapping`  (
  `id` int(10) UNSIGNED NOT NULL AUTO_INCREMENT COMMENT '主键id',
  `super_sen_id` int(10) UNSIGNED NULL DEFAULT NULL COMMENT '上级标签id',
  `sub_sen_id` int(10) UNSIGNED NULL DEFAULT NULL COMMENT '下级标签id',
  `sub_sen_weight` double NULL DEFAULT NULL COMMENT '权重',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `idx_subSenId`(`sub_sen_id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 2098 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '手动打标上下级标签关联表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_asset_sen_super_weight`;
CREATE TABLE `t_asset_sen_super_weight`  (
  `id` int(10) UNSIGNED NOT NULL AUTO_INCREMENT COMMENT '主键id',
  `super_sen_id` int(10) UNSIGNED NULL DEFAULT NULL COMMENT '上级标签id',
  `weight` double NULL DEFAULT NULL COMMENT '权重',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 148 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '手动打标上级权重表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_asset_sensitive_add_trend`;
CREATE TABLE `t_asset_sensitive_add_trend`  (
  `id` bigint(20) NOT NULL COMMENT '主键id',
  `system_id` bigint(20) NULL DEFAULT NULL COMMENT '业务系统id',
  `dept_id` bigint(20) NULL DEFAULT NULL COMMENT '部门id',
  `charge_user_id` bigint(20) NULL DEFAULT NULL COMMENT '主管人员id',
  `cur_date` varchar(16) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '日期',
  `level` int(11) NULL DEFAULT NULL COMMENT '级别',
  `num` int(11) NULL DEFAULT NULL COMMENT '数量',
  `update_time` datetime NULL DEFAULT NULL COMMENT '更新时间',
  `type` varchar(2) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '类型',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `idx_trend_cur_date_level`(`cur_date`, `level`, `dept_id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '敏感数据发现趋势表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_asset_sensitive_asset_statistics`;
CREATE TABLE `t_asset_sensitive_asset_statistics`  (
  `id` bigint(20) NOT NULL COMMENT '标志',
  `dept_id` bigint(20) NULL DEFAULT NULL COMMENT '部门标志',
  `system_id` bigint(20) NULL DEFAULT NULL COMMENT '业务系统标志',
  `charge_user_id` bigint(20) NULL DEFAULT NULL COMMENT '业务系统负责人',
  `asset_id` bigint(20) NULL DEFAULT NULL COMMENT '大类别',
  `level` int(11) NULL DEFAULT NULL COMMENT '级别',
  `num` int(11) NULL DEFAULT NULL COMMENT '数量',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `idx_asset_sen_asset_id`(`asset_id`, `dept_id`) USING BTREE,
  INDEX `idx_asset_sen_system_id`(`system_id`, `dept_id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '业务系统敏感规则统计表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_asset_sensitive_characteristic`;
CREATE TABLE `t_asset_sensitive_characteristic`  (
  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT '标识',
  `name` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '敏感特征名称',
  `memo` varchar(256) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '敏感数据分类描述',
  `column_match` int(11) NULL DEFAULT NULL COMMENT '是否字段名匹配 0-否 1-是',
  `comment_match` int(11) NULL DEFAULT NULL COMMENT '是否字段注释匹配 0-否 1-是',
  `ai_match` int(11) NULL DEFAULT NULL COMMENT '是否ai匹配 0-否 1-是',
  `sample_match` int(11) NULL DEFAULT NULL COMMENT '是否样本数据匹配 0-否 1-是',
  `regular_match` int(11) NULL DEFAULT NULL COMMENT '是否正则匹配 0-否 1-是',
  `data_type` int(11) NULL DEFAULT NULL COMMENT '特征数据类型 0-结构化数据  1-非结构化数据',
  `approval_status` char(10) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '审核状态  0-待审核  1--审核通过',
  `create_time` datetime NULL DEFAULT NULL COMMENT '创建时间',
  `create_user_id` bigint(20) NULL DEFAULT NULL COMMENT '创建人',
  `update_time` datetime NULL DEFAULT NULL COMMENT '修改时间',
  `update_user_id` bigint(20) NULL DEFAULT NULL COMMENT '修改人',
  `approval_user_id` bigint(20) NULL DEFAULT NULL COMMENT '审批人',
  `source` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '来源（0-系统预置 1-人工添加）',
  `scope` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '生效范围（0-全局1-业务系统2-数据库）',
  `owner_id` varchar(1000) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '业务系统ID或数据库资产ID集合',
  `system_id` varchar(1000) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '该字段只有scope字段值为2时才有效，存储的数据为业务系统ID集合',
  `characteristic_id` bigint(20) NULL DEFAULT NULL COMMENT '全局策略中的模板特征id',
  `sensitive_code` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '敏感编码，唯一索引标识',
  `column_weight` int(11) NULL DEFAULT NULL COMMENT '字段名匹配权重',
  `comment_weight` int(11) NULL DEFAULT NULL COMMENT '字段注释匹配权重',
  `sample_weight` int(11) NULL DEFAULT NULL COMMENT '样本数据匹配权重',
  `suit_standard` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '适用的分级分类规范',
  `label_type` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '标签分类，对应t_sys_dic_tree_data表type_code字段值为label_type的数据',
  PRIMARY KEY (`id`) USING BTREE,
  UNIQUE INDEX `uni_sensitiveCode`(`sensitive_code`) USING BTREE,
  INDEX `idx_sensitveCode`(`sensitive_code`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 1948959015772171301 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '敏感特征库' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_asset_sensitive_characteristic_legacy`;
CREATE TABLE `t_asset_sensitive_characteristic_legacy`  (
  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT '标识',
  `name` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '敏感特征名称',
  `level` int(11) NULL DEFAULT NULL COMMENT '敏感级别 1-第一级  2-第二级   3-第三级   4-第四级',
  `classify` varchar(8) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '敏感数据分类 1-用户相关数据  2-企业自身相关数据 ',
  `sub_classify` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '子类',
  `memo` varchar(256) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '敏感数据分类描述',
  `column_match` int(11) NULL DEFAULT NULL COMMENT '是否字段名匹配 0-否 1-是',
  `comment_match` int(11) NULL DEFAULT NULL COMMENT '是否字段注释匹配 0-否 1-是',
  `ai_match` int(11) NULL DEFAULT NULL COMMENT '是否ai匹配 0-否 1-是',
  `sample_match` int(11) NULL DEFAULT NULL COMMENT '是否样本数据匹配 0-否 1-是',
  `regular_match` int(11) NULL DEFAULT NULL COMMENT '是否正则匹配 0-否 1-是',
  `data_type` int(11) NULL DEFAULT NULL COMMENT '特征数据类型 0-结构化数据  1-非结构化数据',
  `approval_status` char(10) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '审核状态  0-待审核  1--审核通过',
  `create_time` datetime NULL DEFAULT NULL COMMENT '创建时间',
  `create_user_id` bigint(20) NULL DEFAULT NULL COMMENT '创建人',
  `update_time` datetime NULL DEFAULT NULL COMMENT '修改时间',
  `update_user_id` bigint(20) NULL DEFAULT NULL COMMENT '修改人',
  `approval_user_id` bigint(20) NULL DEFAULT NULL COMMENT '审批人',
  `del_flag` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '逻辑删除标识 0-删除  1-正常',
  `source` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '来源（0-系统预置 1-人工添加）',
  `scope` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '生效范围（0-全局1-业务系统2-数据库）',
  `owner_id` bigint(20) NULL DEFAULT NULL COMMENT '业务系统id或数据库资产id',
  `characteristic_id` bigint(20) NULL DEFAULT NULL COMMENT '全局策略中的模板特征id',
  `sensitive_code` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '敏感编码，唯一索引标识',
  `suit_standard` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '适用的分级分类规范',
  `label_type` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '标签分类，对应t_sys_dic_tree_data表type_code字段值为label_type的数据',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `uni_sensitiveCode`(`sensitive_code`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 8885987782067287041 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '敏感特征库-旧表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_asset_sensitive_classify_statistics`;
CREATE TABLE `t_asset_sensitive_classify_statistics`  (
  `id` bigint(20) NOT NULL COMMENT '标志',
  `dept_id` bigint(20) NULL DEFAULT NULL COMMENT '部门标志',
  `system_id` bigint(20) NULL DEFAULT NULL COMMENT '业务系统标志',
  `charge_user_id` bigint(20) NULL DEFAULT NULL COMMENT '业务系统负责人',
  `classify` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '大类别',
  `sub_classify` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '大类下的二级类别',
  `level` varchar(16) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '级别',
  `num` int(11) NULL DEFAULT NULL COMMENT '数量',
  `second_classify` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '二级分类（通常统计点）',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `idx_classify_sen_system_id_level`(`system_id`, `level`, `dept_id`) USING BTREE,
  INDEX `idx_classify_sen_classify`(`classify`, `dept_id`) USING BTREE,
  INDEX `idx_classify_sen_sub_classify`(`sub_classify`, `dept_id`) USING BTREE,
  INDEX `idx_classify_sen_level`(`level`, `dept_id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '业务系统分类分级敏感数据统计表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_asset_sensitive_data_result`;
CREATE TABLE `t_asset_sensitive_data_result`  (
  `id` bigint(20) NOT NULL COMMENT '标识',
  `scan_id` bigint(20) NULL DEFAULT NULL COMMENT '扫描任务id',
  `asset_id` bigint(20) NULL DEFAULT NULL COMMENT '归属资产',
  `system_id` bigint(20) NULL DEFAULT NULL COMMENT '业务系统id',
  `schema_name` varchar(128) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '数据库实例名/接口名/文件名',
  `table_id` bigint(20) NULL DEFAULT NULL COMMENT '归属表标识',
  `table_name` varchar(128) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '表名',
  `column_id` bigint(20) NULL DEFAULT NULL COMMENT '归属列标识',
  `column_name` varchar(128) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '列名',
  `sensitive_memo` text CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL COMMENT '敏感数据描述',
  `classify` varchar(8) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '敏感分类 A-用户身份数据  B-用户服务内容数据  C-用户服务衍生数据  D-企业运营数据  E-网络运维数据',
  `level` int(11) NULL DEFAULT NULL COMMENT '敏感级别 1-敏感数据  2-较敏感数据   3-低敏感数据   4-内部公开数据',
  `status` int(11) NULL DEFAULT NULL COMMENT '识别状态 0-未标识 1-已标识 2-待审核 ',
  `approval_status` int(11) NULL DEFAULT NULL COMMENT '审批状态 0-待审核 1-审核通过',
  `artificial_result` int(11) NULL DEFAULT NULL COMMENT '是否人工干预结果 0-否 1-是',
  `create_time` datetime NULL DEFAULT NULL COMMENT '创建时间',
  `update_time` datetime NULL DEFAULT NULL COMMENT '更新时间',
  `cycle_time` int(11) NULL DEFAULT NULL COMMENT '采集周期 0-实时 1-年 2-月 3-周 4-日',
  `column_memo` text CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL COMMENT '列备注',
  `sub_classify` varchar(128) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '子类',
  `characteristic_id` bigint(20) NULL DEFAULT NULL COMMENT '特征Id',
  `type` int(11) NULL DEFAULT NULL COMMENT '类型',
  `dept_id` bigint(20) NULL DEFAULT NULL COMMENT '所属部门',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `idx_asset_status_dept_id`(`asset_id`, `status`, `dept_id`) USING BTREE,
  INDEX `idx_asset_level_dept_id`(`asset_id`, `level`, `dept_id`) USING BTREE,
  INDEX `idx_asset_id_level_status`(`asset_id`, `level`, `status`) USING BTREE,
  INDEX `idx_result_ctld`(`create_time`, `level`, `dept_id`) USING BTREE,
  INDEX `idx_result_sd`(`system_id`, `dept_id`) USING BTREE,
  INDEX `idx_result_asl`(`asset_id`, `sub_classify`, `level`) USING BTREE,
  INDEX `idx_table_name_scan_asset_id`(`table_name`, `scan_id`, `asset_id`) USING BTREE,
  INDEX `idx_result_characteristic_id`(`system_id`, `characteristic_id`) USING BTREE,
  INDEX `idx_id`(`id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_unicode_ci COMMENT = '敏感数据分级分类结果' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_asset_sensitive_relation`;
CREATE TABLE `t_asset_sensitive_relation`  (
  `id` bigint(20) NULL DEFAULT NULL COMMENT '编号',
  `from_ip` varchar(128) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '源ip',
  `from_system_id` bigint(20) NULL DEFAULT NULL COMMENT '源业务系统',
  `to_ip` varchar(128) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '目标ip',
  `to_system_id` bigint(20) NULL DEFAULT NULL COMMENT '目标业务系统',
  `source` int(11) NULL DEFAULT NULL COMMENT '来源：0-网站备案 1-DPI',
  `source_id` bigint(20) NULL DEFAULT NULL COMMENT '来源ID标记'
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_unicode_ci COMMENT = '敏感数据流转关系表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_asset_sensitive_rule`;
CREATE TABLE `t_asset_sensitive_rule`  (
  `id` bigint(20) NOT NULL COMMENT '标识',
  `column_weight` int(11) NULL DEFAULT NULL COMMENT '字段名匹配权重',
  `comment_weight` int(11) NULL DEFAULT NULL COMMENT '字段注释匹配权重',
  `regular_weight` int(11) NULL DEFAULT NULL COMMENT '正则匹配权重',
  `regular` text CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL COMMENT '正则表达式',
  `ai_weight` int(11) NULL DEFAULT NULL COMMENT 'AI匹配权重',
  `limit_weight` int(11) NULL DEFAULT NULL COMMENT '最低权重',
  `limit_length` int(11) NULL DEFAULT NULL COMMENT '样本数据长度上限',
  `isDelete` char(1) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT '0' COMMENT '是否删除，0未删除，1删除',
  `sample_weight` int(11) NULL DEFAULT NULL COMMENT '样本数据匹配权重',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_unicode_ci COMMENT = '敏感特征规则' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_asset_sensitive_rule_statistics`;
CREATE TABLE `t_asset_sensitive_rule_statistics`  (
  `id` bigint(20) NOT NULL COMMENT '标志',
  `dept_id` bigint(20) NULL DEFAULT NULL COMMENT '部门标志',
  `system_id` bigint(20) NULL DEFAULT NULL COMMENT '业务系统标志',
  `charge_user_id` bigint(20) NULL DEFAULT NULL COMMENT '业务系统负责人',
  `rule_id` bigint(20) NULL DEFAULT NULL COMMENT '大类别',
  `num` int(11) NULL DEFAULT NULL COMMENT '数量',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `idx_rule_sen_rule_id`(`rule_id`, `dept_id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '业务系统敏感规则统计表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_asset_struct_asset`;
CREATE TABLE `t_asset_struct_asset`  (
  `ID` bigint(20) NOT NULL COMMENT '标识',
  `NAME` varchar(128) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '资产名称',
  `SERVER_NAME` varchar(123) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '服务名',
  `IP` varchar(64) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '资产服务器IP',
  `PORT` int(11) NULL DEFAULT NULL COMMENT '资产端口',
  `TYPE` varchar(16) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '资源类型',
  `DB_NAME` varchar(64) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '数据库名称',
  `VERSION` varchar(128) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '资源版本',
  `PATH` text CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL COMMENT '安装路径',
  `SYS_ID` bigint(20) NULL DEFAULT NULL COMMENT '归属业务系统',
  `SAFETY_USER_ID` bigint(20) NULL DEFAULT NULL COMMENT '安全员',
  `ANSWER_USER_ID` bigint(20) NULL DEFAULT NULL COMMENT '响应人',
  `owner_status` int(11) NULL DEFAULT NULL COMMENT '归属情况0-未归属  1-已归属 2-认领审批中\n;1-已归属\n2-认领审批中',
  `APPROVAL_STATUS` char(1) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '审批状态  0-待审核 1-审核通过',
  `connect_status` char(1) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT '0' COMMENT '连接状态 0-待连接 1-可连接 2-无法连接',
  `CREATE_TIME` timestamp NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `source` char(1) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '资产来源 0-手动 1-nsoc 2-dpi  4-国信',
  `SCHEMA_NAME` varchar(255) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '模式名',
  `ZK_IP` varchar(255) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT 'zookeeperIP',
  `ZK_PORT` int(11) NULL DEFAULT NULL COMMENT 'zookeeper端口',
  `ZK_NODE` varchar(255) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT 'zookeeper节点',
  `KERBEROS_TAG` int(11) NULL DEFAULT NULL COMMENT 'Kerberos认证 1是0否',
  `PRINCIPAL` varchar(255) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT 'Principal',
  `HOST_NAME` varchar(255) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '服务器名',
  `SPACE_NAME` varchar(255) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '命名空间',
  `isDelete` char(1) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT '0' COMMENT '是否删除，0未删除，1删除',
  `APPROVAL_NEED` char(1) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT '0' COMMENT '是否需要审核 0-需要 1-不需要',
  `TASK_STATUS` char(1) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT '3' COMMENT '扫描任务状态 0-未扫描 1-已扫描 2-连接异常 3-未添加扫描策略',
  `extra_info` text CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL COMMENT '补充信息',
  `SIZE` bigint(20) NULL DEFAULT 0 COMMENT '库大小byte',
  `TOPICS` varchar(256) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT 'topic名称',
  `fingerprint` text CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL COMMENT 'exasol指纹',
  `catalog` varchar(64) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '目录名',
  `cluster_name` varchar(255) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '集群名称',
  `cluster_code` varchar(255) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '集群标识',
  `host_ip` varchar(255) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '主机域名/IP',
  `host_port` int(11) NULL DEFAULT NULL COMMENT '主机端口',
  `host_opsystem` varchar(255) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '主机操作系统',
  `asset_level` int(11) NULL DEFAULT 0 COMMENT '敏感级别 0-未识别 1-1级 2-2级 3-3级 4-4级，默认为0',
  `asset_important` int(11) NULL DEFAULT 0 COMMENT '数据级别 0-未识别 1-一般数据 2-重要数据 3-核心数据',
  `security_capability` varchar(255) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT '99' COMMENT '安全防护能力覆盖',
  `report_status` tinyint(4) NULL DEFAULT 0 COMMENT '上报状态: 0-未上报, 1-成功, 2-失败',
  `update_time` datetime NULL DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,
  `soc_id` varchar(500) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT 'soc资产id',
  `is_completion` char(1) CHARACTER SET utf8 COLLATE utf8_unicode_ci NOT NULL DEFAULT '1' COMMENT '数据是否补全 0-未补全 1-已补全',
  `ods_code` varchar(10) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT 'ODS唯一标识',
  `sys_login_user` varchar(256) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '业务系统登录用户，多个以逗号隔开',
  `external_scan` tinyint(4) NULL DEFAULT NULL COMMENT '是否允许外部系统扫描 0-否 1-是',
  PRIMARY KEY (`ID`) USING BTREE,
  INDEX `idx_sys_id`(`SYS_ID`) USING BTREE,
  INDEX `idx_ip`(`IP`, `PORT`) USING BTREE,
  INDEX `ods_code_index`(`ods_code`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_unicode_ci COMMENT = '结构化资产表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_asset_struct_schema_table`;
CREATE TABLE `t_asset_struct_schema_table`  (
  `ID` bigint(20) NOT NULL COMMENT '标识',
  `TABLE_NAME` varchar(128) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '表名',
  `ASSET_ID` bigint(20) NULL DEFAULT NULL COMMENT '归属资产',
  `SCHEMA_ID` bigint(20) NULL DEFAULT NULL COMMENT '归属资产实例',
  `CREATE_TIME` timestamp NULL DEFAULT NULL COMMENT '创建时间',
  `UPDATE_TIME` timestamp NULL DEFAULT NULL COMMENT '修改时间',
  `TABLE_COMMENT` varchar(256) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '表的描述',
  `TABLE_COLUMNS` int(11) NULL DEFAULT NULL COMMENT '表的总列数',
  `TABLE_ROWS` bigint(20) NULL DEFAULT NULL COMMENT '表的总行数',
  `DDL_CREATE` text CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL COMMENT '建表语句',
  PRIMARY KEY (`ID`) USING BTREE,
  INDEX `idx_asset_id`(`ASSET_ID`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_unicode_ci COMMENT = '数据库表信息表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_asset_table_struct`;
CREATE TABLE `t_asset_table_struct`  (
  `id` bigint(20) NOT NULL COMMENT '字段名称',
  `name` varchar(64) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '字段名称',
  `type` varchar(128) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL,
  `length` bigint(20) NULL DEFAULT NULL COMMENT '字段长度',
  `memo` text CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL COMMENT '字段描述',
  `primary_key` int(11) NULL DEFAULT NULL COMMENT '是否主键 0-否 1-是',
  `table_name` varchar(128) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '归属表名',
  `table_schema` varchar(128) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '归属实例名',
  `asset_id` bigint(20) NULL DEFAULT NULL COMMENT '归属资产',
  `table_id` bigint(20) NULL DEFAULT NULL COMMENT '表ID',
  `table_rows` varchar(255) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '数据量',
  `column_context_type` varchar(255) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '字段内容类型',
  `nullable` char(1) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '是否允许为空 0-不允许 1-允许',
  `sample_data` text CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL COMMENT '样本数据，多个用|分隔',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `idx_asset_id`(`asset_id`) USING BTREE,
  INDEX `idx_table_id`(`table_id`) USING BTREE,
  INDEX `idx_assetId_tableName`(`asset_id`, `table_name`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_unicode_ci COMMENT = '数据库表结构表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_asset_thirdapi_cus_class`;
CREATE TABLE `t_asset_thirdapi_cus_class`  (
  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT '主键id',
  `ip` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT 'IP',
  `port` int(11) NOT NULL COMMENT '端口',
  `instance` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '实例名',
  `schema` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '模式名',
  `table_name` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '表名',
  `column_name` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '字段名',
  `app_id` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '应用ID',
  `app_name` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '应用名',
  `level` int(11) NULL DEFAULT NULL COMMENT '分类',
  `classification` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '分级',
  `gmt_create` datetime NOT NULL COMMENT '创建时间',
  `gmt_modified` datetime NOT NULL COMMENT '更新时间',
  `sensitive_code` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '特征编码;',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `idx_all`(`ip`, `port`, `instance`, `schema`, `table_name`, `column_name`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 5097 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '第三方干预分类分级表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_asset_thirdapi_incr_data_notice`;
CREATE TABLE `t_asset_thirdapi_incr_data_notice`  (
  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT '主键id',
  `ip` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '数据库IP',
  `db_port` int(11) NULL DEFAULT NULL COMMENT '数据库端口',
  `db_name` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '数据库名',
  `db_user` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '数据库模式',
  `home_unique_identifier` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '系统ID',
  `table_list` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '变更表名列表',
  `notice_time` datetime NULL DEFAULT NULL COMMENT '通知时间',
  `deal_status` tinyint(4) NULL DEFAULT NULL COMMENT '处理状态: 0-未处理, 1-已处理',
  `deal_time` datetime NULL DEFAULT NULL COMMENT '处理时间',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 146 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '第三方同步新增数据通知' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_asset_thirdapi_user`;
CREATE TABLE `t_asset_thirdapi_user`  (
  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT '主键id',
  `app_id` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '应用ID',
  `sm4_key` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT 'SM4加密key',
  `app_name` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '应用名',
  `is_encrypt` tinyint(4) NULL DEFAULT NULL COMMENT '是否加密: 0-否, 1-是',
  `gmt_create` datetime NULL DEFAULT NULL COMMENT '创建时间',
  `gmt_modified` datetime NULL DEFAULT NULL COMMENT '更新时间',
  `is_delete` tinyint(4) NULL DEFAULT NULL COMMENT '是否删除',
  PRIMARY KEY (`id`) USING BTREE,
  UNIQUE INDEX `uniq_appId`(`app_id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 3 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '第三方组件用户表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_asset_un_sentive_statistics`;
CREATE TABLE `t_asset_un_sentive_statistics`  (
  `id` bigint(20) NOT NULL COMMENT '标识',
  `dept_id` bigint(20) NULL DEFAULT NULL COMMENT '部门标志',
  `system_id` bigint(20) NULL DEFAULT NULL COMMENT '业务系统标志',
  `charge_user_id` bigint(20) NULL DEFAULT NULL COMMENT '业务系统负责人',
  `asset_id` bigint(20) NULL DEFAULT NULL COMMENT '资产标识',
  `num` int(11) NULL DEFAULT NULL COMMENT '未分类分级结果数量',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '未分类分级统计表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_audit_sensitivet_statistics`;
CREATE TABLE `t_audit_sensitivet_statistics`  (
  `ID` bigint(20) NOT NULL COMMENT '标识',
  `MAJOR_ID` bigint(20) NULL DEFAULT NULL COMMENT '归属专业',
  `MAJOR_NAME` varchar(128) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '专业名称',
  `SEC_DOMAIN_ID` bigint(20) NULL DEFAULT NULL COMMENT '归属安全域',
  `SEC_DOMAIN_NAME` varchar(128) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '安全域名称',
  `DEPT_ID` bigint(20) NULL DEFAULT NULL COMMENT '归属部门',
  `DET_NAME` varchar(128) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '部门名称',
  `BUSNESS_SYSTEM_ID` bigint(20) NULL DEFAULT NULL COMMENT '归属业务系统',
  `BUSINESS_SYSTEM_NAME` varchar(128) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '业务系统名称',
  `ASSET_TYPE` varchar(16) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '资产类型',
  `HEIGHT_SENSITIVE_DATA_NUM` int(11) NULL DEFAULT NULL COMMENT '敏感数据总数',
  `MIDDLE_SENSITIVE_DATA_NUM` int(11) NULL DEFAULT NULL COMMENT '较敏感数据总数',
  `LOW_SENSITIVE_DATA_NUM` int(11) NULL DEFAULT NULL COMMENT '低敏感数据总数',
  `OPEN_SENSITIVE_DATA_NUM` int(11) NULL DEFAULT NULL COMMENT '内部公开数据总数',
  `SENSITIVE_DATA_TOTAL` int(11) NULL DEFAULT NULL COMMENT '敏感数据总数量',
  PRIMARY KEY (`ID`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_unicode_ci COMMENT = '敏感数据统计表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_classify_audit`;
CREATE TABLE `t_classify_audit`  (
  `id` bigint(20) NOT NULL COMMENT '主键id',
  `batch_no` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '批次号',
  `finish` int(11) NULL DEFAULT NULL COMMENT '完成数量',
  `total` int(11) NULL DEFAULT NULL COMMENT '稽核数据量',
  `status` int(11) NULL DEFAULT NULL COMMENT '状态 0-在途 1-验证中 2-完成 3-发布 4-已忽略',
  `start_time` datetime NULL DEFAULT NULL COMMENT '开始时间',
  `end_time` datetime NULL DEFAULT NULL COMMENT '结束时间',
  `create_by` bigint(20) NULL DEFAULT NULL COMMENT '创建人',
  `create_time` datetime NULL DEFAULT NULL COMMENT '创建时间',
  `update_time` datetime NULL DEFAULT NULL COMMENT '更新时间',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '分级分类稽核表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_classify_audit_algorithm`;
CREATE TABLE `t_classify_audit_algorithm`  (
  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT '主键id',
  `lib_id` bigint(20) NULL DEFAULT NULL COMMENT '稽核结果表id',
  `audit_item_id` bigint(20) NOT NULL COMMENT '稽核项id',
  `characteristic_name` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '特征名',
  `characteristic_code` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '特征代码',
  `match_algorithm` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '匹配特征规则',
  `weight` double(16, 2) NULL DEFAULT NULL COMMENT '权重',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `idx_superId`(`lib_id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 1 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '稽核验证匹配算法记录表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_classify_audit_item`;
CREATE TABLE `t_classify_audit_item`  (
  `id` bigint(20) NOT NULL COMMENT '主键id',
  `audit_id` bigint(20) NULL DEFAULT NULL COMMENT '稽核表id',
  `character_id` bigint(20) NOT NULL COMMENT '特征id',
  `status` int(11) NULL DEFAULT NULL COMMENT '验证状态 0-待验证 1-验证中 2-待确认 3-已确认 4-验证失败',
  `pollute_valute` double(5, 2) NULL DEFAULT NULL COMMENT '污染值',
  `audit_result` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '稽核结果描述',
  `create_time` datetime NULL DEFAULT NULL COMMENT '创建时间',
  `update_time` datetime NULL DEFAULT NULL COMMENT '更新时间',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '分级分类稽核项' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_classify_audit_log`;
CREATE TABLE `t_classify_audit_log`  (
  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT '主键id',
  `batch_no` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '批次号',
  `asset_id` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '归属资产id',
  `table_name` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '表名',
  `name` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '字段名',
  `memo` varchar(512) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '字段注释',
  `sample_data` longtext CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '样本数据，多个用|分隔',
  `expect_code` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '期望标签',
  `actual_code` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '实际标签',
  `audit_status` int(11) NULL DEFAULT NULL COMMENT '验证状态 0-待审核 1-待验证 2-已验证 3-已确认',
  `audit_result` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '稽核结果描述',
  `create_time` datetime NULL DEFAULT NULL COMMENT '创建时间',
  `expect_name` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '期望标签名称',
  `sub_id` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT 'sub表id',
  `creator` bigint(20) NULL DEFAULT NULL COMMENT '创建人',
  `api_history_id` bigint(20) NULL DEFAULT NULL COMMENT '应用接口资产历史记录表 id',
  `operation_content` int(11) NULL DEFAULT 0 COMMENT '操作内容 0-稽核通过 1-标签调整',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 1822911452097396739 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '分级分类稽核记录表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_classify_audit_match_result`;
CREATE TABLE `t_classify_audit_match_result`  (
  `id` bigint(20) NOT NULL COMMENT '主键id',
  `audit_item_id` bigint(20) NOT NULL COMMENT '稽核项id',
  `lib_id` bigint(20) NULL DEFAULT NULL COMMENT '靶库id',
  `type` int(11) NULL DEFAULT NULL COMMENT '类型 0-待验证数据 1-靶库',
  `expect_code` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '期望标签',
  `actual_code` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '实际标签',
  `result` int(11) NULL DEFAULT NULL COMMENT '匹配结果 0-一致 1-不一致 2-污染',
  `create_time` datetime NULL DEFAULT NULL COMMENT '创建时间',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '分级分类稽核结果表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_classify_audit_target_lib`;
CREATE TABLE `t_classify_audit_target_lib`  (
  `id` bigint(20) NOT NULL COMMENT '主键',
  `audit_id` bigint(20) NOT NULL COMMENT '归属的稽核批次id',
  `audit_item_id` bigint(20) NOT NULL COMMENT '归属的稽核项id',
  `sys_id` bigint(20) NULL DEFAULT NULL COMMENT '归属业务系统id',
  `sys_name` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '归属业务系统名称',
  `asset_id` bigint(20) NULL DEFAULT NULL COMMENT '归属资产id',
  `asset_name` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '归属资产名称',
  `table_name` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '表名',
  `name` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '字段名',
  `memo` varchar(512) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '字段注释',
  `sample_data` longtext CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '样本数据，多个用|分隔',
  `expect_code` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '期望标签',
  `audit_status` int(11) NULL DEFAULT NULL COMMENT '验证状态 0-待验证 1-已验证',
  `create_time` datetime NULL DEFAULT NULL COMMENT '创建时间',
  `update_time` datetime NULL DEFAULT NULL COMMENT '更新时间',
  `api_id` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT 't_asset_api_asset 表API唯一标识',
  `api_history_id` bigint(20) NULL DEFAULT NULL COMMENT 'api稽核历史表id',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '分级分类稽核靶库' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_classify_classification_algorithm`;
CREATE TABLE `t_classify_classification_algorithm`  (
  `id` bigint(20) UNSIGNED NOT NULL AUTO_INCREMENT COMMENT '主键id',
  `super_id` bigint(20) UNSIGNED NULL DEFAULT NULL COMMENT '表级ID (t_classify_classification_super)',
  `sub_id` bigint(20) UNSIGNED NULL DEFAULT NULL COMMENT '字段级ID (t_classify_classification_sub)',
  `parent_id` bigint(20) UNSIGNED NULL DEFAULT NULL COMMENT '父级ID (t_classify_classification_sub)',
  `characteristic_name` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '特征名',
  `characteristic_code` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '特征代码',
  `match_algorithm` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '匹配特征规则',
  `weight` double(16, 2) NULL DEFAULT NULL COMMENT '权重',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `idx_superId`(`super_id`) USING BTREE,
  INDEX `idx_subId`(`sub_id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 1801424471773417474 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '分级分类匹配算法表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_classify_classification_result_notification`;
CREATE TABLE `t_classify_classification_result_notification`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '序列，id',
  `app_name` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '应用名',
  `interface_addr` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '通知接口地址',
  `create_time` datetime NULL DEFAULT NULL COMMENT '添加日期',
  `interface_status` int(11) NULL DEFAULT NULL COMMENT '接口是否连通（0-是 ，1-否）',
  `retry_num` int(11) NULL DEFAULT NULL COMMENT '重试次数',
  `extra_info` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '补充信息',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 5 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '分类分级结果通知' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_classify_classification_sub`;
CREATE TABLE `t_classify_classification_sub`  (
  `id` bigint(20) UNSIGNED NOT NULL AUTO_INCREMENT COMMENT '主键id',
  `name` varchar(256) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '字段名称',
  `chinese_name` varchar(256) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '字段中文名',
  `super_id` bigint(20) UNSIGNED NULL DEFAULT NULL COMMENT '表级ID',
  `super_name` varchar(256) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '表级名称',
  `asset_id` bigint(20) UNSIGNED NULL DEFAULT NULL COMMENT '资产ID',
  `parent_id` bigint(20) UNSIGNED NULL DEFAULT NULL COMMENT '上级ID',
  `parent_name` varchar(256) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '上级名称',
  `sample_data` longtext CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '样本数据，多个用|分隔',
  `sensitive_code` varchar(256) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '分类标签',
  `data_sign_id` bigint(20) NULL DEFAULT NULL COMMENT '数据标记id(表：t_asset_data_sign)',
  `data_class_id` int(11) NULL DEFAULT NULL COMMENT '数据类别id',
  `audit_status` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT '0' COMMENT '识别状态 0-未标识 1-已标识 2-待审核',
  `type` varchar(256) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '类型 (数据库: 字段类型, 文件系统: 后缀, ES: type, Redis: string/hash/set等, ...)',
  `full_path` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '数据全路径 (如: company.department.employee.name)',
  `length` bigint(20) NULL DEFAULT NULL COMMENT '字段长度',
  `memo` varchar(4000) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '字段描述',
  `caliber_desc` varchar(256) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '加工口径说明',
  `primary_key` int(11) NULL DEFAULT NULL COMMENT '是否主键: 0-否, 1-是',
  `foreign_table_oid` varchar(256) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '外键表的唯一标识 库+表+字段',
  `foreign_key` tinyint(1) NULL DEFAULT NULL COMMENT '是否外键: 0-否, 1-是',
  `table_rows` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '表数据量',
  `nullable` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '是否允许为空: 0-不允许, 1-允许',
  `table_schema` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '归属实例名',
  `column_context_type` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '字段内容类型',
  `file_size` bigint(20) NULL DEFAULT NULL COMMENT '文件大小',
  `file_type` tinyint(4) NULL DEFAULT NULL COMMENT '文件类型: 1-文件夹, 2-文件, 3-分词',
  `class_api_filepath` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '第三方分类分级文件上传返回路径',
  `class_api_task_id` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '第三方分类分级任务ID',
  `class_api_level` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '第三方分类分级-分级',
  `class_api_sub_classify` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '第三方分类分级-分类',
  `gmt_create` datetime NULL DEFAULT NULL COMMENT '创建时间',
  `gmt_modified` datetime NULL DEFAULT NULL COMMENT '更新时间',
  `extra_status` int(11) NULL DEFAULT NULL COMMENT '额外状态码 (供迁移等临时用)',
  `is_thirdapi_cus` tinyint(4) NULL DEFAULT NULL COMMENT '是否为第三方自定义结果: 0-否, 1-是',
  `class_api_sensitive_code` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '第三方分类分级-特征编码',
  `class_api_sensitive_code_name` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '第三方分类分级-特征编码',
  `report_status` tinyint(4) NULL DEFAULT 0 COMMENT '上报状态: 0-未上报, 1-成功, 2-失败',
  `life_cycle_protection` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '生命周期防护',
  `retention_period` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '保留周期',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `idx_assetId_superName`(`asset_id`, `super_name`) USING BTREE,
  INDEX `idx_gmtModified`(`gmt_modified`) USING BTREE,
  INDEX `idx_auditStatus`(`audit_status`) USING BTREE,
  INDEX `idx_superId`(`super_id`) USING BTREE,
  INDEX `idx_taskId`(`class_api_task_id`) USING BTREE,
  INDEX `idx_parentId`(`parent_id`) USING BTREE,
  INDEX `idx_sensitiveCode`(`sensitive_code`) USING BTREE,
  INDEX `idx_name`(`super_id`, `name`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 1805525205238534147 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '分类分级-字段级' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_classify_classification_sub_hist`;
CREATE TABLE `t_classify_classification_sub_hist`  (
  `id` bigint(20) UNSIGNED NOT NULL AUTO_INCREMENT COMMENT '主键id',
  `task_start_time` datetime NULL DEFAULT NULL COMMENT '任务开始时间, 用于查询最新一次更新内容',
  `op_type` tinyint(4) NULL DEFAULT NULL COMMENT '操作类型: 1-更新, 2-删除',
  `name` varchar(256) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '名称 (数据库: 字段名, Redis: key, hashkey名, ES: key名, HDFS: 文件夹, 文件名, ...)',
  `super_id` bigint(20) UNSIGNED NULL DEFAULT NULL COMMENT '表级ID',
  `super_name` varchar(256) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '表级名称',
  `asset_id` bigint(20) UNSIGNED NULL DEFAULT NULL COMMENT '资产ID',
  `parent_id` bigint(20) UNSIGNED NULL DEFAULT NULL COMMENT '上级ID',
  `parent_name` varchar(256) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '上级名称',
  `sample_data` longtext CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '样本数据，多个用|分隔',
  `sensitive_code` varchar(256) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '分类标签',
  `data_sign_id` bigint(20) NULL DEFAULT NULL COMMENT '数据标记id(表：t_asset_data_sign)',
  `audit_status` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT '0' COMMENT '识别状态 0-未标识 1-已标识 2-待审核',
  `type` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '类型 (数据库: 字段类型, 文件系统: 后缀, ES: type, Redis: string/hash/set等, ...)',
  `full_path` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '数据全路径 (如: company.department.employee.name)',
  `length` bigint(20) NULL DEFAULT NULL COMMENT '字段长度',
  `memo` varchar(512) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '字段描述',
  `primary_key` int(11) NULL DEFAULT NULL COMMENT '是否主键: 0-否, 1-是',
  `table_rows` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '表数据量',
  `nullable` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '是否允许为空: 0-不允许, 1-允许',
  `table_schema` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '归属实例名',
  `column_context_type` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '字段内容类型',
  `file_size` bigint(20) NULL DEFAULT NULL COMMENT '文件大小',
  `file_type` tinyint(4) NULL DEFAULT NULL COMMENT '文件类型: 1-文件夹, 2-文件, 3-分词',
  `class_api_filepath` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '第三方分类分级文件上传返回路径',
  `class_api_task_id` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '第三方分类分级任务ID',
  `class_api_level` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '第三方分类分级-分级',
  `class_api_sub_classify` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '第三方分类分级-分类',
  `gmt_create` datetime NULL DEFAULT NULL COMMENT '创建时间',
  `gmt_modified` datetime NULL DEFAULT NULL COMMENT '更新时间',
  `extra_status` int(11) NULL DEFAULT NULL COMMENT '额外状态码 (供迁移等临时用)',
  `is_thirdapi_cus` tinyint(4) NULL DEFAULT NULL COMMENT '是否为第三方自定义结果: 0-否, 1-是',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `idx_assetId_superName`(`asset_id`, `super_name`) USING BTREE,
  INDEX `idx_gmtModified`(`gmt_modified`) USING BTREE,
  INDEX `idx_auditStatus`(`audit_status`) USING BTREE,
  INDEX `idx_superId`(`super_id`) USING BTREE,
  INDEX `idx_taskId`(`class_api_task_id`) USING BTREE,
  INDEX `idx_parentId`(`parent_id`) USING BTREE,
  INDEX `idx_sensitiveCode`(`sensitive_code`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 47978 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '分类分级-字段级历史记录' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_classify_classification_super`;
CREATE TABLE `t_classify_classification_super`  (
  `id` bigint(20) UNSIGNED NOT NULL AUTO_INCREMENT COMMENT '主键id',
  `name` varchar(256) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '名称 (数据库: 表名, 文件系统: 文件名, ES: index名, Redis: db名, ...)',
  `memo` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '表简介',
  `chinese_name` varchar(256) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '表中文名',
  `type` tinyint(3) UNSIGNED NULL DEFAULT NULL COMMENT '类型: 1-结构化, 2-半结构化, 3-非结构化',
  `sub_type` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '类型 (MySQL, HDFS, Hive, MongoDB, ...)',
  `dept_id` bigint(20) NULL DEFAULT NULL COMMENT '部门ID',
  `system_id` bigint(20) NULL DEFAULT NULL COMMENT '业务系统ID',
  `asset_id` bigint(20) UNSIGNED NULL DEFAULT NULL COMMENT '资产ID',
  `ip` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '资产IP',
  `port` int(11) NULL DEFAULT NULL COMMENT '资产端口',
  `asset_type` tinyint(3) UNSIGNED NULL DEFAULT NULL COMMENT '资产类型 (1-数据库, 2-文件系统)',
  `sub_count` bigint(20) UNSIGNED NULL DEFAULT NULL COMMENT '统计数 (数据库: 字段总数, Redis: key总数, 文件系统: 文件数, ...)',
  `row_count` bigint(20) NULL DEFAULT NULL COMMENT '行数',
  `size` bigint(20) NULL DEFAULT 0 COMMENT '大小byte',
  `extra_info` longtext CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '额外信息 (数据库: ddl)',
  `report_status` tinyint(4) NULL DEFAULT 0 COMMENT '上报状态: 0-未上报, 1-成功, 2-失败',
  `gmt_create` datetime NULL DEFAULT NULL COMMENT '创建时间',
  `gmt_modified` datetime NULL DEFAULT NULL COMMENT '更新时间',
  `ods_code` varchar(10) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT 'ODS唯一标识',
  `domain_group` varchar(20) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '域分组',
  `theme_domain` varchar(20) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '主题域',
  `sub_theme_domain` varchar(20) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '主题子域',
  `business_tag` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '表业务标签',
  `uploaded_lake` tinyint(1) NULL DEFAULT NULL COMMENT '是否已上传至集团大数据湖 0-否 1-是',
  `memory_cycle` int(5) NULL DEFAULT NULL COMMENT '存储周期',
  `update_frequency` varchar(20) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '更新频次',
  `shared_system_num` int(5) NULL DEFAULT NULL COMMENT '共享系统个数',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `idx_assetId_name`(`asset_id`, `name`) USING BTREE,
  INDEX `ods_code_index`(`ods_code`) USING BTREE,
  INDEX `idx_systemId_deptId_gmtCreate`(`system_id`, `dept_id`, `gmt_create`) USING BTREE,
  INDEX `idx_deptId_systemId_gmtCreate`(`dept_id`, `system_id`, `gmt_create`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 1805525204676497411 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '分类分级-表级' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_classify_classification_super_hist`;
CREATE TABLE `t_classify_classification_super_hist`  (
  `id` bigint(20) UNSIGNED NOT NULL AUTO_INCREMENT COMMENT '主键id',
  `task_start_time` datetime NULL DEFAULT NULL COMMENT '任务开始时间, 用于查询最新一次更新内容',
  `op_type` tinyint(4) NULL DEFAULT NULL COMMENT '操作类型: 1-更新, 2-删除',
  `name` varchar(256) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '名称 (数据库: 表名, 文件系统: 文件名, ES: index名, Redis: db名, ...)',
  `type` tinyint(3) UNSIGNED NULL DEFAULT NULL COMMENT '类型: 1-结构化, 2-半结构化, 3-非结构化',
  `sub_type` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '类型 (MySQL, HDFS, Hive, MongoDB, ...)',
  `dept_id` bigint(20) NULL DEFAULT NULL COMMENT '部门ID',
  `system_id` bigint(20) NULL DEFAULT NULL COMMENT '业务系统ID',
  `asset_id` bigint(20) UNSIGNED NULL DEFAULT NULL COMMENT '资产ID',
  `ip` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '资产IP',
  `port` int(11) NULL DEFAULT NULL COMMENT '资产端口',
  `asset_type` tinyint(3) UNSIGNED NULL DEFAULT NULL COMMENT '资产类型 (1-数据库, 2-文件系统)',
  `sub_count` bigint(20) UNSIGNED NULL DEFAULT NULL COMMENT '统计数 (数据库: 字段总数, Redis: key总数, 文件系统: 文件数, ...)',
  `size` bigint(20) NULL DEFAULT 0 COMMENT '大小byte',
  `extra_info` longtext CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '额外信息 (数据库: ddl)',
  `gmt_create` datetime NULL DEFAULT NULL COMMENT '创建时间',
  `gmt_modified` datetime NULL DEFAULT NULL COMMENT '更新时间',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `idx_assetId_name`(`asset_id`, `name`) USING BTREE,
  INDEX `idx_assetId_startTime_opType`(`asset_id`, `task_start_time`, `op_type`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 12215 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '分类分级-表级历史记录' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_classify_summary_asset`;
CREATE TABLE `t_classify_summary_asset`  (
  `id` bigint(20) NOT NULL COMMENT '主键id',
  `system_id` bigint(20) NULL DEFAULT NULL COMMENT '业务系统ID',
  `dept_id` bigint(20) NULL DEFAULT NULL COMMENT '部门ID',
  `asset_id` bigint(20) NULL DEFAULT NULL COMMENT '资产ID',
  `standard_code` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '分级分类标准 (标准代码)',
  `level` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '级别',
  `sub_sum` int(11) NULL DEFAULT NULL COMMENT '类别',
  `asset_type` tinyint(4) NULL DEFAULT NULL COMMENT '类型: 1-结构化, 2-半结构化, 3-非结构化',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `idx_systemId`(`system_id`) USING BTREE,
  INDEX `idx_assetType`(`asset_type`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '统计表-资产级' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_classify_summary_classify`;
CREATE TABLE `t_classify_summary_classify`  (
  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT '主键id',
  `system_id` bigint(20) NULL DEFAULT NULL COMMENT '业务系统id',
  `dept_id` bigint(20) NULL DEFAULT NULL COMMENT '部门id',
  `asset_id` bigint(20) NULL DEFAULT NULL COMMENT '资产id',
  `super_id` bigint(20) NULL DEFAULT NULL COMMENT '表级id',
  `standard_code` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '分类分级规范编码',
  `sub_classify_code` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '分类编码',
  `sub_classify_value` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '分类描述',
  `sub_sum` int(11) NULL DEFAULT NULL COMMENT '字段数量',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `idx_systemId`(`system_id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 1 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '统计表-分类' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_classify_summary_each`;
CREATE TABLE `t_classify_summary_each`  (
  `id` bigint(20) NOT NULL COMMENT '主键id',
  `system_id` bigint(20) NULL DEFAULT NULL COMMENT '业务系统id',
  `dept_id` bigint(20) NULL DEFAULT NULL COMMENT '部门id',
  `asset_id` bigint(20) NULL DEFAULT NULL COMMENT '资产id',
  `super_id` bigint(20) NULL DEFAULT NULL COMMENT '表级id',
  `sub_id` bigint(20) NULL DEFAULT NULL COMMENT '字段级id',
  `standard_code` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '分类分级规范编码',
  `sensitive_code` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '标签编码',
  `level` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '分级',
  `classify` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '分类',
  `sub_classify_code` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '分类编码',
  `sub_classify_value` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '分类描述',
  `second_classify` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '子级分类',
  `data_sign_id` bigint(20) NULL DEFAULT NULL COMMENT '数据标记id',
  `scan_date` datetime NULL DEFAULT NULL COMMENT '扫描时间',
  `scan_date_ymd` date NULL DEFAULT NULL COMMENT '扫描时间ymd格式',
  `asset_type` tinyint(4) NULL DEFAULT NULL COMMENT '类型: 1-结构化, 2-半结构化, 3-非结构化',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `idx_superId`(`super_id`) USING BTREE,
  INDEX `idx_assetId`(`asset_id`) USING BTREE,
  INDEX `idx_systemId`(`system_id`) USING BTREE,
  INDEX `idx_sensitiveCode_systemId`(`sensitive_code`, `system_id`) USING BTREE,
  INDEX `idx_subId_assetId_level`(`sub_id`, `asset_id`, `level`) USING BTREE,
  INDEX `idx_subId_assetId_class`(`sub_id`, `asset_id`, `classify`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '统计表-字段级' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_classify_summary_super`;
CREATE TABLE `t_classify_summary_super`  (
  `id` bigint(20) NOT NULL COMMENT '主键id',
  `system_id` bigint(20) NULL DEFAULT NULL COMMENT '业务系统id',
  `dept_id` bigint(20) NULL DEFAULT NULL COMMENT '部门id',
  `asset_id` bigint(20) NULL DEFAULT NULL COMMENT '资产id',
  `super_id` bigint(20) NULL DEFAULT NULL COMMENT '表级id',
  `standard_code` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '分类分级编码',
  `level` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '分级',
  `classify` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '分类',
  `sub_classify_code` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '分类编码',
  `sub_classify_value` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '分类描述',
  `second_classify` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '子级分类',
  `scan_date_ymd` date NULL DEFAULT NULL COMMENT '扫描时间ymd格式',
  `sub_sum` int(11) NULL DEFAULT NULL COMMENT '字段数量',
  `asset_type` tinyint(4) NULL DEFAULT NULL COMMENT '类型: 1-结构化, 2-半结构化, 3-非结构化',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `idx_systemId`(`system_id`) USING BTREE,
  INDEX `idx_assetType`(`asset_type`) USING BTREE,
  INDEX `idx_assetId`(`asset_id`) USING BTREE,
  INDEX `idx_scanDateYmd`(`scan_date_ymd`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '统计表-表级' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_ds_archive_system`;
CREATE TABLE `t_ds_archive_system`  (
  `id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT 'ID',
  `gmt_create` datetime NOT NULL COMMENT '创建时间',
  `gmt_modified` datetime NOT NULL COMMENT '更新时间',
  `deleted` tinyint(4) NOT NULL COMMENT '是否删除',
  `source` int(255) NOT NULL COMMENT '数据来源: 1-数安, 2-态势对接, 3-流数, 4-SOC',
  `name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '备案系统名',
  `ods_code` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT 'ODS编码',
  `dept_id` int(11) NULL DEFAULT NULL COMMENT '部门ID',
  `dept_code` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '部门编码',
  `dept_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '部门名称',
  `archive_level` int(11) NULL DEFAULT NULL COMMENT '定级备案等级: 0-未定级, 1-一级, 2-二级, 3-三级, 4-四级, 5-五级',
  `security_level` int(11) NULL DEFAULT NULL COMMENT '安全等级: 0-未定级, 1-一级, 2-二级, 3-三级, 4-四级, 5-五级',
  `system_type` int(11) NULL DEFAULT NULL COMMENT '系统类型: 1-生产系统, 2-运维系统, 3-管理系统, 4-业务支撑系统, 5-安全保障系统, 99-其他',
  `major_type` int(11) NULL DEFAULT NULL COMMENT '专业类型: 1-IT网, 2-无线, 3-接入网, 4-核心网, 5-WLAN, 6-线路, 7-动环, 8-ICT, 9-安全, 10-传输, 11-数据, 12-业务平台, 99-其他',
  `security_capability` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '安全防护措施: 1-数据识别, 2-数据脱敏, 3-接口安全管控, 4-访问与操作行为安全审计, 5-敏感数据流转监测, 6-数据安全风险监测, 7-防泄漏, 8-数据异常行为监测, 9-数据加密, 10-数据水印, 11-数据销毁, 12-文档安全, 13-访问控制, 14-数据库网关, 15-隐私计算, 16-数据安全管理平台, 99-其他；多种能力以“,”进行合并',
  `security_management` varchar(1024) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '安全管理制度',
  `department_group` int(11) NULL DEFAULT NULL COMMENT '主管部门条线: 0-无, 1-市场条线, 2-客服条线, 3-云网条线, 4-政企条线, 5-渠道条线, 6-网信安条线, 7-其他',
  `department_group_other` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '主管部门条线为7-其他时, 主管部门条线名称',
  `has_out_risk` int(11) NULL DEFAULT NULL COMMENT '是否有出境数据: 0-无, 1-有',
  `overseas_check_rcv` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '出境接收方',
  `overseas_check_mode` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '出境方式',
  `soc_id` varchar(500) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT 'soc资产id',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `idx_del`(`deleted`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '定级备案系统-新数安' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_ds_asset_api`;
CREATE TABLE `t_ds_asset_api`  (
  `id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT 'ID',
  `gmt_create` datetime NOT NULL COMMENT '创建时间',
  `gmt_modified` datetime NOT NULL COMMENT '更新时间',
  `deleted` tinyint(4) NOT NULL COMMENT '是否删除',
  `source` int(255) NOT NULL COMMENT '数据来源: 1-数安, 2-态势对接, 3-流数, 4-SOC',
  `name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT 'API名称',
  `ods_code` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT 'ODS编码',
  `archive_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '备案系统ID',
  `system_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '业务系统ID',
  `req_method` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '请求方式',
  `protocol` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '协议',
  `url` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '请求完整路径',
  `ip` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT 'IP',
  `port` int(11) NULL DEFAULT NULL COMMENT '端口',
  `host` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '域名',
  `uri` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT 'URI',
  `eop_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT 'EOP名称',
  `sensitive_level` int(11) NULL DEFAULT 0 COMMENT '敏感级别',
  `sensitive_class` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '敏感类别',
  `data_level` int(11) NULL DEFAULT NULL COMMENT '数据级别',
  `security_capability` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '安全防护能力覆盖',
  `app_type` int(11) NULL DEFAULT NULL COMMENT '应用类型',
  `pers_info_status` tinyint(4) NULL DEFAULT NULL COMMENT '个人信息状态',
  `chan_enc_status` tinyint(4) NULL DEFAULT NULL COMMENT '通道加密状态',
  `invocation_status` int(11) NULL DEFAULT NULL COMMENT '接口调用状态',
  `sensitivity_status` tinyint(4) NULL DEFAULT NULL COMMENT '涉敏状态',
  `data_trans_scenario` int(11) NULL DEFAULT NULL COMMENT '数据传输场景',
  `data_enc_status` int(11) NULL DEFAULT NULL COMMENT '数据加密状态',
  `auth_method` int(11) NULL DEFAULT NULL COMMENT '接口认证方式',
  `api_type` int(11) NULL DEFAULT NULL COMMENT '接口类型',
  `api_usage` int(11) NULL DEFAULT NULL COMMENT '接口用途',
  `api_impl_type` int(11) NULL DEFAULT NULL COMMENT '接口实现方式',
  `api_out_data_vol` int(11) NULL DEFAULT NULL COMMENT '接口流出的数据量',
  `api_create_time` datetime NULL DEFAULT NULL COMMENT 'API创建时间',
  `api_update_time` datetime NULL DEFAULT NULL COMMENT 'API更新时间',
  `dept_id` bigint(20) NULL DEFAULT NULL COMMENT '归属部门ID',
  `dept_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '归属部门名',
  `dept_user` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '归属部门负责人',
  `dept_user_phone` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '归属部门负责人号码',
  `dept_user_mail` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '归属部门负责人邮箱',
  `buz_dept_id` bigint(20) NULL DEFAULT NULL COMMENT '业务部门ID',
  `buz_dept_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '业务部门名',
  `buz_dept_user` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '业务部门负责人',
  `buz_dept_user_phone` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '业务部门负责人号码',
  `buz_dept_user_mail` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '业务部门负责人邮箱',
  `maint_dept_id` bigint(20) NULL DEFAULT NULL COMMENT '维护部门ID',
  `maint_dept_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '维护部门名',
  `maint_dept_user` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '维护部门负责人',
  `maint_dept_user_phone` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '维护部门负责人号码',
  `maint_dept_user_mail` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '维护部门负责人邮箱',
  `claim_status` tinyint(4) NULL DEFAULT NULL COMMENT '认领状态: 0-未认领, 1-已认领, 2-已忽略',
  `claim_time` datetime NULL DEFAULT NULL COMMENT '认领时间',
  `ls_api_id` bigint(20) NULL DEFAULT NULL COMMENT '流数API ID',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = 'api资产表-新数安' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_ds_asset_api_check`;
CREATE TABLE `t_ds_asset_api_check`  (
  `id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT '主键',
  `gmt_create` datetime NOT NULL COMMENT '创建时间',
  `gmt_modified` datetime NOT NULL COMMENT '更新时间',
  `deleted` tinyint(4) NOT NULL COMMENT '是否删除',
  `source` int(255) NOT NULL COMMENT '数据来源: 1-数安, 2-态势对接, 3-流数, 4-SOC',
  `api_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT 'API资产ID;API资产ID，省内唯一',
  `is_involved_important_and_core` tinyint(4) NULL DEFAULT NULL COMMENT '是否涉及重要数据和核心数据;是否涉及重要数据和核心数据-字典：0-否，1-是',
  `is_involved_personal_info` tinyint(4) NULL DEFAULT NULL COMMENT '是否涉及用户个人信息;是否涉及用户个人信息-字典：0-否，1-是',
  `is_involved_exposure` tinyint(4) NULL DEFAULT NULL COMMENT '是否涉及互联网暴露面;是否涉及互联网暴露面-字典：0-否，1-是',
  `is_involved_partners` tinyint(4) NULL DEFAULT NULL COMMENT '是否涉及合作方;是否涉及合作方-字典：0-否，1-是',
  `is_exist_weak_password` tinyint(4) NULL DEFAULT NULL COMMENT '是否存在弱口令;是否存在弱口令-字典：0-否，1-是',
  `is_exist_data_exiting` tinyint(4) NULL DEFAULT NULL COMMENT '是否存在数据出境;是否存在数据出境-字典：0-否，1-是',
  `is_encrypt_transmission` tinyint(4) NULL DEFAULT NULL COMMENT '是否加密传输;是否加密传输-字典：0-否，1-是',
  `security_capability` varchar(200) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '接口已具备的安全防护能力;系统已具备的安全防护能力，1-身份认证，2-访问控制，3-安全网关，4-风险检测，5-敏感数据识别，6-异常行为拦截，99-其他 多种能力以“,”进行合并，例如具备了身份认证和访问控制，则值为”1,2”',
  `is_regular_audits` tinyint(4) NULL DEFAULT NULL COMMENT '是否定期开展接口日志审计;是否定期开展接口日志审计-字典：0-否，1-是',
  `is_abnormal_behavior` varchar(200) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '是否发现异常操作行为（若有请具体描述异常行为;是否发现异常操作行为（若有请具体描述异常行为）',
  `rectification_status` varchar(200) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '整改完成情况及整改措施;整改完成情况及整改措施',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = 'api台账-新数安' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_ds_asset_api_visit`;
CREATE TABLE `t_ds_asset_api_visit`  (
  `id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT '主键',
  `gmt_create` datetime NOT NULL COMMENT '创建时间',
  `gmt_modified` datetime NOT NULL COMMENT '更新时间',
  `deleted` tinyint(4) NOT NULL COMMENT '是否删除',
  `source` int(255) NOT NULL COMMENT '数据来源: 1-数安, 2-态势对接, 3-流数, 4-SOC',
  `api_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL,
  `visits` int(11) NULL DEFAULT NULL COMMENT '接口访问次数;接口访问次数',
  `date_str` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '日期;例：2023010101 精确到小时',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = 'api访问记录表-新数安' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_ds_asset_data`;
CREATE TABLE `t_ds_asset_data`  (
  `id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT 'ID',
  `gmt_create` datetime NOT NULL COMMENT '创建时间',
  `gmt_modified` datetime NOT NULL COMMENT '更新时间',
  `deleted` tinyint(4) NOT NULL COMMENT '是否删除',
  `source` tinyint(1) NOT NULL COMMENT '数据来源: 1-数安, 2-态势对接, 3-流数, 4-SOC',
  `name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '资产名称',
  `ods_code` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT 'ODS编码',
  `archive_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '备案系统ID',
  `system_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '业务系统ID',
  `ip` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT 'IP',
  `port` int(11) NULL DEFAULT NULL COMMENT '端口',
  `struct_type` tinyint(1) NULL DEFAULT NULL COMMENT '资产结构化类型',
  `asset_type` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '资产类型',
  `asset_version` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '资产版本',
  `instance_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '实例名',
  `schema_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '模式名',
  `root_path` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '路径',
  `asset_size` double NULL DEFAULT NULL COMMENT '资产大小(byte)',
  `audit_status` tinyint(1) NULL DEFAULT NULL COMMENT '是否需要审核',
  `owner_status` tinyint(1) NULL DEFAULT NULL COMMENT '归属情况',
  `connect_status` tinyint(1) NULL DEFAULT NULL COMMENT '连接状态',
  `task_status` tinyint(1) NULL DEFAULT NULL COMMENT '任务状态',
  `sensitive_level` int(11) NULL DEFAULT NULL COMMENT '敏感级别',
  `data_level` int(11) NULL DEFAULT NULL COMMENT '数据级别',
  `security_capability` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '安全防护能力覆盖',
  `extra_info` text CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL COMMENT '补充信息',
  `soc_id` varchar(500) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT 'soc资产id',
  `is_completion` tinyint(1) NOT NULL DEFAULT 1 COMMENT '数据是否补全 0-未补全 1-已补全',
  `sys_login_user` varchar(256) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '业务系统登录用户，多个以逗号隔开',
  `external_scan` tinyint(1) NULL DEFAULT NULL COMMENT '是否允许外部系统扫描 0-否 1-是',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '资产表-新数安' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_ds_business_system`;
CREATE TABLE `t_ds_business_system`  (
  `id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT 'ID',
  `gmt_create` datetime NOT NULL COMMENT '创建时间',
  `gmt_modified` datetime NOT NULL COMMENT '更新时间',
  `deleted` tinyint(4) NOT NULL COMMENT '是否删除',
  `source` int(255) NOT NULL COMMENT '数据来源: 1-数安, 2-态势对接, 3-流数, 4-SOC',
  `name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '业务系统名',
  `ods_code` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT 'ODS编码',
  `archive_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '备案系统ID',
  `major_id` int(11) NULL DEFAULT NULL COMMENT '专业ID',
  `domain_id` int(11) NULL DEFAULT NULL COMMENT '安全域ID',
  `area_id` int(11) NULL DEFAULT NULL COMMENT '地域ID',
  `dept_id` bigint(20) NULL DEFAULT NULL COMMENT '归属部门ID',
  `dept_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '归属部门名',
  `dept_user` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '归属部门负责人',
  `dept_user_phone` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '归属部门负责人号码',
  `dept_user_mail` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NULL DEFAULT NULL COMMENT '归属部门负责人邮箱',
  `buz_dept_id` bigint(11) NULL DEFAULT NULL COMMENT '业务部门ID',
  `buz_dept_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '业务部门名',
  `buz_dept_user` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '业务部门负责人',
  `buz_dept_user_phone` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '业务部门负责人号码',
  `buz_dept_user_mail` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '业务部门负责人邮箱',
  `maint_dept_id` bigint(20) NULL DEFAULT NULL COMMENT '维护部门ID',
  `maint_dept_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '维护部门名',
  `maint_dept_user` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '维护部门负责人',
  `maint_dept_user_phone` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '维护部门负责人号码',
  `maint_dept_user_mail` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '维护部门负责人邮箱',
  `mgr_dept_id` bigint(20) NULL DEFAULT NULL COMMENT '管理部门ID',
  `mgr_dept_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '管理部门名',
  `mgr_dept_user` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '管理部门负责人',
  `mgr_dept_user_phone` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '管理部门负责人号码',
  `mgr_dept_user_mail` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '管理部门负责人邮箱',
  `soc_id` varchar(500) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT 'soc资产id',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `idx_arcId_del_modTime`(`deleted`, `archive_id`, `gmt_modified`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '业务系统表-新数安' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_ds_business_system_ip`;
CREATE TABLE `t_ds_business_system_ip`  (
  `id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT 'ID',
  `gmt_create` datetime NOT NULL COMMENT '创建时间',
  `gmt_modified` datetime NOT NULL COMMENT '更新时间',
  `deleted` tinyint(4) NOT NULL COMMENT '是否删除',
  `source` int(11) NOT NULL COMMENT '数据来源: 1-数安, 2-态势对接, 3-流数, 4-SOC',
  `system_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '业务系统ID',
  `type` int(11) NULL DEFAULT NULL COMMENT '类型: 0-主识别IP, 1-公网IP, 2-CN2IP, 3-DCNIP, 4-浮动IP, 5-私网IP',
  `ip` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT 'IP',
  `ip_type` tinyint(4) NULL DEFAULT NULL COMMENT 'IP类型: 1-IPV4, 2-IPV6',
  `port` int(11) NULL DEFAULT NULL COMMENT '端口',
  `vpn` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL,
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `idx_buzId_del_type`(`system_id`, `deleted`, `type`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '业务系统关联ip表-新数安' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_ds_class_personal_info`;
CREATE TABLE `t_ds_class_personal_info`  (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `gmt_create` datetime NOT NULL COMMENT '创建时间',
  `gmt_modified` datetime NOT NULL COMMENT '更新时间',
  `deleted` tinyint(4) NOT NULL COMMENT '是否删除',
  `data_source` tinyint(4) NOT NULL COMMENT '数据来源: 1-人工添加, 2-平台识别',
  `system_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT '业务系统ID',
  `asset_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '资产ID',
  `super_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '表ID',
  `business_scenario` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '业务场景',
  `db_version` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '数据库版本',
  `host_version` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '主机版本',
  `sub_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '字段ID (t_ds_class_sub)',
  `sub_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT '字段名称 (字段英文名)',
  `sub_cn_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '字段对应数据类型 (字段中文名)',
  `data_storage_form` tinyint(4) NULL DEFAULT NULL COMMENT '数据存储形式;1-原始数据、2-脱敏数据、3-标签数据、4-群体数据',
  `sub_sensitive_level` varchar(16) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '敏感级别',
  `sub_sensitive_class` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '敏感类型',
  `thirdapi_status_sensitive` tinyint(4) NULL DEFAULT NULL COMMENT '第三方分类分级状态: 1-第三方, 其它-系统',
  `sub_data_level` varchar(16) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '数据级别',
  `sub_data_class` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '数据类别',
  `thirdapi_status_data` tinyint(4) NULL DEFAULT NULL COMMENT '第三方分类分级状态: 1-第三方, 其它-系统',
  `imp_data_status` tinyint(4) NULL DEFAULT NULL COMMENT '重要数据状态: 0-不重要, 1-重要',
  `super_size` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '数据量',
  `retention_period` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '保存期限',
  `process_purpose` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '处理目的',
  `process_method` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '处理方式',
  `process_range` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '处理范围',
  `circulation_path` varchar(200) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '流转路径',
  `data_lifecycle_illustrate` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '数据生命周期保障措施简要说明',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 1818486267545923586 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '用户个人信息台账' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_ds_class_sub`;
CREATE TABLE `t_ds_class_sub`  (
  `id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT 'ID',
  `gmt_create` datetime NOT NULL COMMENT '创建时间',
  `gmt_modified` datetime NOT NULL COMMENT '更新时间',
  `deleted` tinyint(4) NOT NULL COMMENT '是否删除',
  `source` tinyint(1) NOT NULL COMMENT '数据来源: 1-数安, 2-态势对接, 3-流数, 4-SOC',
  `name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '字段名/文件名',
  `cn_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '中文名',
  `ods_code` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT 'ODS编码',
  `asset_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '资产ID',
  `super_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '表级ID',
  `super_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '表级名称',
  `parent_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '上级ID',
  `parent_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '上级名称',
  `type` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '类型 (数据库: 字段类型, 文件系统: 后缀, ES: type, Redis: DB)',
  `full_path` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '全路径',
  `length` bigint(20) NULL DEFAULT NULL COMMENT '字段长度',
  `memo` varchar(4000) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '字段描述',
  `primary_key` tinyint(1) NULL DEFAULT NULL COMMENT '是否主键',
  `nullable` tinyint(1) NULL DEFAULT NULL COMMENT '是否可空',
  `sensitive_level1` varchar(16) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '敏感级别1',
  `sensitive_class1` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '敏感类别1',
  `thirdapi_status_sensitive1` tinyint(4) NULL DEFAULT NULL COMMENT '第三方分类分级状态: 1-第三方, 其它-系统',
  `sensitive_level2` varchar(16) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '敏感级别2',
  `sensitive_class2` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '敏感类别2',
  `thirdapi_status_sensitive2` tinyint(4) NULL DEFAULT NULL COMMENT '第三方分类分级状态: 1-第三方, 其它-系统',
  `data_level1` varchar(16) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '数据级别1',
  `data_class1` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '数据类型1',
  `thirdapi_status_data1` tinyint(4) NULL DEFAULT NULL COMMENT '第三方分类分级状态: 1-第三方, 其它-系统',
  `data_level2` varchar(16) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '数据级别2',
  `data_class2` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '数据类别2',
  `thirdapi_status_data2` tinyint(4) NULL DEFAULT NULL COMMENT '第三方分类分级状态: 1-第三方, 其它-系统',
  `lifecycle_protection` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '生命周期防护',
  `retention_period` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '保留周期',
  `sub_size` bigint(20) NULL DEFAULT NULL COMMENT '文件大小(byte)',
  `file_type` tinyint(1) NULL DEFAULT NULL COMMENT '文件类型: 1-文件夹, 2-文件, 3-分词',
  `sample_data` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL COMMENT '样本数据，多个用|分隔',
  `sensitive_code` varchar(256) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '分类标签',
  `data_sign_id` bigint(20) NULL DEFAULT NULL COMMENT '数据标记id(表：t_asset_data_sign)',
  `audit_status` tinyint(1) NULL DEFAULT 0 COMMENT '识别状态 0-未标识 1-已标识 2-待审核',
  `caliber_desc` varchar(256) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '加工口径说明',
  `foreign_table_oid` varchar(256) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '外键表的唯一标识 库+表+字段',
  `foreign_key` tinyint(1) NULL DEFAULT NULL COMMENT '是否外键: 0-否, 1-是',
  `table_rows` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '表数据量',
  `table_schema` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '归属实例名',
  `column_context_type` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '字段内容类型',
  `data_mask_status` tinyint(11) NULL DEFAULT NULL COMMENT '数据脱敏状态: 0-不需脱敏, 1-需脱敏',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `idx_assetId_superName`(`asset_id`, `super_name`) USING BTREE,
  INDEX `idx_gmtModified`(`gmt_modified`) USING BTREE,
  INDEX `idx_auditStatus`(`audit_status`) USING BTREE,
  INDEX `idx_parentId`(`parent_id`) USING BTREE,
  INDEX `idx_sensitiveCode`(`sensitive_code`) USING BTREE,
  INDEX `idx_del_superId_name`(`deleted`, `super_id`, `name`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '分类分级字段元信息-新数安' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_ds_class_summary_asset`;
CREATE TABLE `t_ds_class_summary_asset`  (
  `id` bigint(20) NOT NULL COMMENT '主键id',
  `dept_id` bigint(20) NULL DEFAULT NULL COMMENT '部门ID',
  `archive_id` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '备案系统ID',
  `system_id` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '业务系统ID',
  `asset_id` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '资产ID',
  `standard_type` int(11) NOT NULL COMMENT '规范类型: 11-敏感1, 12-敏感2, 21-数据1, 22-数据2',
  `standard_code` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '分级分类标准 (标准代码)',
  `level` varchar(16) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '级别',
  `sub_sum` int(11) NULL DEFAULT NULL COMMENT '_each 级统计',
  `struct_type` tinyint(4) NULL DEFAULT NULL COMMENT '类型: 1-结构化, 2-半结构化, 3-非结构化',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `idx_systemId`(`system_id`) USING BTREE,
  INDEX `idx_structType`(`struct_type`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_bin COMMENT = '统计表-资产级' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_ds_class_summary_class`;
CREATE TABLE `t_ds_class_summary_class`  (
  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT '主键id',
  `dept_id` bigint(20) NULL DEFAULT NULL COMMENT '部门ID',
  `archive_id` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '备案系统ID',
  `system_id` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '业务系统ID',
  `asset_id` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '资产ID',
  `super_id` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '表级ID',
  `standard_type` int(11) NOT NULL COMMENT '规范类型: 11-敏感1, 12-敏感2, 21-数据1, 22-数据2',
  `standard_code` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '规范编码',
  `class_code` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '类别编码(敏感/数据)',
  `class_desc` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '类别描述(敏感/数据)',
  `sub_sum` int(11) NULL DEFAULT NULL COMMENT '_each 级统计',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `idx_systemId`(`system_id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 1820279111139000323 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_bin COMMENT = '统计表-分类' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_ds_class_summary_each`;
CREATE TABLE `t_ds_class_summary_each`  (
  `id` bigint(20) NOT NULL COMMENT '主键id',
  `dept_id` bigint(20) NULL DEFAULT NULL COMMENT '部门ID',
  `archive_id` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '备案系统ID',
  `system_id` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '业务系统ID',
  `asset_id` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '资产ID',
  `super_id` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '表级ID',
  `sub_id` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '字段级ID',
  `standard_type` int(11) NOT NULL COMMENT '规范类型: 11-敏感1, 12-敏感2, 21-数据1, 22-数据2',
  `standard_code` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '规范编码',
  `sensitive_code` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '标签',
  `level` varchar(16) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NULL DEFAULT NULL COMMENT '级别(敏感/数据)',
  `class_code` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '类别编码(敏感/数据)',
  `class_desc` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '类别描述(敏感/数据)',
  `class_pre1` varchar(16) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '类型编码前一级',
  `class_pre2` varchar(16) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '类型编码前两级',
  `data_sign_id` bigint(20) NULL DEFAULT NULL COMMENT '数据标记ID',
  `scan_date` datetime NULL DEFAULT NULL COMMENT '扫描日期',
  `scan_date_ymd` date NULL DEFAULT NULL COMMENT '扫描日期',
  `struct_type` tinyint(4) NULL DEFAULT NULL COMMENT '类型: 1-结构化, 2-半结构化, 3-非结构化',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `idx_superId`(`super_id`) USING BTREE,
  INDEX `idx_assetId`(`asset_id`) USING BTREE,
  INDEX `idx_systemId`(`system_id`) USING BTREE,
  INDEX `idx_sensitiveCode_systemId`(`sensitive_code`, `system_id`) USING BTREE,
  INDEX `idx_subId_assetId_level`(`sub_id`, `asset_id`, `level`) USING BTREE,
  INDEX `idx_subId_assetId_class`(`sub_id`, `asset_id`, `class_code`) USING BTREE,
  INDEX `idx_optimize_query`(`dept_id`, `standard_type`, `struct_type`, `system_id`, `level`, `sensitive_code`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_bin COMMENT = '统计表-字段级' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_ds_class_summary_super`;
CREATE TABLE `t_ds_class_summary_super`  (
  `id` bigint(20) NOT NULL COMMENT '主键id',
  `dept_id` bigint(20) NULL DEFAULT NULL COMMENT '部门ID',
  `archive_id` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '备案系统ID',
  `system_id` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '业务系统ID',
  `asset_id` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '资产ID',
  `super_id` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '表级ID',
  `standard_type` int(11) NOT NULL COMMENT '规范类型: 11-敏感1, 12-敏感2, 21-数据1, 22-数据2',
  `standard_code` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '规范编码',
  `level` varchar(16) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NULL DEFAULT NULL COMMENT '级别(敏感/数据)',
  `class_code` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '类别编码(敏感/数据)',
  `class_desc` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '类别描述(敏感/数据)',
  `class_pre1` varchar(16) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '类型编码前一级',
  `class_pre2` varchar(16) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '类型编码前两级',
  `scan_date_ymd` date NULL DEFAULT NULL COMMENT '扫描日期',
  `sub_sum` int(11) NULL DEFAULT NULL COMMENT '_each 级统计',
  `struct_type` tinyint(4) NULL DEFAULT NULL COMMENT '类型: 1-结构化, 2-半结构化, 3-非结构化',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `idx_superId`(`super_id`) USING BTREE,
  INDEX `idx_systemId`(`system_id`) USING BTREE,
  INDEX `idx_assetId_level`(`asset_id`, `level`) USING BTREE,
  INDEX `idx_assetId_class`(`asset_id`, `class_code`) USING BTREE,
  INDEX `idx_structType`(`struct_type`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_bin COMMENT = '统计表-表级' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_ds_class_super`;
CREATE TABLE `t_ds_class_super`  (
  `id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT 'ID',
  `gmt_create` datetime NOT NULL COMMENT '创建时间',
  `gmt_modified` datetime NOT NULL COMMENT '更新时间',
  `deleted` tinyint(4) NOT NULL COMMENT '是否删除',
  `source` tinyint(1) NOT NULL COMMENT '数据来源: 1-数安, 2-态势对接, 3-流数, 4-SOC',
  `ods_code` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT 'ODS编码',
  `dept_id` bigint(20) NULL DEFAULT NULL COMMENT '部门ID',
  `system_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '业务系统ID',
  `asset_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '资产ID',
  `name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '表名',
  `cn_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '中文名',
  `struct_type` tinyint(1) NULL DEFAULT NULL COMMENT '资产结构化类型: 1-结构化, 2-半结构化, 3-非结构化',
  `asset_type` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '资产类型 (mysql/hdfs/sftp/redis/...)',
  `ip` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT 'IP',
  `port` int(11) NULL DEFAULT NULL COMMENT '端口',
  `sub_count` bigint(20) NULL DEFAULT NULL COMMENT '子数据量',
  `row_count` bigint(20) NULL DEFAULT NULL COMMENT '行数',
  `super_size` bigint(20) NULL DEFAULT NULL COMMENT '表大小(byte)',
  `shared_sys_num` int(11) NULL DEFAULT NULL COMMENT '共享系统个数',
  `update_freq` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '更新频次',
  `storage_cycle` int(11) NULL DEFAULT NULL COMMENT '存储周期',
  `datalake_status` tinyint(1) NULL DEFAULT NULL COMMENT '数据湖状态: 0-未上传, 1-已上传',
  `business_tag` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '业务标签',
  `subj_domain` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '主题域',
  `subj_sub_domain` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '主题子域',
  `domain_group` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '域分组',
  `sample_data` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL COMMENT '样本数据，多个用|分隔',
  `memo` text CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL COMMENT '表简介',
  `extra_info` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL COMMENT '额外信息 (数据库: ddl)',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `ods_code_index`(`ods_code`) USING BTREE,
  INDEX `idx_assetId_name`(`asset_id`, `name`) USING BTREE,
  INDEX `idx_deptId_systemId_gmtCreate`(`gmt_create`, `dept_id`, `system_id`) USING BTREE,
  INDEX `idx_systemId_deptId_gmtCreate`(`gmt_create`, `system_id`, `dept_id`) USING BTREE,
  INDEX `idx_del_strType`(`deleted`, `struct_type`, `dept_id`) USING BTREE,
  INDEX `idx_deptId`(`dept_id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '分类分级表元信息-新数安' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_ds_core_important_ledger`;
CREATE TABLE `t_ds_core_important_ledger`  (
  `id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT 'id',
  `name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '数据名称',
  `specification` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '依据数据分类分级规范',
  `one_classify` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '数据一级类别',
  `second_classify` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '数据二级类别',
  `third_classify` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '数据三级类别',
  `four_classify` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '数据四级类别',
  `data_level` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '数据级别',
  `data_carrier` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '数据载体',
  `data_source` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '数据来源',
  `data_size` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '数据数量（单位：GB）',
  `data_num` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '数据数量（单位：条）',
  `cover_type` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '覆盖类型',
  `cover_percent` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '覆盖占比',
  `data_accuracy` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '数据精度',
  `detail_desc` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL COMMENT '详细描述',
  `deal_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '数据处理者名称',
  `organ_code` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '机构代码',
  `province` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '数据处理者所在地：省',
  `city` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '数据处理者所在地：市',
  `deal_nature` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '数据处理者性质',
  `industry` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '所属行业',
  `business_scope` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '主营业务范围',
  `security_responsible` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '数据安全负责人：姓名',
  `security_responsible_duty` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '数据安全负责人：职务',
  `security_responsible_phone` bigint(20) NULL DEFAULT NULL COMMENT '数据安全负责人：联系方式',
  `active_method` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '数据处理活动方式',
  `deal_purpose` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '数据处理目的',
  `is_alg_auto` int(10) NULL DEFAULT NULL COMMENT '是否涉及算法自动化处理',
  `is_exit` int(10) NULL DEFAULT NULL COMMENT '是否出境',
  `exit_rcv` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '数据出境接收方名称',
  `exit_method` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '数据出境方式',
  `is_exit_assess` int(10) NULL DEFAULT NULL COMMENT '是否开展数据出境安全评估',
  `exit_result` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '数据出境安全评估结果',
  `is_external_share` int(10) NULL DEFAULT NULL COMMENT '是否对外共享',
  `share_rcv` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '数据对外共享接收方名称',
  `share_method` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '数据对外共享方式',
  `is_cross_flow` int(10) NULL DEFAULT NULL COMMENT '是否涉及跨主体流动',
  `is_foreign_related` int(10) NULL DEFAULT NULL COMMENT '是否为涉外数据',
  `business_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '信息系统名称',
  `business_type` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '信息系统类型',
  `business_ip` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '信息系统IP地址',
  `business_host` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '信息系统域名',
  `security_level_protect` int(10) NULL DEFAULT NULL COMMENT '网络安全等级保护情况',
  `communication_security` int(10) NULL DEFAULT NULL COMMENT '通信网络安全防护定级备案情况',
  `is_critical_info_facilities` int(10) NULL DEFAULT NULL COMMENT '是否为关键信息基础设施',
  `is_security_risk_assess` int(10) NULL DEFAULT NULL COMMENT '是否进行数据安全风险评估',
  `assess_org` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '评估机构',
  `assess_std` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '评估规范',
  `assess_time` datetime NULL DEFAULT NULL COMMENT '评估时间',
  `assess_result` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '评估结论',
  `dept_id` bigint(22) NULL DEFAULT NULL COMMENT '责任部门',
  `responsible` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '责任人',
  `responsible_phone` bigint(20) NULL DEFAULT NULL COMMENT '联系电话',
  `create_time` datetime NULL DEFAULT NULL COMMENT '创建时间',
  `update_time` datetime NULL DEFAULT NULL COMMENT '更新时间',
  `deleted` int(2) NULL DEFAULT NULL COMMENT '逻辑删除：0-未删除 1-已删除',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '核心重要数据台账表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_ds_excel_export_task`;
CREATE TABLE `t_ds_excel_export_task`  (
  `id` bigint(11) NOT NULL COMMENT '主键id',
  `gmt_create` datetime NOT NULL COMMENT '创建时间',
  `gmt_modified` datetime NOT NULL COMMENT '更新时间',
  `deleted` tinyint(4) NOT NULL COMMENT '是否删除',
  `name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT '任务名称',
  `tmp_file_id` int(11) NOT NULL COMMENT '模版文件ID',
  `type` int(11) NOT NULL COMMENT '类型: 1-立即执行, 2-单次, 3-周期',
  `exec_num` int(11) NULL DEFAULT NULL COMMENT '周期执行时长',
  `exec_unit` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '周期执行单位 0-天  1-周  2-月  3-年',
  `exec_period_time` int(11) NULL DEFAULT NULL COMMENT '时间整点范围：0-23',
  `pre_status` tinyint(4) NOT NULL COMMENT '前置状态: 0-未开启, 1-开启',
  `post_status` tinyint(4) NOT NULL COMMENT '后置状态: 0-未开启, 1-开启',
  `pre_sql` text CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL COMMENT '前置SQL',
  `post_sql` text CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL COMMENT '后置SQL',
  `exp_sql` text CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT '导出SQL',
  `create_user_id` bigint(20) NULL DEFAULT NULL COMMENT '创建用户ID',
  `result_info` varchar(1024) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '导出结果',
  `status` tinyint(4) NULL DEFAULT NULL COMMENT '任务状态: 0-下线, 1-上线',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `idx_name_del`(`name`, `deleted`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = 'excel导出任务-新数安' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_ds_excel_export_task_mapping`;
CREATE TABLE `t_ds_excel_export_task_mapping`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键id',
  `gmt_create` datetime NOT NULL COMMENT '创建时间',
  `task_id` bigint(20) NOT NULL COMMENT '任务ID (t_ds_excel_export_task)',
  `download_id` bigint(20) NOT NULL COMMENT '导出ID (t_sys_sync_download)',
  `file_code` varchar(512) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT '文件标识 (sys_file)',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 104 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = 'excel导出任务关联表-新数安' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_ds_excel_export_task_param`;
CREATE TABLE `t_ds_excel_export_task_param`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键id',
  `gmt_create` datetime NOT NULL COMMENT '创建时间',
  `task_id` bigint(11) NOT NULL COMMENT '任务ID',
  `param_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT '参数名',
  `param_desc` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '描述',
  `param_value` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT '参数值',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 3 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = 'excel导出任务参数-新数安' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_ds_excel_meta`;
CREATE TABLE `t_ds_excel_meta`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键id',
  `data_source` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '数据源(中文)',
  `table_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '表名',
  `title_row_no` int(11) NULL DEFAULT NULL COMMENT '标题行号',
  `data_row_no` int(11) NULL DEFAULT NULL COMMENT '数据起始行号',
  `status` int(11) NULL DEFAULT NULL COMMENT '状态: 1-创建中, 2-创建完成',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 64 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '自定义导出-数据源' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_ds_excel_meta_col`;
CREATE TABLE `t_ds_excel_meta_col`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键id',
  `meta_id` int(11) NULL DEFAULT NULL COMMENT '数据类型id',
  `col_index` int(11) NULL DEFAULT NULL COMMENT '字段索引',
  `col_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '字段名',
  `col_cn_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '字段中文名',
  `col_type` tinyint(1) NULL DEFAULT NULL COMMENT '字段类型 1-数字 2-文本 3-日期',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 452 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '自定义导出-指定字段' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_ds_excel_meta_ver`;
CREATE TABLE `t_ds_excel_meta_ver`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键id',
  `meta_id` int(11) NULL DEFAULT NULL COMMENT '数据类型id',
  `version` int(11) NULL DEFAULT NULL COMMENT '版本',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 6 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '自定义导出-版本' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_ds_risk`;
CREATE TABLE `t_ds_risk`  (
  `id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT '主键id',
  `gmt_create` datetime NOT NULL COMMENT '创建时间',
  `gmt_modified` datetime NOT NULL COMMENT '更新时间',
  `deleted` tinyint(4) NOT NULL COMMENT '是否删除',
  `source` int(11) NOT NULL COMMENT '数据来源: 1-数安, 2-态势对接, 3-流数, 4-SOC',
  `name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '风险名称',
  `level` int(255) NULL DEFAULT NULL COMMENT '风险级别',
  `type` int(255) NULL DEFAULT NULL COMMENT '风险类型',
  `type_pre` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '风险类型前缀',
  `type_desc` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '风险名称',
  `src_ip` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '来源IP',
  `src_port` int(255) NULL DEFAULT NULL COMMENT '来源端口',
  `dest_ip` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '目标IP',
  `dest_port` int(255) NULL DEFAULT NULL COMMENT '目标端口',
  `happened_time` datetime NULL DEFAULT NULL COMMENT '风险发生时间',
  `risk_status` int(11) NULL DEFAULT NULL COMMENT '风险状态',
  `responsible_person` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '责任人',
  `risk_disposal_time` datetime NULL DEFAULT NULL COMMENT '风险处置时间',
  `risk_disposal_measures` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '风险处置措施',
  `core_data_status` int(255) NULL DEFAULT NULL COMMENT '核心数据状态',
  `pers_info_status` int(255) NULL DEFAULT NULL COMMENT '个人信息状态',
  `user_sensitivity_status` int(255) NULL DEFAULT NULL COMMENT '用户敏感信息状态',
  `risk_mon_pfm_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '风险监测平台名称',
  `pfm_provider` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '平台厂商',
  `detect_comps` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '风险发现组件',
  `risk_source` int(11) NULL DEFAULT NULL COMMENT '风险来源',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '风险表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_ds_risk_asset`;
CREATE TABLE `t_ds_risk_asset`  (
  `id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT 'ID',
  `gmt_create` datetime NOT NULL COMMENT '创建时间',
  `gmt_modified` datetime NOT NULL COMMENT '更新时间',
  `deleted` tinyint(4) NOT NULL COMMENT '是否删除',
  `risk_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '风险ID',
  `type` int(11) NULL DEFAULT NULL COMMENT '资产类型: 1-数据库, 2-API, 3-文件系统',
  `archive_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '备案系统ID',
  `system_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '业务系统ID',
  `asset_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '资产ID',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '风险资产关联表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_ds_risk_ledger`;
CREATE TABLE `t_ds_risk_ledger`  (
  `id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT 'id',
  `name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '数据名称',
  `data_classify` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '数据类别',
  `data_level` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '数据级别',
  `detail_desc` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL COMMENT '详细描述',
  `business_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '信息系统名称',
  `dept_id` bigint(20) NULL DEFAULT NULL COMMENT '责任部门id',
  `responsible` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '责任人',
  `responsible_phone` bigint(20) NULL DEFAULT NULL COMMENT '联系电话',
  `create_time` datetime NULL DEFAULT NULL COMMENT '创建时间',
  `update_time` datetime NULL DEFAULT NULL COMMENT '更新时间',
  `deleted` int(2) NULL DEFAULT NULL COMMENT '逻辑删除 ： 0-未删除 1-已删除',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '高风险数据台账表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_ds_safety_ledger`;
CREATE TABLE `t_ds_safety_ledger`  (
  `id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL,
  `gmt_create` datetime NOT NULL COMMENT '创建时间',
  `gmt_modified` datetime NOT NULL COMMENT '更新时间',
  `deleted` tinyint(4) NOT NULL COMMENT '是否删除',
  `source` int(255) NOT NULL COMMENT '数据来源: 1-数安, 2-态势对接, 3-流数, 4-SOC',
  `archive_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '备案系统ID',
  `has_comp_check` tinyint(4) NULL DEFAULT NULL COMMENT '是否有合规性评估',
  `comp_check_time` datetime NULL DEFAULT NULL COMMENT '合规性评估时间',
  `comp_check_org` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '合规性评估机构',
  `comp_check_std` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '合规性评估规范',
  `comp_check_conc` varchar(200) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '合规性评估结论',
  `comp_check_details` varchar(200) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '合规性评估详情',
  `has_out_risk` tinyint(255) NULL DEFAULT 0 COMMENT '是否有出境数据',
  `has_risk_check` tinyint(4) NULL DEFAULT NULL COMMENT '是否有风险评估',
  `risk_check_time` datetime NULL DEFAULT NULL COMMENT '风险评估时间',
  `risk_check_org` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '风险评估机构',
  `risk_check_std` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '风险评估规范',
  `risk_check_conc` varchar(200) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '风险评估结论',
  `risk_check_details` varchar(200) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '风险评估详情',
  `has_overseas_check` tinyint(4) NULL DEFAULT 0 COMMENT '是否有出境安全评估',
  `overseas_check_time` datetime NULL DEFAULT NULL COMMENT '出境安全评估时间',
  `overseas_check_org` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '出境安全评估机构',
  `overseas_check_std` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '出境安全评估规范',
  `overseas_check_conc` varchar(200) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '出境安全评估结论',
  `overseas_check_details` varchar(200) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '出境安全评估详情',
  `overseas_check_rcv` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '出境接收方',
  `overseas_check_mode` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '出境方式',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `idx_arcId`(`archive_id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '风险安全台账' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_ds_soc_ticket`;
CREATE TABLE `t_ds_soc_ticket`  (
  `id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT 'id',
  `warn_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '告警id(warnStrategyLog)',
  `ticket_id` int(11) NULL DEFAULT NULL COMMENT '工单id(SOC平台工单id下载文件时传此id,调用soc下载文件接口)',
  `start_time` datetime NOT NULL COMMENT '执行开始时间',
  `finish_time` datetime NOT NULL COMMENT '更新时间',
  `create_time` datetime NOT NULL COMMENT '流程变更创建时间',
  `processor_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '处理人',
  `processing_specification` text CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL COMMENT '处理说明',
  `link_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '环节名称',
  `processing_result` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '处理结果',
  `status` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '当前工单状态(0: 待处理 1:  2: 已确认 3: 已处理 4:  5: 误报 6: 待审核 7: 转发待处理 8: 处置超时 9:  10: 审核不通过)',
  `extra_info` text CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL COMMENT '系统信息列表',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '工单详情表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_ds_thirdapi_cus_class`;
CREATE TABLE `t_ds_thirdapi_cus_class`  (
  `id` bigint(20) NOT NULL COMMENT '主键id',
  `gmt_create` datetime NOT NULL COMMENT '创建时间',
  `gmt_modified` datetime NOT NULL COMMENT '更新时间',
  `ip` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '数据库IP',
  `port` int(11) NULL DEFAULT NULL COMMENT '数据库端口',
  `instance` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '数据库实例名',
  `schema` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '数据库模式名',
  `table_name` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '表名',
  `column_name` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '字段名',
  `sub_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NULL DEFAULT NULL COMMENT '字段级ID',
  `app_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NULL DEFAULT NULL COMMENT '应用ID',
  `app_name` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '应用名',
  `standard_type` int(11) NOT NULL COMMENT '规范类型: 11-敏感1, 12-敏感2, 21-数据1, 22-数据2',
  `level` varchar(16) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NULL DEFAULT NULL COMMENT '分级',
  `class_code` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NULL DEFAULT NULL COMMENT '分类',
  PRIMARY KEY (`id`) USING BTREE,
  UNIQUE INDEX `uniq_subId_stdType`(`sub_id`, `standard_type`) USING BTREE,
  INDEX `idx_all`(`ip`, `port`, `instance`, `schema`, `table_name`, `column_name`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_bin COMMENT = '第三方干预表-新数安' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_hn_api_info`;
CREATE TABLE `t_hn_api_info`  (
  `id` bigint(20) UNSIGNED NOT NULL AUTO_INCREMENT COMMENT '主键id',
  `api_id` bigint(20) UNSIGNED NULL DEFAULT NULL COMMENT 'api资产的id',
  `api_id10` bigint(20) UNSIGNED NULL DEFAULT NULL COMMENT 'api资产的id',
  `ver_id` bigint(20) NULL DEFAULT NULL COMMENT '版本id',
  `api_name` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT 'API名称',
  `eop_name` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT 'EOP名称',
  `eop_protocol` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT 'EOP协议',
  `eop_env_name` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT 'EOP环境名称',
  `api_url` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT 'API资源路径',
  `creator_name` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '创建人名称',
  `create_time` datetime NULL DEFAULT NULL COMMENT '创建日期',
  `creator_account` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '创建账号',
  `belong_sys` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '归属系统',
  `archive_name` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '定级备案名称',
  `update_time` datetime NULL DEFAULT NULL COMMENT '更新时间',
  `is_qualified` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '是否合格',
  `unqualified_reason` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '不合格原因',
  `invoke_url` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '调用地址',
  `service_url` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '服务地址',
  `service_ip` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '服务地址_IP',
  `service_port` int(11) NULL DEFAULT NULL COMMENT '服务地址_端口',
  `corp_name` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '企业信息',
  `api_tags` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT 'API标签',
  `source` tinyint(4) NULL DEFAULT NULL COMMENT '来源: 1-导入, 2-人工新增',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `idx_apiId_verId`(`api_id`, `ver_id`) USING BTREE,
  INDEX `idx_ip_port`(`service_ip`, `service_port`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 1 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '河南api资产信息' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_hn_sen_analysis_result`;
CREATE TABLE `t_hn_sen_analysis_result`  (
  `ID` bigint(20) NULL DEFAULT NULL COMMENT '编号',
  `SYS_ID` bigint(20) NULL DEFAULT NULL COMMENT '业务系统ID',
  `ASSET_ID` bigint(20) NULL DEFAULT NULL COMMENT '资产ID',
  `ASSET_IP` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '服务器IP',
  `ASSET_PORT` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '资产端口',
  `ASSET_DBNAME` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '数据库名',
  `TABLE_ID` bigint(20) NULL DEFAULT NULL COMMENT '表ID',
  `TABLE_NAME` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '表名',
  `COLUMN_ID` bigint(20) NULL DEFAULT NULL COMMENT '列ID',
  `COLUMN_NAME` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '列名',
  `CHARACTERISTIC_ID` bigint(20) NULL DEFAULT NULL COMMENT '特征ID',
  `CHARACTERISTIC_NAME` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '数据标签（特征名）',
  `SUB_CLASSFY` varchar(16) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '数据类别',
  `LEVEL` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '数据级别',
  `STATUS` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '数据脱敏加密状态0-加密1-脱敏2-未处理 '
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '河南加密脱敏敏感数据二次分析结果表 ' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_hn_service_name_url_mapping`;
CREATE TABLE `t_hn_service_name_url_mapping`  (
  `id` bigint(20) UNSIGNED NOT NULL AUTO_INCREMENT COMMENT '主键id',
  `archive_name` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '定级备案名称',
  `service_url` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '服务地址',
  `service_ip` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '服务地址_IP',
  `service_port` int(10) UNSIGNED NULL DEFAULT NULL COMMENT '服务地址_端口',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `idx_ip_port`(`service_ip`, `service_port`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 1 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '河南服务地址关联表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_monitor_henan`;
CREATE TABLE `t_monitor_henan`  (
  `id` bigint(20) UNSIGNED NOT NULL AUTO_INCREMENT COMMENT '主键id',
  `record_time` datetime NOT NULL COMMENT '记录时间',
  `monitor_type` tinyint(4) NOT NULL COMMENT '类型: 1-Kafka存活, 2-4A消息',
  `monitor_status` tinyint(4) NOT NULL COMMENT '状态: 1-成功, 2-失败',
  `monitor_info` text CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL COMMENT '监控信息(json字符串)',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `idx_monitorType_recordTime`(`monitor_type`, `record_time`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 1823267585836249090 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '河南监控器' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_resource_data_desensitization`;
CREATE TABLE `t_resource_data_desensitization`  (
  `id` bigint(20) NOT NULL COMMENT '主键',
  `role_id` varchar(300) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '角色id,多个用,分隔',
  `path` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '接口地址',
  `column` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '脱敏字段;多个用逗号分隔',
  `type` char(2) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '脱敏类型;0-局部遮蔽，1-全遮蔽，2-混淆，3-屏蔽',
  `is_deleted` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '0' COMMENT '是否删除，0未删除，1删除',
  `created_by` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '创建人',
  `created_time` datetime NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `updated_by` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '更新人',
  `updated_time` datetime NULL DEFAULT CURRENT_TIMESTAMP COMMENT '更新时间',
  `crypt_enable` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '0' COMMENT '是否加密接口报文，0-不加密，1-加密',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '数据脱敏配置表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_risk_association`;
CREATE TABLE `t_risk_association`  (
  `id` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '主键id',
  `report_status` tinyint(4) NULL DEFAULT 0 COMMENT '上报状态: 0-未上报, 1-成功, 2-失败',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '风险关联表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_safty_component_app`;
CREATE TABLE `t_safty_component_app`  (
  `id` bigint(20) NOT NULL COMMENT '主键。应用ID',
  `appName` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '应用名称',
  `appVersion` varchar(24) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '应用版本',
  `appType` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '应用类型,dbfhq(数据库防火墙),jt(静脱),dt(动脱),ls(流速)',
  `appFlag` varchar(16) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '应用标识,sjdbfhq(闪捷防火墙)，sjjt(闪捷静脱)，sjdt(闪捷动脱)，ahfhq(安华防火墙),ffcsls(福富流速)',
  `appAdress` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '应用地址,接口调用',
  `secretKey` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '数据密钥',
  `loginUrl` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '登录地址',
  `status` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '状态,1启用，0禁用',
  `syncAsset` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '是否同步资产，0不同步，1同步',
  `isDelete` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '是否删除，0未删除，1删除',
  `depoly` varchar(24) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '部署模式',
  `memo` varchar(1024) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '备注',
  `updatetime` datetime NULL DEFAULT NULL COMMENT '修改时间',
  `createtime` datetime NULL DEFAULT NULL COMMENT '创建时间',
  `topic` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT 'ＭＱ订阅主题',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `idx_appinfo`(`appName`, `createtime`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '安全组件应用表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_safty_component_app_asset_rela`;
CREATE TABLE `t_safty_component_app_asset_rela`  (
  `id` bigint(20) NOT NULL COMMENT '主键。应用ID',
  `appId` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '应用id',
  `assetId` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '资产id',
  `createtime` datetime NULL DEFAULT NULL COMMENT '创建时间',
  PRIMARY KEY (`id`) USING BTREE,
  UNIQUE INDEX `uni_appAsset`(`appId`, `assetId`) USING BTREE,
  INDEX `idx_appinfo`(`appId`, `createtime`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '安全组件应用-资产关联表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_safty_thirduser`;
CREATE TABLE `t_safty_thirduser`  (
  `id` bigint(20) NOT NULL COMMENT '主键id',
  `user_name` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '本平台账号',
  `app_id` bigint(20) NULL DEFAULT NULL COMMENT '第三方应用id',
  `third_account` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '第三方平台账号',
  `createtime` datetime NULL DEFAULT NULL COMMENT '创建时间',
  PRIMARY KEY (`id`) USING BTREE,
  UNIQUE INDEX `idx_thirduser_1`(`user_name`, `app_id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '安全组件账号绑定关系表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_schedule_task_info`;
CREATE TABLE `t_schedule_task_info`  (
  `id` int(11) NOT NULL COMMENT '主键id',
  `taskName` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '任务名称',
  `taskParams` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '任务参数,多参数以逗号相隔',
  `execBeginTime` datetime NULL DEFAULT NULL COMMENT '执行开始时间',
  `execEndTime` datetime NULL DEFAULT NULL COMMENT '执行结束时间',
  `runFlag` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT '0' COMMENT '执行标识,0表示待执行,1表示执行中',
  `status` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT '0' COMMENT '0-执行成功,1-执行失败',
  `message` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '错误说明',
  `createtime` datetime NULL DEFAULT NULL COMMENT '创建时间',
  PRIMARY KEY (`id`) USING BTREE,
  UNIQUE INDEX `idx_scheduletask_flag`(`taskName`) USING BTREE,
  INDEX `idx_scheduletask`(`execBeginTime`, `execEndTime`, `createtime`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '计划任务表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_sensitive_scan_log`;
CREATE TABLE `t_sensitive_scan_log`  (
  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT 'id',
  `task_id` bigint(20) NULL DEFAULT NULL COMMENT '扫描任务id',
  `task_name` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '任务名称',
  `bussinsess_system_name` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '业务系统名称',
  `database_name` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '数据库/文件名称',
  `create_time` datetime NOT NULL COMMENT '开始时间',
  `end_time` datetime NULL DEFAULT NULL COMMENT '结束时间',
  `create_user_id` bigint(20) NOT NULL COMMENT '执行用户id',
  `task_type` tinyint(4) NULL DEFAULT NULL COMMENT '执行方式 1-手工执行,2-定时执行',
  `approval_status` tinyint(4) NULL DEFAULT NULL COMMENT '执行状态 0-开始执行,1-执行成功，2-执行出错',
  `msg` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '错误信息',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 1820278576608509954 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '敏感策略扫描任务日志' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_st_approval`;
CREATE TABLE `t_st_approval`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键id',
  `remote_file_id` varchar(20) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '文档中心文件id',
  `local_file_id` bigint(20) NULL DEFAULT NULL COMMENT '本地文件id',
  `file_name` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '文件名',
  `export_type` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '导出类型',
  `export_user` bigint(10) NULL DEFAULT NULL COMMENT '导出用户',
  `export_module` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '导出模块',
  `export_size` int(10) NULL DEFAULT NULL COMMENT '导出数据量',
  `export_start_time` datetime NULL DEFAULT NULL COMMENT '导出开始时间',
  `export_end_time` datetime NULL DEFAULT NULL COMMENT '导出结束时间',
  `export_status` int(1) NULL DEFAULT NULL COMMENT '导出状态0审批中、1导出成功、2验证失败、3导出异常',
  `approval_user` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '审批人',
  `approval_time` datetime NULL DEFAULT NULL COMMENT '发起审批时间',
  `failure_count` int(1) NULL DEFAULT 0 COMMENT '失败次数',
  `create_time` datetime NULL DEFAULT NULL COMMENT '创建时间',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 179 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '导出审批记录' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_st_assess_config`;
CREATE TABLE `t_st_assess_config`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键',
  `item_id` int(11) NOT NULL COMMENT '指标id',
  `rule_type` tinyint(4) NOT NULL COMMENT '规则类型 1-规则1、2-规则2',
  `rule_content` varchar(1000) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '计分规则，json格式',
  `interval_unit` tinyint(4) NOT NULL COMMENT '执行间隔单位: 1-单次, 2-日, 3-周, 4-月',
  `begin_time` varchar(20) CHARACTER SET latin1 COLLATE latin1_swedish_ci NULL DEFAULT NULL COMMENT '单次运行取数开始时间yyyyMMdd HH:mm:ss',
  `end_time` varchar(20) CHARACTER SET latin1 COLLATE latin1_swedish_ci NULL DEFAULT NULL COMMENT '单次运行取数结束时间yyyyMMdd HH:mm:ss',
  `week_time` tinyint(4) NULL DEFAULT NULL COMMENT '按周运行时间点，1-7对应周一到周天',
  `month_time` tinyint(4) NULL DEFAULT NULL COMMENT '按月运行时间点，范围1-30',
  `create_time` datetime NOT NULL COMMENT '创建时间',
  `deleted` tinyint(4) NOT NULL COMMENT '删除状态;删除状态：0-未删除，1-已删除',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 1 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '数据质量考核指标策略配置表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_st_assess_item`;
CREATE TABLE `t_st_assess_item`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键',
  `name` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '指标名称',
  `code` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '指标编码',
  `item_desc` varchar(500) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '指标定义',
  `parent_id` int(11) NULL DEFAULT NULL COMMENT '父级指标id',
  `need_rule` tinyint(4) NOT NULL COMMENT '是否需要配置计分规则：0-不需要，1-需要',
  `need_time` tinyint(4) NOT NULL COMMENT '是否需要配置取数周期：0-不需要，1-需要',
  `weight` int(11) NULL DEFAULT NULL COMMENT '指标权重',
  `status` tinyint(4) NOT NULL COMMENT '指标状态：0-未启用，1-启用',
  `current_config_id` int(11) NULL DEFAULT NULL COMMENT '当前使用配置id',
  `deleted` tinyint(4) NOT NULL COMMENT '删除状态;删除状态：0-未删除，1-已删除',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 43 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '数据质量考核指标定义表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_st_assess_score`;
CREATE TABLE `t_st_assess_score`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键',
  `area_code` int(11) NOT NULL COMMENT '区域编码',
  `score` decimal(10, 2) NOT NULL COMMENT '分数',
  `percent` decimal(10, 2) NULL DEFAULT NULL COMMENT '指标百分比',
  `sort` tinyint(4) NULL DEFAULT NULL COMMENT '总分排名，非总分时为空',
  `item_id` int(11) NULL DEFAULT NULL COMMENT '指标id，总得分为空',
  `item_code` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '指标编码',
  `config_id` int(11) NULL DEFAULT NULL COMMENT '评分时指标对应配置id',
  `weight` int(11) NULL DEFAULT NULL COMMENT '评分时指标对应权重',
  `sub_score_ids` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '下级指标分数id，英文逗号分隔',
  `score_date` int(8) NOT NULL COMMENT '评分日期（yyyyMMdd）',
  `deleted` tinyint(4) NOT NULL COMMENT '删除状态;删除状态：0-未删除，1-已删除',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 1 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '数据质量考核分数表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_st_asset_api`;
CREATE TABLE `t_st_asset_api`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键',
  `area_code` int(11) NOT NULL COMMENT '部门编码;部门编码，用于创建分区标识',
  `company` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '归属部门;归属部门',
  `area_business_id` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '业务系统ID;业务系统ID，省内唯一',
  `business_id` int(11) NULL DEFAULT NULL COMMENT '业务系统id;业务系统表id',
  `area_api_id` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '接口id;接口id，省内唯一',
  `api_name` varchar(300) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '接口名称;接口名称',
  `protocol_type` tinyint(4) NULL DEFAULT NULL COMMENT '接口协议;接口协议-字典：0-http,1-https,2-webservice,3-tcp,4-udp,5-ftp,6-sftp，99-其它',
  `implement_type` tinyint(4) NULL DEFAULT NULL COMMENT '接口实现方式',
  `api` varchar(300) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT 'api地址',
  `ip` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT 'ip',
  `host` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '主机',
  `request_method` tinyint(4) NULL DEFAULT NULL COMMENT '请求方式;请求方式-字典：1-GET，2-POST，3-DELETE，4-PUT，5-HEAD，6-OPIONS，99-其他',
  `request_data` int(11) NULL DEFAULT NULL COMMENT '接口数据量',
  `eop_name` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT 'eop名称;eop名称',
  `data_class` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '数据类别',
  `data_level` tinyint(4) NULL DEFAULT NULL COMMENT '数据级别;数据级别-字典：0-未识别，1-一般数据，2-重要数据，3-核心数据',
  `application_class` int(11) NULL DEFAULT NULL COMMENT '应用类型;应用类型-字典：1-Web API，2-数据 API，3-SDK-API，4-第三方 API，5-内部 API，6-云 API，7-IoT API，99-其它',
  `personal_info` tinyint(4) NULL DEFAULT 0 COMMENT '个人信息;是否含有个人信息-字典：0-无，1-有',
  `transmission_scenario` tinyint(4) NULL DEFAULT NULL COMMENT '数据传输场景;数据传输场景-字典：1-跨境，2-跨外部主体，3-跨电信内部单位，4-跨本单位系统，5-系统内部间，99-其它',
  `data_encryption_situation` tinyint(4) NULL DEFAULT NULL COMMENT '数据加密情况;数据加密情况-字典：1-对称加密，2-非对称加密，99-其他',
  `channel_encryption_situation` tinyint(4) NULL DEFAULT 0 COMMENT '通道加密情况;通道加密情况-字典：0-未加密，1-已加密',
  `api_authentication_method` tinyint(4) NULL DEFAULT NULL COMMENT '接口认证方式;接口认证方式-字典：1-API KEY 签名认证，2-Token认证，3-数字证书认证，4-其他',
  `use_type` tinyint(4) NULL DEFAULT NULL COMMENT '接口用途',
  `api_call_status` tinyint(4) NULL DEFAULT NULL COMMENT '接口调用状态;接口调用状态-字典：1-活跃，2-测试，3-失活，99-其他',
  `api_type` tinyint(4) NULL DEFAULT 0 COMMENT '接口类型;接口类型-字典：1-普通接口，2-服务接口，3-人机接口，4-登录接口，5-对外接口，6-跨境接口，7-文件上传接口，8-文件下载接口，99-其他',
  `is_sensitivity` tinyint(4) NULL DEFAULT 0 COMMENT '是否涉敏;是否涉敏-字典：0-否，1-是',
  `classify_tag_self` varchar(1000) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '自定义敏感数据标签',
  `sensitivity_level` tinyint(4) NULL DEFAULT NULL COMMENT '敏感分级;敏感分级-字典：1-1级，2- 2级，3- 3级，4- 4级',
  `management_department` varchar(300) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '管理部门;管理部门',
  `management_person` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '管理部门负责人',
  `management_phone` varchar(20) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '管理部门负责人手机',
  `business_department` varchar(300) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '业务部门;业务部门',
  `business_person` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '业务部门负责人',
  `business_phone` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '业务部门负责人手机',
  `maintenance_department` varchar(300) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '维护部门;维护部门',
  `maintenance_person` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '维护部门负责人',
  `maintenance_phone` varchar(20) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '维护部门负责人手机',
  `security_capability` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '系统已具备的安全防护能力;1-身份认证，2-访问控制，3-安全网关，4-风险检测，5-敏感数据识别，6-异常行为拦截，99-其他 多种能力以“,”进行合并，例如具备了身份认证和访问控制，则值为”1,2”',
  `source` tinyint(4) NOT NULL DEFAULT 0 COMMENT '数据来源;数据来源-字典：0-上报，1-平台操作',
  `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间;创建时间',
  `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '更新时间;更新时间',
  `deleted` tinyint(4) NOT NULL DEFAULT 0 COMMENT '删除状态;删除状态：0-未删除，1-已删除',
  `storage_status` tinyint(4) NOT NULL DEFAULT 0 COMMENT '入库状态;入库状态-字典：0-未入库，1-已入库',
  `v12_data_class` tinyint(4) NULL DEFAULT NULL COMMENT '数据类别;数据类型-字典：1-用户相关数据，2-企业自身相关数据，99-其它',
  `v12_sensitive_labels` varchar(1000) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '敏感标签;敏感标签，多个以\",\"隔开',
  `v12_sensitive_label_codes` varchar(1000) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '敏感分类;敏感分类，多个以\",\"隔开',
  `api_risk_score` tinyint(4) NOT NULL DEFAULT 0 COMMENT '风险评分：  无风险：0分；低风险：1-30分；中风险：31-70分；高风险：71-100分',
  `api_risk_level` tinyint(4) NOT NULL DEFAULT 0 COMMENT '风险等级： 0-无风险、1-低风险、2-中风险、3-高风险，默认0-无风险',
  `internet_exposure` tinyint(4) NULL DEFAULT NULL COMMENT '是否涉及互联网暴露: 0-是 1-否',
  PRIMARY KEY (`id`, `area_code`) USING BTREE,
  INDEX `idx_storageStatus_areaCode`(`storage_status`, `area_code`) USING BTREE,
  INDEX `idx_dataLevel_del`(`deleted`, `data_level`) USING BTREE,
  INDEX `idx_riskLevel_del`(`deleted`, `api_risk_level`) USING BTREE,
  INDEX `idx_del_createTime`(`deleted`, `create_time`) USING BTREE,
  INDEX `idx_code_businessId_del`(`deleted`, `business_id`, `area_code`) USING BTREE,
  INDEX `idx_dept_person1`(`management_department`, `management_person`) USING BTREE,
  INDEX `idx_dept_person2`(`business_department`, `business_person`) USING BTREE,
  INDEX `idx_dept_person3`(`maintenance_department`, `maintenance_person`) USING BTREE,
  INDEX `idx_del_updateTime_buzId_dept_person1`(`deleted`, `update_time`, `business_id`, `management_department`, `management_person`) USING BTREE,
  INDEX `idx_del_updateTime_buzId_dept_person2`(`deleted`, `update_time`, `business_id`, `business_department`, `business_person`) USING BTREE,
  INDEX `idx_scenario`(`transmission_scenario`) USING BTREE,
  INDEX `idx_del_code_apiId`(`deleted`, `area_code`, `area_api_id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 1204 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = 'API接口资产表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_st_asset_api_check`;
CREATE TABLE `t_st_asset_api_check`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键',
  `area_code` int(11) NOT NULL COMMENT '部门编码;部门编码，用于创建分区标识',
  `area_api_id` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT 'API资产ID;API资产ID，省内唯一',
  `api_id` int(11) NULL DEFAULT NULL COMMENT '接口id;接口id',
  `is_involved_important_and_core` tinyint(4) NULL DEFAULT NULL COMMENT '是否涉及重要数据和核心数据;是否涉及重要数据和核心数据-字典：0-否，1-是',
  `is_involved_personal_info` tinyint(4) NULL DEFAULT NULL COMMENT '是否涉及用户个人信息;是否涉及用户个人信息-字典：0-否，1-是',
  `is_involved_exposure` tinyint(4) NULL DEFAULT NULL COMMENT '是否涉及互联网暴露面;是否涉及互联网暴露面-字典：0-否，1-是',
  `is_involved_partners` tinyint(4) NULL DEFAULT NULL COMMENT '是否涉及合作方;是否涉及合作方-字典：0-否，1-是',
  `is_exist_weak_password` tinyint(4) NULL DEFAULT NULL COMMENT '是否存在弱口令;是否存在弱口令-字典：0-否，1-是',
  `is_exist_data_exiting` tinyint(4) NULL DEFAULT NULL COMMENT '是否存在数据出境;是否存在数据出境-字典：0-否，1-是',
  `is_encrypt_transmission` tinyint(4) NULL DEFAULT NULL COMMENT '是否加密传输;是否加密传输-字典：0-否，1-是',
  `security_capability` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '接口已具备的安全防护能力;系统已具备的安全防护能力，1-身份认证，2-访问控制，3-安全网关，4-风险检测，5-敏感数据识别，6-异常行为拦截，99-其他 多种能力以“,”进行合并，例如具备了身份认证和访问控制，则值为”1,2”',
  `is_regular_audits` tinyint(4) NULL DEFAULT NULL COMMENT '是否定期开展接口日志审计;是否定期开展接口日志审计-字典：0-否，1-是',
  `is_abnormal_behavior` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '是否发现异常操作行为（若有请具体描述异常行为;是否发现异常操作行为（若有请具体描述异常行为）',
  `rectification_status` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '整改完成情况及整改措施;整改完成情况及整改措施',
  `responsible_department` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT '0' COMMENT '责任部门;责任部门',
  `person_liable` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '责任人',
  `person_liable_phone` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '责任人手机',
  `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间;创建时间',
  `deleted` tinyint(4) NOT NULL DEFAULT 0 COMMENT '删除状态;删除状态：0-未删除，1-已删除',
  `storage_status` tinyint(4) NOT NULL DEFAULT 0 COMMENT '入库状态;入库状态-字典：0-未入库，1-已入库',
  PRIMARY KEY (`id`, `area_code`) USING BTREE,
  INDEX `idx_storageStatus_areaCode`(`storage_status`, `area_code`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 306 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = 'API接口安全排查及整改表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_st_asset_api_visit`;
CREATE TABLE `t_st_asset_api_visit`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键',
  `area_code` int(11) NOT NULL COMMENT '部门编码;部门编码，用于创建分区标识',
  `api_id` int(11) NULL DEFAULT NULL COMMENT '接口id;接口id',
  `area_api_id` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT 'API资产ID;API资产ID，省内唯一',
  `data_level` tinyint(4) NULL DEFAULT NULL COMMENT '数据级别;数据级别-字典：1-一般数据，2-重要数据，3-核心数据',
  `sensitivity_level` tinyint(4) NULL DEFAULT NULL COMMENT '敏感分级;敏感分级-字典：1-1级，2- 2级，3- 3级，4- 4级',
  `visits` int(11) NULL DEFAULT NULL COMMENT '接口访问次数;接口访问次数',
  `date_str` varchar(10) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '日期;例：20230101 精确的天',
  `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间;创建时间',
  `storage_status` tinyint(4) NOT NULL DEFAULT 0 COMMENT '入库状态;入库状态-字典：0-未入库，1-已入库',
  PRIMARY KEY (`id`, `area_code`) USING BTREE,
  INDEX `idx_storageStatus_areaCode`(`storage_status`, `area_code`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 71 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = 'API接口访问情况信息表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_st_asset_struct`;
CREATE TABLE `t_st_asset_struct`  (
  `id` int(11) UNSIGNED NOT NULL AUTO_INCREMENT COMMENT '主键',
  `area_code` int(11) NOT NULL COMMENT '部门编码;部门编码，用于创建分区标识',
  `area_business_id` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '业务系统ID;业务系统ID，省内唯一',
  `business_id` int(11) NULL DEFAULT NULL COMMENT '业务系统id;业务系统表id',
  `area_asset_id` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '资产id;资产id，省内唯一',
  `asset_name` varchar(300) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '资产名称;资产名称',
  `struct_type` tinyint(4) NOT NULL COMMENT '资产结构类型;资产结构类型-字典：1-结构化，2-半结构化，3-非结构化',
  `instance_name` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '实例名;结构化-实例名，半结构化-无，非结构化-根路径',
  `schema_name` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '模式名;结构化-模式名，半结构化-无，非结构化-无',
  `asset_version` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `asset_type` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '资产子类型;资产子类型-字典：mysql、sybase...',
  `asset_ip` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '资产ip',
  `asset_port` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '资产端口',
  `asset_size` int(11) NULL DEFAULT NULL COMMENT '资产存储大小;资产存储大小，单位MB',
  `asset_level` tinyint(4) NULL DEFAULT 0 COMMENT '分类级别;分类级别-字典：1-1级，2-2级，3-3基本，4-4级',
  `asset_important` tinyint(4) NULL DEFAULT 0 COMMENT '资产重要性;数据重要性-字典：0-未识别，1-一般数据，2-重要数据，3-核心数据',
  `security_capability` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '安全防护能力覆盖;1-数据库防火墙，2-数据库审计，3-静脱脱敏，99-其他 多种能力以“,”进行合并，例如具备了数据库防火墙和数据库审计，则值为”1,2”',
  `source` tinyint(4) NOT NULL DEFAULT 0 COMMENT '数据来源;数据来源-字典：0-上报，1-平台操作',
  `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间;创建时间',
  `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '更新时间;更新时间',
  `deleted` tinyint(4) NOT NULL DEFAULT 0 COMMENT '删除状态;删除状态：0-未删除，1-已删除',
  `storage_status` tinyint(4) NOT NULL DEFAULT 0 COMMENT '入库状态;入库状态-字典：0-未入库，1-已入库',
  `v12_company` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '归属部门;归属部门',
  `v12_host_name` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '服务名;服务名',
  `v12_asset_protocol` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '资产协议;资产协议',
  `v12_asset_level` tinyint(4) NULL DEFAULT NULL COMMENT '分类级别;分类级别-字典：1-1级，2-2级，3-3基本，4-4级',
  `asset_risk_score` tinyint(4) NOT NULL DEFAULT 0 COMMENT '风险评分：  无风险：0分；低风险：1-30分；中风险：31-70分；高风险：71-100分',
  `asset_risk_level` tinyint(4) NOT NULL DEFAULT 0 COMMENT '风险等级： 0-无风险、1-低风险、2-中风险、3-高风险，默认0-无风险',
  `fields_num` int(11) NULL DEFAULT 0 COMMENT '关联数据库字段数',
  `table_num` int(11) NULL DEFAULT 0 COMMENT '关联数据库表数',
  PRIMARY KEY (`id`, `area_code`) USING BTREE,
  INDEX `idx_storageStatus_areaCode`(`storage_status`, `area_code`) USING BTREE,
  INDEX `t_st_asset_struct_business_id_IDX`(`business_id`) USING BTREE,
  INDEX `idx_code_assetId_strType_del`(`area_code`, `area_asset_id`, `struct_type`, `deleted`) USING BTREE,
  INDEX `idx_strType_del`(`struct_type`, `deleted`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 22030235 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '结构化资产表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_st_business`;
CREATE TABLE `t_st_business`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键',
  `area_code` int(11) NOT NULL COMMENT '部门编码;部门编码，用于创建分区标识',
  `area_business_id` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '业务系统id;业务系统id，省内唯一',
  `business_name` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '业务系统名称;业务系统名称',
  `business_level` tinyint(4) NOT NULL DEFAULT 0 COMMENT '业务系统定级;业务系统定级-字典：0-其他，1-一级，2-二级，3-三级，4-四级，5-五级',
  `profession` tinyint(4) NULL DEFAULT NULL COMMENT '所属专业;所属专业-字典：1-IT网，2-无线，3-接入网，4-核心网，5-WLAN，6-线路，7-动环，8-ICT，9-安全，10-传输，11-数据，12-业务平台，999-其他',
  `business_type` tinyint(4) NULL DEFAULT NULL COMMENT '系统类型',
  `company` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '归属部门;归属部门',
  `responsible` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '归属部门负责人',
  `responsible_phone` varchar(20) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '归属部门负责人手机',
  `business_department` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '业务部门',
  `business_person` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '业务部门负责人',
  `business_phone` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '业务部门负责人手机',
  `maintenance_department` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '维护部门',
  `maintenance_person` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '维护部门负责人',
  `maintenance_phone` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '维护部门负责人手机',
  `master_ip` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '主识别IP',
  `master_ip_type` tinyint(4) NULL DEFAULT NULL COMMENT '主识别IP类型: 1-IPV4, 2-IPV6',
  `public_ip` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '公网IP',
  `public_ip_type` tinyint(4) NULL DEFAULT NULL COMMENT '公网IP类型: 1-IPV4, 2-IPV6',
  `cn2_ip` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT 'CN2 IP',
  `cn2_ip_type` tinyint(4) NULL DEFAULT NULL COMMENT 'CN2 IP类型: 1-IPV4, 2-IPV6',
  `cn2_vpn` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT 'CN2 IP的vpn',
  `dcn_ip` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT 'DCN IP',
  `dcn_ip_type` tinyint(4) NULL DEFAULT NULL COMMENT 'DCN IP类型: 1-IPV4, 2-IPV6',
  `floating_ip` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '浮动IP',
  `floating_ip_type` tinyint(4) NULL DEFAULT NULL COMMENT '浮动IP类型: 1-IPV4, 2-IPV6',
  `private_ip` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '私网IP',
  `private_ip_type` tinyint(4) NULL DEFAULT NULL COMMENT '私网IP类型: 1-IPV4, 2-IPV6',
  `business_tag` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '业务系统标签;业务系统标签',
  `security_capability` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '安全防护能力覆盖',
  `security_level` tinyint(4) NULL DEFAULT NULL COMMENT '安全防护级别',
  `department_group` tinyint(4) NULL DEFAULT NULL COMMENT '主管部门条线',
  `department_group_other` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '主管部门条线名称',
  `safety_check_status` tinyint(4) NULL DEFAULT NULL COMMENT '安全评估状态',
  `source` tinyint(4) NOT NULL DEFAULT 0 COMMENT '数据来源;数据来源-字典：0-上报，1-探针发现 2-平台操作',
  `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间;创建时间',
  `update_time` datetime NULL DEFAULT CURRENT_TIMESTAMP COMMENT '更新时间;更新时间',
  `deleted` tinyint(4) NULL DEFAULT 0 COMMENT '删除状态;删除状态：0-未删除，1-已删除',
  `v12_type` tinyint(4) NULL DEFAULT NULL COMMENT '应用类型;应用类型-字典：1-web，2-app，99-其他',
  `v12_business_ip` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '业务系统ip;业务系统IP',
  `business_risk_score` tinyint(4) NOT NULL DEFAULT 0 COMMENT '风险等级： 0-无风险、1-低风险、2-中风险、3-高风险，默认0-无风险',
  `business_risk_level` tinyint(4) NOT NULL DEFAULT 0 COMMENT '风险评分：  无风险：0分；低风险：1-30分；中风险：31-70分；高风险：71-100分',
  `security_management` varchar(500) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '数据安全管理制度 多个以”,”隔开',
  `security_out_call` varchar(500) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '对外被调用业务 多个以”,”隔开',
  `api_num` int(11) NULL DEFAULT 0 COMMENT '关联API资产数',
  `db_num` int(11) NULL DEFAULT 0 COMMENT '关联数据库资产数',
  `file_num` int(11) NULL DEFAULT 0 COMMENT '关联文件系统数',
  PRIMARY KEY (`id`, `area_code`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 43 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '态势业务系统表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_st_classify_sub`;
CREATE TABLE `t_st_classify_sub`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键',
  `area_code` int(11) NOT NULL COMMENT '部门编码;部门编码，用于创建分区标识',
  `area_super_id` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '表ID;表ID，省内唯一',
  `business_id` int(11) NULL DEFAULT NULL COMMENT '业务系统id;业务系统id',
  `area_asset_id` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '文件资产ID, 省内唯一',
  `asset_id` int(11) NULL DEFAULT NULL COMMENT '资产id;资产id',
  `super_id` int(11) NULL DEFAULT NULL COMMENT '资产表id;资产表id',
  `area_sub_id` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '字典id;字段id，省内唯一',
  `super_name` varchar(512) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '表名称;表名称',
  `sub_name` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '字段名',
  `length` int(11) NULL DEFAULT NULL COMMENT '字段长度',
  `memo` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '字段描述',
  `primary` tinyint(4) NULL DEFAULT NULL COMMENT '是否主键',
  `nullable` tinyint(4) NULL DEFAULT NULL COMMENT '是否为空',
  `content_type` varchar(20) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '数据类型;数据类型',
  `size` int(11) NULL DEFAULT NULL COMMENT '文件大小(单位KB)',
  `data_important` tinyint(4) NULL DEFAULT NULL COMMENT '数据重要性;数据重要性-字典：0-未识别，1-一般数据，2-重要数据，3-核心数据',
  `classify_type` varchar(30) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '分类类型;分类类型，根据平台定义下发的规范分类标准，到第四层分类',
  `classify_first_type` tinyint(4) NULL DEFAULT NULL COMMENT '一级分类类型;一级分类类型-字典：1-个人，2-企业，3-个人/企业，4-无',
  `classify_level` tinyint(4) NULL DEFAULT NULL COMMENT '分类级别;分类级别-字典：1-1级，2-2级，3-3级，4-4级',
  `classify_tag_self` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '自定义敏感数据标签',
  `struct_type` tinyint(4) NULL DEFAULT NULL COMMENT '资产结构类型;资产结构类型-字典：1-结构化，2-半结构化，3-非结构化',
  `asset_type` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '资产子类型;资产子类型-字典：mysql、sybase...',
  `source` tinyint(4) NOT NULL DEFAULT 0 COMMENT '数据来源;数据来源-字典：0-上报，1-平台操作',
  `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间;创建时间',
  `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '更新时间;更新时间',
  `deleted` tinyint(4) NOT NULL DEFAULT 0 COMMENT '删除状态;删除状态：0-未删除，1-已删除',
  `storage_status` tinyint(4) NOT NULL DEFAULT 0 COMMENT '入库状态;入库状态-字典：0-未入库，1-已入库',
  `v12_ext_info` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '附加信息;附加信息：结构化-字段长度/是否主键/...，半结构化-无，非结构化-无',
  PRIMARY KEY (`id`, `area_code`) USING BTREE,
  INDEX `idx_storageStatus_areaCode`(`storage_status`, `area_code`) USING BTREE,
  INDEX `idx_superId`(`super_id`) USING BTREE,
  INDEX `idx_code_subId_strType_del_dataImp`(`area_code`, `area_sub_id`, `data_important`, `struct_type`, `deleted`) USING BTREE,
  INDEX `idx_code_type_time_risk_del`(`area_code`, `struct_type`, `update_time`, `classify_first_type`, `asset_id`, `deleted`) USING BTREE,
  INDEX `idx_assetId_strType_del`(`asset_id`, `struct_type`, `deleted`) USING BTREE,
  INDEX `idx_create_delete_structType_areCode`(`create_time`, `deleted`, `struct_type`, `area_code`) USING BTREE,
  INDEX `idx_cnt_default`(`super_id`, `area_code`, `struct_type`, `deleted`, `storage_status`) USING BTREE,
  INDEX `idx_cnt_default2`(`area_code`, `area_super_id`, `struct_type`, `deleted`) USING BTREE,
  INDEX `temp_index`(`super_id`, `deleted`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 3129135 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '敏感数据字段表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_st_classify_super`;
CREATE TABLE `t_st_classify_super`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键',
  `area_code` int(11) NOT NULL COMMENT '部门编码;部门编码，用于创建分区标识',
  `area_asset_id` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '资产ID;资产ID，省内唯一',
  `business_id` int(11) NULL DEFAULT NULL COMMENT '业务系统id;业务系统id',
  `asset_id` int(11) NULL DEFAULT NULL COMMENT '资产id;资产id',
  `area_super_id` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '表d;表id，省内唯一',
  `super_name` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '表名称;表名称',
  `struct_type` tinyint(4) NULL DEFAULT NULL COMMENT '资产结构类型;资产结构类型-字典：1-结构化，2-半结构化，3-非结构化',
  `asset_sub_type` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '资产源类型;资产源类型-字典：mysql、sybase...',
  `asset_ip` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '资产ip',
  `super_size` double NULL DEFAULT NULL COMMENT '表存储量;表存储数据量，单位MB',
  `source` tinyint(4) NOT NULL DEFAULT 0 COMMENT '数据来源;数据来源-字典：0-上报，1-平台操作',
  `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间;创建时间',
  `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '更新时间;更新时间',
  `deleted` tinyint(4) NOT NULL DEFAULT 0 COMMENT '删除状态;删除状态：0-未删除，1-已删除',
  `storage_status` tinyint(4) NOT NULL DEFAULT 0 COMMENT '入库状态;入库状态-字典：0-未入库，1-已入库',
  PRIMARY KEY (`id`, `area_code`) USING BTREE,
  INDEX `idx_storageStatus_areaCode`(`storage_status`, `area_code`) USING BTREE,
  INDEX `idx_cnt_default`(`area_code`, `struct_type`, `storage_status`, `deleted`) USING BTREE,
  INDEX `idx_code_superId_strType_del`(`area_code`, `area_super_id`, `struct_type`, `deleted`) USING BTREE,
  INDEX `temp_index`(`asset_id`, `deleted`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 12827 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '敏感数据表表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_st_data_adj_hist`;
CREATE TABLE `t_st_data_adj_hist`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键id',
  `area_code` int(11) NOT NULL COMMENT '部门编码',
  `data_type` tinyint(4) NOT NULL COMMENT '数据类型: 1-系统, 2-数据库资产, 3-表, ...',
  `uniq_id` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '省内唯一ID',
  `data_valid_result` tinyint(4) NOT NULL COMMENT '校验结果: 1-成功, 2-失败',
  `gmt_create` datetime NOT NULL COMMENT '创建时间',
  `gmt_modified` datetime NOT NULL COMMENT '更新时间',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 1154 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '态势上报数据校验记录' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_st_fav_menu`;
CREATE TABLE `t_st_fav_menu`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键id',
  `user_id` bigint(20) NULL DEFAULT NULL COMMENT '用户ID',
  `menu_id` bigint(20) NULL DEFAULT NULL COMMENT '菜单ID',
  `menu_code` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '菜单编码',
  `order` int(11) NULL DEFAULT NULL COMMENT '排序',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 384 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '态势订阅菜单' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_st_monitor_data_health`;
CREATE TABLE `t_st_monitor_data_health`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键id',
  `area_code` int(255) NOT NULL COMMENT '区域编码',
  `curr_time` datetime NOT NULL COMMENT '当次上报时间',
  `prev_time` datetime NULL DEFAULT NULL COMMENT '上次上报时间',
  `interval` int(255) NULL DEFAULT NULL COMMENT '上报间隔 (秒)',
  `gmt_create` datetime NOT NULL COMMENT '创建时间',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 2573 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '上报健康监控表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_st_monitor_kafka_offset`;
CREATE TABLE `t_st_monitor_kafka_offset`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键id',
  `topic` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '订阅topic',
  `partition` int(11) NOT NULL COMMENT '分区',
  `current_offset` int(255) NOT NULL COMMENT '当前偏移量',
  `log_end_offset` int(255) NOT NULL COMMENT '结束偏移量',
  `lag` int(255) NOT NULL COMMENT '长度',
  `gmt_create` datetime NOT NULL COMMENT '创建时间',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 9717 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = 'Kafka偏移表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_st_risk`;
CREATE TABLE `t_st_risk`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键',
  `area_code` int(11) NOT NULL COMMENT '部门编码;部门编码，用于创建分区标识',
  `area_risk_id` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '风险id;风险id，省内唯一',
  `risk_name` varchar(300) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '风险名称;风险名称',
  `risk_level` tinyint(4) NULL DEFAULT 0 COMMENT '风险级别;风险级别-字典：1-低风险，2-中风险，3-高风险',
  `risk_type` tinyint(4) NULL DEFAULT 0 COMMENT '风险类型;风险类型-字典：0-未定义，1-...',
  `risk_type_pre` tinyint(4) NULL DEFAULT NULL COMMENT '风险类型-大类;风险大类类型-字典：1-数据泄漏，2-数据篡改，3-数据滥用，4-违规传输，5-非法访问，6-其他',
  `risk_type_other` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '自定义风险类型',
  `risk_source` tinyint(4) NULL DEFAULT 0 COMMENT '风险来源;风险来源-字典：0-未定义，1-内部，2-外部',
  `source_ip` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '源ip',
  `target_ip` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '目标ip',
  `happened_time` datetime NULL DEFAULT NULL COMMENT '风险发生时间;风险发生时间',
  `risk_status` tinyint(4) NULL DEFAULT NULL COMMENT '处置状态;处置状态-字典：0-未处置，1-成功，2-失败',
  `person_liable` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '责任人;责任人',
  `area_business_ids` varchar(1000) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '业务系统id;省内唯一；若是涉及多个业务系统，则以\",\"隔开',
  `risk_disposal_time` datetime NULL DEFAULT NULL COMMENT '风险处置时间;风险处置时间',
  `is_importcore_data` tinyint(4) NULL DEFAULT 0 COMMENT '是否涉及重要及核心数据;是否涉及重要及核心数据-字典：0-未涉及，1-涉及',
  `is_user_info` tinyint(4) NULL DEFAULT 0 COMMENT '是否涉及用户个人信息;是否涉及用户个人信息-字典：0-未涉及，1-涉及',
  `is_user_sensitive_data` tinyint(4) NULL DEFAULT 0 COMMENT '是否涉及用户个人敏感信息;是否涉及用户个人敏感信息-字典：0-未涉及，1-涉及',
  `disposal_measures` varchar(2000) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '处置措施;处置措施',
  `risk_platform_name` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '风险监测平台名称;风险监测平台名称',
  `platform_manufacture` varchar(500) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '平台厂商;平台厂商',
  `detect_compoents` varchar(500) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '风险发现组件',
  `impact_assets` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '影响资产信息(JSON)',
  `impact_assets_types` int(255) NULL DEFAULT NULL COMMENT '影响资产类型',
  `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间;创建时间',
  `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '更新时间;更新时间',
  `deleted` tinyint(4) NOT NULL DEFAULT 0 COMMENT '删除状态;删除状态：0-未删除，1-已删除',
  `eval_status` int(10) NULL DEFAULT NULL COMMENT '研判状态: 0-待研判, 1-有效, 2-无效',
  `eval_desc` varchar(500) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '研判说明',
  `eval_type` tinyint(4) NULL DEFAULT NULL COMMENT '研判类型: 1-自动, 2-手动',
  PRIMARY KEY (`id`, `area_code`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 2099 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '风险事件表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_st_risk_eval_rec`;
CREATE TABLE `t_st_risk_eval_rec`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键id',
  `gmt_create` datetime NOT NULL COMMENT '创建时间',
  `area_code` int(11) NOT NULL COMMENT '省份编码',
  `area_risk_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT '省份ID',
  `eval_status` int(11) NOT NULL COMMENT '研判状态: 0-待研判, 1-有效, 2-无效',
  `eval_desc` varchar(500) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT '研判说明',
  `eval_type` tinyint(4) NOT NULL COMMENT '研判类型: 1-自动, 2-手动',
  `eval_user_id` bigint(20) NULL DEFAULT NULL COMMENT '研判用户ID',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `idx_riskId_creTime`(`area_risk_id`, `gmt_create`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 56 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '态势风险研判表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_st_risk_report_config`;
CREATE TABLE `t_st_risk_report_config`  (
  `id` bigint(20) NOT NULL COMMENT 'ID',
  `report_type` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '报告类型: dataSecurityAnalysisReport-数据安全报告, dataDepartureAnalysisReport-数据出境报告\n, riskEventMonitorReport-风险事件监测报告, personalInfoMonitorReport-个人信息监测报告',
  `area_codes` varchar(500) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT '区域编码[多个,隔开]',
  `interval_unit` tinyint(4) NULL DEFAULT NULL COMMENT '执行间隔单位: 1-单次, 2-日, 3-周, 4-月',
  `region_index` tinyint(4) NULL DEFAULT NULL COMMENT '区块下标，从1开始',
  `begin_time` datetime NULL DEFAULT NULL COMMENT '开始时间,格式 YYYY-MM-dd hh:mm:ss',
  `end_time` datetime NULL DEFAULT NULL COMMENT '结束时间,格式 YYYY-MM-dd hh:mm:ss',
  `execute_time` datetime NULL DEFAULT NULL COMMENT '执行时间,格式 YYYY-MM-dd hh:mm:ss',
  `data_num` int(11) NULL DEFAULT NULL COMMENT '数据TopN',
  `status` int(11) NULL DEFAULT NULL COMMENT '执行状态 0-正常 -1-结束',
  `execute_begin_time` datetime NULL DEFAULT NULL COMMENT '执行开始日期,格式 YYYY-MM-dd hh:mm:ss',
  `execute_end_time` datetime NULL DEFAULT NULL COMMENT '执行结束日期,格式 YYYY-MM-dd hh:mm:ss',
  `gmt_create` datetime NULL DEFAULT NULL COMMENT '创建日期',
  `created_by` bigint(255) NOT NULL DEFAULT 1 COMMENT '创建人用户id',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '数据安全报告配置表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_st_risk_stat_config`;
CREATE TABLE `t_st_risk_stat_config`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键id',
  `warning_type` tinyint(4) NOT NULL COMMENT '波动类型: 1-资产风险波动, 2-单位风险波动, 3-风险涉及单位波动',
  `status` int(11) NOT NULL COMMENT '状态: 0-未启用, 1-启用',
  `interval` int(11) NOT NULL COMMENT '统计间隔',
  `interval_type` tinyint(4) NOT NULL COMMENT '统计间隔单位: 1-秒, 2-分钟, 3-小时, 4-天',
  `warning_cond` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '触发条件, 以JSON格式保存',
  `gmt_create` datetime NOT NULL COMMENT '创建时间',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 1192 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '态势风险统计配置' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_st_risk_stat_each`;
CREATE TABLE `t_st_risk_stat_each`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键id',
  `area_code` int(255) NOT NULL COMMENT '单位代码',
  `asset_type` tinyint(255) NOT NULL COMMENT '资产类型: 1-数据库, 2-API, 3-文件系统',
  `asset_id` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '资产ID',
  `risk_id` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '风险ID',
  `risk_type_pre` int(255) NOT NULL COMMENT '风险大类',
  `risk_type` int(255) NOT NULL COMMENT '风险小类',
  `risk_level` int(255) NULL DEFAULT NULL COMMENT '风险等级',
  `gmt_create` datetime NOT NULL COMMENT '创建时间',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `idx_summary`(`area_code`, `asset_type`, `asset_id`, `risk_type`, `gmt_create`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 26 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '态势风险统计记录' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_st_risk_stat_each_sys`;
CREATE TABLE `t_st_risk_stat_each_sys`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键id',
  `area_code` int(11) NOT NULL COMMENT '单位代码',
  `business_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT '系统省份ID',
  `risk_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT '风险省份ID',
  `risk_type_pre` int(11) NOT NULL COMMENT '风险大类',
  `risk_type` int(11) NOT NULL COMMENT '风险小类',
  `risk_level` int(11) NOT NULL COMMENT '风险等级',
  `gmt_create` datetime NOT NULL COMMENT '创建时间',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 4 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '态势风险统计省份记录' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_st_risk_stat_report`;
CREATE TABLE `t_st_risk_stat_report`  (
  `id` bigint(20) NOT NULL COMMENT 'ID',
  `report_type` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '报告类型: dataSecurityAnalysisReport-数据安全报告, dataDepartureAnalysisReport-数据出境报告\n, riskEventMonitorReport-风险事件监测报告, personalInfoMonitorReport-个人信息监测报告',
  `report_name` varchar(200) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT '报告名称',
  `top` tinyint(4) NOT NULL COMMENT '报告显示top值',
  `area_codes` varchar(500) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT '区域编码[多个,隔开]',
  `interval_unit` tinyint(4) NULL DEFAULT NULL COMMENT '执行间隔单位: 1-单次, 2-日, 3-周, 4-月',
  `status` tinyint(4) NULL DEFAULT NULL COMMENT '状态:1-生成完成，2-进行中，3-生成失败',
  `begin_time` datetime NULL DEFAULT NULL COMMENT '开始时间,格式 YYYY-MM-dd hh:mm:ss',
  `end_time` datetime NULL DEFAULT NULL COMMENT '结束时间,格式 YYYY-MM-dd hh:mm:ss',
  `gmt_create` datetime NULL DEFAULT NULL COMMENT '创建日期',
  `created_by` bigint(255) NOT NULL DEFAULT 1 COMMENT '创建人用户id',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '数据安全报告表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_st_risk_stat_report_item`;
CREATE TABLE `t_st_risk_stat_report_item`  (
  `id` bigint(20) NOT NULL COMMENT 'ID',
  `report_id` bigint(20) NOT NULL COMMENT '报表配置ID',
  `item_type` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT '二级项目类型',
  `data_json` mediumtext CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL COMMENT '数据内容',
  `gmt_create` datetime NULL DEFAULT NULL COMMENT '创建日期',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '数据安全报告项表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_st_risk_stat_risk_mapping`;
CREATE TABLE `t_st_risk_stat_risk_mapping`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键id',
  `warning_id` bigint(11) NOT NULL COMMENT '告警事件id',
  `area_code` int(11) NOT NULL COMMENT '部门编码',
  `risk_id` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '风险事件id',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 2 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '态势风险统计关联表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_st_risk_ticket`;
CREATE TABLE `t_st_risk_ticket`  (
  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT '工单id',
  `area_risk_id` varchar(128) CHARACTER SET latin1 COLLATE latin1_swedish_ci NULL DEFAULT NULL COMMENT '风险事件id，省内唯一',
  `return_order_id` varchar(100) CHARACTER SET latin1 COLLATE latin1_swedish_ci NULL DEFAULT NULL COMMENT '信安调度平台侧唯一标识',
  `type` tinyint(2) NULL DEFAULT NULL COMMENT '工单类型 1-数据库 2-API 3-文件 99-其他',
  `area_code` int(11) NOT NULL COMMENT '部门编码',
  `business_ids` varchar(500) CHARACTER SET latin1 COLLATE latin1_swedish_ci NULL DEFAULT NULL COMMENT '信息业务系统id，多个,分隔',
  `asset_ids` varchar(500) CHARACTER SET latin1 COLLATE latin1_swedish_ci NULL DEFAULT NULL COMMENT '关联资产id，多个,分隔',
  `violation_degree` tinyint(2) NULL DEFAULT NULL COMMENT '紧急程度 1：高（0.5小时），2：中（一天），3：低（一周）',
  `risk_name` varchar(300) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '风险名称;风险名称',
  `risk_level` tinyint(4) NULL DEFAULT 0 COMMENT '风险级别-字典：0-低风险，1-中风险，2-高风险',
  `is_user_info` tinyint(4) NULL DEFAULT 0 COMMENT '是否涉及用户个人信息;是否涉及用户个人信息-字典：0-未涉及，1-涉及',
  `is_user_sensitive_data` tinyint(4) NULL DEFAULT 0 COMMENT '是否涉及用户个人敏感信息;是否涉及用户个人敏感信息-字典：0-未涉及，1-涉及',
  `is_importcore_data` tinyint(4) NULL DEFAULT 0 COMMENT '是否涉及重要及核心数据;是否涉及重要及核心数据-字典：0-未涉及，1-涉及',
  `risk_platform_name` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '风险监测平台名称',
  `platform_manufacture` varchar(500) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '平台厂商',
  `detect_compoents` varchar(500) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '风险发现组件',
  `source_ip` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '来源ip',
  `target_ip` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '目标ip',
  `risk_type` tinyint(4) NULL DEFAULT 0 COMMENT '风险类型;风险类型-字典：0-未定义，1-...',
  `risk_type_pre` tinyint(4) NULL DEFAULT NULL COMMENT '风险类型-大类;风险大类类型-字典：1-数据泄漏，2-数据篡改，3-数据滥用，4-违规传输，5-非法访问，6-其他',
  `risk_type_other` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '自定义风险类型',
  `risk_content` varchar(1000) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '风险/问题内容',
  `require` varchar(1000) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '处理要求',
  `forensic_file` varchar(255) CHARACTER SET latin1 COLLATE latin1_swedish_ci NULL DEFAULT NULL COMMENT '取证文件fileId，多个用,分隔',
  `status` tinyint(1) NULL DEFAULT NULL COMMENT '状态 0-草稿 1-处置中 2-省份已反馈 3-删除',
  `create_time` datetime NULL DEFAULT NULL COMMENT '创建时间',
  `create_user_id` bigint(20) NULL DEFAULT NULL COMMENT '创建人',
  `update_time` datetime NULL DEFAULT NULL COMMENT '更新时间',
  `update_user_id` bigint(20) NULL DEFAULT NULL COMMENT '更新人',
  `allots_time` datetime NULL DEFAULT NULL COMMENT '下发时间',
  `finish_time` datetime NULL DEFAULT NULL COMMENT '完成时间',
  `sync_time` datetime NULL DEFAULT NULL COMMENT '最新同步时间',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 1801431830818205699 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '风险工单表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_st_safety_check`;
CREATE TABLE `t_st_safety_check`  (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `area_code` int(11) NOT NULL COMMENT '部门编码',
  `asset_type` tinyint(4) NOT NULL COMMENT '资产类型: 1-信息系统，2-数据库资产，3-文件系统资产',
  `area_uniq_id` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '省内唯一标识',
  `has_comp_check` tinyint(4) NULL DEFAULT NULL COMMENT '是否有合规性评估',
  `comp_check_time` datetime NULL DEFAULT NULL COMMENT '合规性评估时间',
  `comp_check_org` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '合规性评估机构',
  `comp_check_std` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '合规性评估规范',
  `comp_check_conc` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '合规性评估结论',
  `comp_check_details` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '合规性评估详情',
  `has_out_risk` tinyint(4) NULL DEFAULT NULL COMMENT '是否有出境数据;',
  `has_risk_check` tinyint(4) NULL DEFAULT NULL COMMENT '是否有风险评估',
  `risk_check_time` datetime NULL DEFAULT NULL COMMENT '风险评估时间',
  `risk_check_org` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '风险评估机构',
  `risk_check_std` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '风险评估规范',
  `risk_check_conc` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '风险评估结论',
  `risk_check_details` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '风险评估详情',
  `has_overseas_check` tinyint(4) NULL DEFAULT NULL COMMENT '是否有出境安全评估',
  `overseas_check_time` datetime NULL DEFAULT NULL COMMENT '出境安全评估时间',
  `overseas_check_org` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '出境安全评估机构',
  `overseas_check_std` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '出境安全评估规范',
  `overseas_check_conc` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '出境安全评估结论',
  `overseas_check_details` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '出境安全评估详情',
  `overseas_check_rcv` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '出境接收方',
  `overseas_check_mode` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '出境方式',
  `source` tinyint(4) NULL DEFAULT NULL COMMENT '来源',
  `report_status` tinyint(4) NULL DEFAULT 0 COMMENT '上报状态: 0-未上报, 1-成功, 2-失败',
  `create_time` datetime NULL DEFAULT NULL COMMENT '创建时间',
  `update_time` datetime NULL DEFAULT NULL COMMENT '更新时间',
  `deleted` tinyint(4) NULL DEFAULT NULL,
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 16 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '数据安全台账' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_st_statistic_api_group`;
CREATE TABLE `t_st_statistic_api_group`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键',
  `area_code` int(11) NOT NULL COMMENT '部门编码;部门编码，用于创建分区标识',
  `statistics_type` tinyint(4) NOT NULL COMMENT '统计类型;统计类型-字典：1-单位视图，2-系统视图，3-管理部门视图，4-业务部门视图，5-维护部门视图；',
  `depart_name` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '名称;对应单位/部门名称',
  `manager_name` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '责任人;对应单位/部门责任人',
  `statistics_num` int(11) NOT NULL DEFAULT 0 COMMENT '数据库数量;数据库数量',
  `statistics_data` int(11) NOT NULL DEFAULT 0 COMMENT '统计日期;统计日期，分区标识',
  PRIMARY KEY (`id`, `statistics_data`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 12180 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = 'API资产类型统计表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_st_statistic_api_type`;
CREATE TABLE `t_st_statistic_api_type`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键',
  `area_code` int(11) NOT NULL COMMENT '部门编码;部门编码，用于创建分区标识',
  `statistics_type` tinyint(4) NOT NULL COMMENT '统计类型;统计类型-字典：1-API资产应用类型占比，2-API资产数据传输场景占比，3-API接口协议类型占比，4-API资产接口类型占比，5-已有防火能力，6-API数据分类占比，7-API敏感级别占比，8-API敏感级别TOP5，9-API数据级别TOP5',
  `statistic_sub_type` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '统计子类型;统计子类型，根据统计类型场景中不同类型维度设置类型',
  `statistics_option1` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '统计可选项1;统计可选项，增加统计维度',
  `statistics_option2` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '统计可选项2;统计可选项，增加统计维度',
  `statistics_num` int(11) NOT NULL DEFAULT 0 COMMENT '数据库数量;数据库数量',
  `statistics_data` int(11) NOT NULL DEFAULT 0 COMMENT '统计日期;统计日期，分区标识',
  PRIMARY KEY (`id`, `statistics_data`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 10462 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = 'API资产类型统计表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_st_statistic_classify`;
CREATE TABLE `t_st_statistic_classify`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键',
  `area_code` tinyint(4) NOT NULL COMMENT '部门编码;部门编码，用于创建分区标识',
  `classify_type` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '分类类型;分类类别',
  `classify_level` tinyint(4) NOT NULL DEFAULT 0 COMMENT '分类级别;分类级别-字典：1-1级，2-2级，3-3基本，4-4级',
  `num` int(11) NOT NULL DEFAULT 0 COMMENT '数量;数量',
  `statistics_data` int(11) NOT NULL DEFAULT 0 COMMENT '统计日期;统计日期，分区标识',
  PRIMARY KEY (`id`, `statistics_data`) USING BTREE,
  UNIQUE INDEX `uniq_areaCode_day_level_class`(`area_code`, `statistics_data`, `classify_level`, `classify_type`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 1 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '部门敏感数据统计表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_st_statistic_risk_asset`;
CREATE TABLE `t_st_statistic_risk_asset`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键id',
  `area_code` int(11) NOT NULL COMMENT '部门编码',
  `area_uniq_id` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '省内唯一ID (资产/API资产)',
  `type` tinyint(4) NOT NULL COMMENT '资产类型: 1-数据库, 2-文件系统, 3-API资产',
  `daily_total` int(11) NOT NULL DEFAULT 0 COMMENT '当天总计',
  `daily_total_low` int(11) NOT NULL COMMENT '当天总计-低风险',
  `daily_total_mid` int(11) NOT NULL COMMENT '当天总计-中风险',
  `daily_total_high` int(11) NOT NULL COMMENT '当天总计-高风险',
  `hist_total` int(11) NOT NULL COMMENT '历史总计',
  `hist_total_low` int(11) NOT NULL COMMENT '历史总计-低风险',
  `hist_total_mid` int(11) NOT NULL COMMENT '历史总计-中风险',
  `hist_total_high` int(11) NOT NULL DEFAULT 0 COMMENT '历史总计-高风险',
  `sum_date` int(11) NOT NULL COMMENT '总计时间, 格式yyyyMMdd',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 41 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '态势风险资产统计' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_st_statistic_risk_business`;
CREATE TABLE `t_st_statistic_risk_business`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键id',
  `area_code` int(11) NOT NULL COMMENT '部门编码',
  `area_business_id` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '业务系统省内唯一ID',
  `daily_total` int(11) NOT NULL DEFAULT 0 COMMENT '当天总计',
  `daily_total_low` int(11) NOT NULL COMMENT '当天总计-低风险',
  `daily_total_mid` int(11) NOT NULL COMMENT '当天总计-中风险',
  `daily_total_high` int(11) NOT NULL COMMENT '当天总计-高风险',
  `hist_total` int(11) NOT NULL COMMENT '历史总计',
  `hist_total_low` int(11) NOT NULL COMMENT '历史总计-低风险',
  `hist_total_mid` int(11) NOT NULL COMMENT '历史总计-中风险',
  `hist_total_high` int(11) NOT NULL DEFAULT 0 COMMENT '历史总计-高风险',
  `sum_date` int(11) NOT NULL COMMENT '总计时间, 格式yyyyMMdd',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 23 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '态势风险业务系统统计' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_st_statistic_risk_deal`;
CREATE TABLE `t_st_statistic_risk_deal`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键id',
  `area_code` int(11) NOT NULL COMMENT '部门编码',
  `type` tinyint(4) NULL DEFAULT NULL COMMENT '统计类型: 1-24小时, 2-7天, 3-14天, 4-14天以上',
  `sum_total` int(11) NULL DEFAULT NULL COMMENT '前一天往前的总计, 结合 sum_date 防重复统计',
  `sum_date` int(11) NULL DEFAULT NULL COMMENT '总计时间, 格式yyyyMMdd',
  `sum_incr` int(11) NULL DEFAULT NULL COMMENT '当天的增量统计, 仅供增量使用',
  `gmt_create` datetime NULL DEFAULT NULL COMMENT '创建时间',
  `gmt_modified` datetime NULL DEFAULT NULL COMMENT '更新时间',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 1 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '态势风险统计' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_st_statistic_total`;
CREATE TABLE `t_st_statistic_total`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键',
  `area_code` int(11) NOT NULL COMMENT '部门编码;部门编码，用于创建分区标识',
  `total_db` int(11) NOT NULL DEFAULT 0 COMMENT '数据库总量;数据库总量，按部门统计总量',
  `total_db_update` int(11) NOT NULL DEFAULT 0 COMMENT '数据库更新数量;统计每日数据库更新数量',
  `total_table` int(11) NOT NULL DEFAULT 0 COMMENT '表总量;表总量，按部门统计总量',
  `total_column` int(11) NOT NULL DEFAULT 0 COMMENT '字段总量;字段总量，按部门统计总量',
  `total_db_store` bigint(11) NOT NULL DEFAULT 0 COMMENT '数据库存储总量;数据库存储总量，按部门统计总量',
  `total_level_one` int(11) NOT NULL DEFAULT 0 COMMENT '一般数据总量;一般字段数据总量，按部门统计总量',
  `total_level_two` int(11) NOT NULL DEFAULT 0 COMMENT '重要数据总量;重要字段数据总量，按部门统计总量',
  `total_level_three` int(11) NOT NULL DEFAULT 0 COMMENT '核心数据总量;核心字段数据总量，按部门统计总量 ',
  `total_asset_level_two` int(11) NOT NULL DEFAULT 0 COMMENT '重要资产库总量;重要数据库资产总量，按部门统计总量 ',
  `total_asset_level_three` int(11) NOT NULL DEFAULT 0 COMMENT '核心数据库总量;核心数据库资产总量，按部门统计总量 ',
  `day_add` int(11) NOT NULL DEFAULT 0 COMMENT '每日新增资产;每日新增资产，按部门统计总量',
  `day_update` int(11) NOT NULL DEFAULT 0 COMMENT '每日修改资产;每日修改资产，按部门统计总量',
  `sensitive_num` int(11) NOT NULL DEFAULT 0 COMMENT '敏感数据总量;敏感数据总量，按部门统计总量',
  `business_num` int(11) NOT NULL DEFAULT 0 COMMENT '系统总数;系统总数，按部门统计总量',
  `api_total` int(11) NOT NULL DEFAULT 0 COMMENT 'api总量;api总量，按部门统计总量',
  `api_total_update` int(11) NOT NULL DEFAULT 0 COMMENT 'api变更数量;api变更数量',
  `api_live_num` int(11) NOT NULL DEFAULT 0 COMMENT 'api活跃数量;api活跃数量，根据t_st_asset_api.api_call_status进行统计',
  `api_unlive_num` int(11) NOT NULL DEFAULT 0 COMMENT 'api失活数量;api失活数量，根据t_st_asset_api.api_call_status进行统计',
  `api_test_num` int(11) NOT NULL DEFAULT 0 COMMENT 'api测试数量;api测试数量，根据t_st_asset_api.api_call_status进行统计',
  `api_risk_num` int(11) NOT NULL DEFAULT 0 COMMENT 'api风险数量;api风险数量，根据t_st_asset_api_check表统计是否为是的接口数量',
  `api_sensitive_num` int(11) NOT NULL DEFAULT 0 COMMENT 'api涉敏数量;api涉敏数量，根据t_st_asset_apisensitivity_level进行统计',
  `api_core_num` int(11) NOT NULL DEFAULT 0 COMMENT 'api核心总数;api核心数量，根据t_st_asset_api.data_level进行统计',
  `api_import_num` int(11) NOT NULL DEFAULT 0 COMMENT 'api重要总数;api重要数量，根据t_st_asset_api.data_level进行统计',
  `api_normal_num` int(11) NOT NULL DEFAULT 0 COMMENT 'api一般总数;api一般数量，根据t_st_asset_api.data_level进行统计',
  `api_personal_num` int(11) NOT NULL DEFAULT 0 COMMENT 'api个人数量;api一般数量，根据t_st_asset_api.personal_info进行统计',
  `api_out_num` int(11) NOT NULL DEFAULT 0 COMMENT 'api跨境数量;api一般数量，根据t_st_asset_api.transmission_scenario进行统计',
  `api_visit_total` int(11) NOT NULL DEFAULT 0 COMMENT 'api访问总量;api访问总量',
  `total_file_resource` int(11) NOT NULL DEFAULT 0 COMMENT '文件资源总量;文件资源总量，按部门统计总量',
  `total_file_resource_update` int(11) NOT NULL DEFAULT 0 COMMENT '文件资源更新数量;统计每日文件资源更新数量',
  `total_file` int(11) NOT NULL DEFAULT 0 COMMENT '文件总量;文件总量，按部门统计总量',
  `total_file_resource_store` bigint(11) NOT NULL DEFAULT 0 COMMENT '文件资源存储总量;文件资源存储总量，按部门统计总量',
  `total_file_level_one` int(11) NOT NULL DEFAULT 0 COMMENT '一般文件数据总量;一般文件数据总量，按部门统计总量',
  `total_file_level_two` int(11) NOT NULL DEFAULT 0 COMMENT '重要文件数据总量;重要文件数据总量，按部门统计总量',
  `total_file_level_three` int(11) NOT NULL DEFAULT 0 COMMENT '核心文件数据总量;核心文件数据总量，按部门统计总量',
  `total_fileasset_level_two` int(11) NOT NULL DEFAULT 0 COMMENT '文件重要资产库总量;文件重要数据库资产总量，按部门统计总量',
  `total_fileasset_level_three` int(11) NOT NULL DEFAULT 0 COMMENT '文件核心数据库总量;文件核心数据库资产总量，按部门统计总量',
  `statistics_data` int(10) UNSIGNED ZEROFILL NOT NULL DEFAULT 0000000000 COMMENT '统计日期;统计日期，分区标识',
  PRIMARY KEY (`id`, `statistics_data`) USING BTREE,
  UNIQUE INDEX `uniq_areaCode_day`(`area_code`, `statistics_data`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 5289 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '部门资产总量统计表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_st_statistic_type`;
CREATE TABLE `t_st_statistic_type`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键',
  `area_code` int(11) NOT NULL COMMENT '部门编码;部门编码，用于创建分区标识',
  `statistics_type` tinyint(4) NOT NULL COMMENT '统计类型;统计类型-字典：1-数据库资产存储类型占比，2-数据库资产防护能力分布，3-数据库资产分类分布，4-数据库分级分布，5-敏感数据分类情况，6-敏感数据分级情况，7-数据库级别TOP5，8-数据库重要性TOP5，9-风险事件处置状态，10-风险事件类型，11-风险事件级别，12-平台菜单部门树显示业务系统数, 13-文件资产防护能力分布， 14-文件资产分类分布， 15-文件分级分布, 16-文件资产存储类型占比',
  `statistic_sub_type` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '统计子类型;统计子类型，根据统计类型场景中不同类型维度设置类型',
  `statistics_option1` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '统计可选项1;统计可选项，增加统计维度',
  `statistics_option2` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '统计可选项2;统计可选项，增加统计维度',
  `statistics_num` int(11) NOT NULL DEFAULT 0 COMMENT '数据库数量;数据库数量',
  `statistics_data` int(11) NOT NULL DEFAULT 0 COMMENT '统计日期;统计日期，分区标识',
  PRIMARY KEY (`id`, `statistics_data`) USING BTREE,
  UNIQUE INDEX `uniq_areaCode_day_type_subType_op1_op2`(`area_code`, `statistics_data`, `statistics_type`, `statistic_sub_type`, `statistics_option1`, `statistics_option2`) USING BTREE,
  INDEX `idx_subType`(`statistic_sub_type`) USING BTREE,
  INDEX `idx_day`(`statistics_data`) USING BTREE,
  INDEX `idx_type_date`(`statistics_type`, `statistics_data`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 45967 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '部门资产类型统计表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_st_statistic_updata`;
CREATE TABLE `t_st_statistic_updata`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键',
  `area_code` int(11) NOT NULL COMMENT '部门编码;部门编码，用于创建分区标识',
  `updata_type` tinyint(4) NOT NULL COMMENT '上报类型',
  `batch_total` int(11) NOT NULL DEFAULT 0 COMMENT '批次数量',
  `batch_num` int(11) NOT NULL DEFAULT 0 COMMENT '上报总量;上报总量',
  `succ_num` int(11) NOT NULL DEFAULT 0 COMMENT '成功上报总量;成功上报总量',
  `fail_num` int(11) NOT NULL DEFAULT 0 COMMENT '失败上报总量;失败上报总量',
  `batch_total_day` int(11) NOT NULL DEFAULT 0 COMMENT '今日批次数量',
  `batch_num_day` int(11) NOT NULL DEFAULT 0 COMMENT '今日上报总量;上报总量',
  `succ_num_day` int(11) NOT NULL DEFAULT 0 COMMENT '今日成功上报总量;成功上报总量',
  `fail_num_day` int(11) NOT NULL DEFAULT 0 COMMENT '今日失败上报总量;失败上报总量',
  `statistics_data` int(11) NOT NULL DEFAULT 0 COMMENT '统计日期;统计日期，分区标识',
  `batch_succ` int(11) NOT NULL DEFAULT 0 COMMENT '批次数量-全部成功',
  `batch_part_succ` int(11) NOT NULL DEFAULT 0 COMMENT '批次数量-部分成功',
  `batch_succ_day` int(11) NOT NULL DEFAULT 0 COMMENT '批次数量-全部成功(当天)',
  `batch_part_succ_day` int(11) NOT NULL DEFAULT 0 COMMENT '批次数量-部分成功(当天)',
  PRIMARY KEY (`id`, `statistics_data`) USING BTREE,
  UNIQUE INDEX `uniq_areaCode_day_type`(`area_code`, `updata_type`, `statistics_data`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 44330 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '数据上报批次统计表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_st_sync_asset_api`;
CREATE TABLE `t_st_sync_asset_api`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键',
  `batch_id` int(11) NOT NULL COMMENT '批次ID',
  `idx` int(11) NOT NULL COMMENT '偏移量/脚标',
  `area_code` int(11) NOT NULL COMMENT '部门编码;部门编码，用于创建分区标识',
  `area_api_id` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '接口id;接口id，省内唯一',
  `company` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '归属部门;归属部门',
  `area_business_id` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '业务系统ID;业务系统ID，省内唯一',
  `api_name` varchar(300) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '接口名称;接口名称',
  `protocol_type` tinyint(4) NULL DEFAULT NULL COMMENT '接口协议;接口协议-字典：1-http，2-https，3-RPC，4-WebService，5-RESTful，6-WebSocket， 7-FTP，99-其它',
  `implement_type` tinyint(4) NULL DEFAULT NULL COMMENT '接口实现方式;接口实现方式-字典：1-Restful，2-GraphQL，3-Soap，4-Dubbo，5-Xml-RPC，6-Json-RPC，7-gRPC，8-WebSocket，99-其它',
  `api` varchar(300) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '调用地址;调用地址',
  `ip` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT 'ip地址;接口调用ip地址',
  `host` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '域名地址;域名地址',
  `request_method` tinyint(4) NULL DEFAULT NULL COMMENT '请求方式;请求方式-字典：1-GET，2-POST，3-DELETE，4-PUT，5-HEAD，6-OPIONS，99-其他',
  `request_data` int(11) NULL DEFAULT NULL COMMENT '接口流出的数据量，按天计算日均值单位GB ',
  `eop_name` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT 'eop名称;eop名称',
  `data_class` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '数据类别;数据类型-字典：分类代码，见附录6.4.1分类分级规范，若涉及多个分类则以\",\"隔开，例如1-1-1-1,1-1-1-2',
  `data_level` tinyint(4) NULL DEFAULT NULL COMMENT '数据级别;数据级别-字典：0-未识别，1-一般数据，2-重要数据，3-核心数据',
  `application_class` tinyint(4) NULL DEFAULT NULL COMMENT '应用类型;应用类型-字典：1-Web API，2-数据 API，3-SDK-API，4-第三方 API，5-内部 API，6-云 API，7-IoT API，99-其它',
  `personal_info` tinyint(4) NULL DEFAULT 0 COMMENT '个人信息;是否含有个人信息-字典：0-无，1-有',
  `transmission_scenario` tinyint(4) NULL DEFAULT NULL COMMENT '数据传输场景;数据传输场景-字典：1-跨境，2-跨外部主体，3-跨电信内部单位，4-跨本单位系统，5-系统内部间，99-其它',
  `data_encryption_situation` tinyint(4) NULL DEFAULT NULL COMMENT '数据加密情况;数据加密情况-字典：1-对称加密，2-非对称加密，99-其他',
  `channel_encryption_situation` tinyint(4) NULL DEFAULT 0 COMMENT '通道加密情况;通道加密情况-字典：0-未加密，1-已加密',
  `api_authentication_method` tinyint(4) NULL DEFAULT NULL COMMENT '接口认证方式;接口认证方式-字典：1-API KEY 签名认证，2-Token认证，3-数字证书认证，4-其他',
  `use_type` tinyint(4) NULL DEFAULT NULL COMMENT '接口类型;接口类型-字典：1-普通接口，2-服务接口，3-人机接口，4-登录接口，5-对外接口，6-跨境接口，7-文件上传接口，8-文件下载接口，99-其他',
  `api_call_status` tinyint(4) NULL DEFAULT NULL COMMENT '接口调用状态;接口调用状态-字典：1-活跃，2-测试，3-失活，99-其他',
  `api_type` tinyint(4) NULL DEFAULT 0 COMMENT '接口类型;接口类型-字典：1-普通接口，2-服务接口，3-人机接口，4-登录接口，5-对外接口，6-跨境接口，7-文件上传接口，8-文件下载接口，99-其他',
  `is_sensitivity` tinyint(4) NULL DEFAULT 0 COMMENT '是否涉敏;是否涉敏-字典：0-否，1-是',
  `classify_tag_self` varchar(1000) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '敏感标签;敏感标签，多个以\",\"隔开',
  `sensitivity_level` tinyint(4) NULL DEFAULT NULL COMMENT '敏感分级;敏感分级-字典：1-1级，2- 2级，3- 3级，4- 4级',
  `management_department` varchar(300) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '管理部门;管理部门',
  `management_person` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '管理责任人;管理责任人',
  `management_phone` varchar(20) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '管理责任人号码;管理责任人号码',
  `business_department` varchar(300) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '业务部门;业务部门',
  `business_person` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '业务责任人;业务责任人',
  `business_phone` varchar(20) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '业务责任人号码;业务责任人号码',
  `maintenance_department` varchar(300) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '维护部门;维护部门',
  `maintenance_person` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '维护责任人;维护责任人',
  `maintenance_phone` varchar(20) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '维护责任人号码;维护责任人号码',
  `security_capability` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '系统已具备的安全防护能力;1-身份认证，2-访问控制，3-安全网关，4-风险检测，5-敏感数据识别，6-异常行为拦截，99-其他 多种能力以“,”进行合并，例如具备了身份认证和访问控制，则值为”1,2”',
  `data_status` tinyint(4) NOT NULL COMMENT '数据状态: 1-待审核, 2-已审核, 3-成功, 4-失败, 5-已修正',
  `err_info` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '态势稽核失败原因',
  `rep_cond_status` int(11) NULL DEFAULT NULL COMMENT '上报目录状态: 0-不符合上报条件, 1-符合上报条件',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `idx_batchId`(`batch_id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 1 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = 'API接口资产表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_st_sync_asset_api_check`;
CREATE TABLE `t_st_sync_asset_api_check`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键',
  `batch_id` int(11) NOT NULL COMMENT '批次ID',
  `idx` int(11) NOT NULL COMMENT '偏移量/脚标',
  `area_code` int(11) NOT NULL COMMENT '部门编码;部门编码，用于创建分区标识',
  `area_api_id` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT 'API资产ID;API资产ID，省内唯一',
  `is_involved_important_and_core` tinyint(4) NOT NULL COMMENT '是否涉及重要数据和核心数据;是否涉及重要数据和核心数据-字典：0-否，1-是',
  `is_involved_personal_info` tinyint(4) NOT NULL COMMENT '是否涉及用户个人信息;是否涉及用户个人信息-字典：0-否，1-是',
  `is_involved_exposure` tinyint(4) NOT NULL COMMENT '是否涉及互联网暴露面;是否涉及互联网暴露面-字典：0-否，1-是',
  `is_involved_partners` tinyint(4) NOT NULL COMMENT '是否涉及合作方;是否涉及合作方-字典：0-否，1-是',
  `is_exist_weak_password` tinyint(4) NOT NULL COMMENT '是否存在弱口令;是否存在弱口令-字典：0-否，1-是',
  `is_exist_data_exiting` tinyint(4) NOT NULL COMMENT '是否存在数据出境;是否存在数据出境-字典：0-否，1-是',
  `is_encrypt_transmission` tinyint(4) NOT NULL COMMENT '是否加密传输;是否加密传输-字典：0-否，1-是',
  `security_capability` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '接口已具备的安全防护能力;系统已具备的安全防护能力，1-身份认证，2-访问控制，3-安全网关，4-风险检测，5-敏感数据识别，6-异常行为拦截，99-其他 多种能力以“,”进行合并，例如具备了身份认证和访问控制，则值为”1,2”',
  `is_regular_audits` tinyint(4) NOT NULL COMMENT '是否定期开展接口日志审计;是否定期开展接口日志审计-字典：0-否，1-是',
  `is_abnormal_behavior` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '是否发现异常操作行为（若有请具体描述异常行为;是否发现异常操作行为（若有请具体描述异常行为）',
  `rectification_status` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '整改完成情况及整改措施;整改完成情况及整改措施',
  `responsible_department` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '0' COMMENT '责任部门;责任部门',
  `person_liable` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '责任人;责任人',
  `person_liable_phone` varchar(20) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '责任人联系方式;责任人联系方式',
  `data_status` tinyint(4) NOT NULL COMMENT '数据状态: 1-待审核, 2-已审核, 3-成功, 4-失败, 5-已修正',
  `err_info` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '态势稽核失败原因',
  `rep_cond_status` int(11) NULL DEFAULT NULL COMMENT '上报目录状态: 0-不符合上报条件, 1-符合上报条件',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `idx_batchId`(`batch_id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 1 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = 'API接口安全排查及整改表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_st_sync_asset_api_visit`;
CREATE TABLE `t_st_sync_asset_api_visit`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键',
  `batch_id` int(11) NOT NULL COMMENT '批次ID',
  `idx` int(11) NOT NULL COMMENT '偏移量/脚标',
  `area_code` int(11) NOT NULL COMMENT '部门编码;部门编码，用于创建分区标识',
  `area_api_id` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT 'API资产ID;API资产ID，省内唯一',
  `data_level` tinyint(4) NULL DEFAULT NULL COMMENT '数据级别;数据级别-字典：1-一般数据，2-重要数据，3-核心数据',
  `sensitivity_level` tinyint(4) NULL DEFAULT NULL COMMENT '敏感分级;敏感分级-字典：1-1级，2- 2级，3- 3级，4- 4级',
  `visits` int(11) NOT NULL COMMENT '接口访问次数;接口访问次数',
  `date_str` varchar(10) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '日期;例：20230101 精确的天',
  `data_status` tinyint(4) NOT NULL COMMENT '数据状态: 1-待审核, 2-已审核, 3-成功, 4-失败, 5-已修正',
  `err_info` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '态势稽核失败原因',
  `rep_cond_status` int(11) NULL DEFAULT NULL COMMENT '上报目录状态: 0-不符合上报条件, 1-符合上报条件',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `idx_batchId`(`batch_id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 1 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = 'API接口访问情况信息表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_st_sync_asset_file`;
CREATE TABLE `t_st_sync_asset_file`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键',
  `batch_id` int(11) NOT NULL COMMENT '批次ID',
  `idx` int(11) NOT NULL COMMENT '偏移量/脚标',
  `area_code` int(11) NOT NULL COMMENT '部门编码;部门编码，用于创建分区标识',
  `area_business_id` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '业务系统ID;省内唯一，业务系统ID',
  `area_asset_id` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '文件资产ID;省份内资产唯一标识',
  `asset_name` varchar(500) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '文件系统资产名称',
  `root_path` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '根路径，例如/data/ftp/',
  `asset_version` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '资产版本号',
  `asset_type` varchar(10) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '文件系统资产类型',
  `asset_ip` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '文件系统资产IP',
  `asset_port` int(11) NULL DEFAULT NULL COMMENT '文件系统资产端口',
  `asset_size` double NULL DEFAULT NULL COMMENT '资产存储数据量',
  `asset_level` tinyint(4) NULL DEFAULT NULL COMMENT '敏感级别;0-未分级，1-1级，2-2级，3-3基本，4-4级，默认为0',
  `asset_important` tinyint(4) NULL DEFAULT NULL COMMENT '数据级别;0-未识别，1-一般数据，2-重要数据，3-核心数据',
  `security_capability` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '安全防护能力覆盖;1-数据识别，2-数据脱敏，3-接口安全管控，4-访问与操作行为安全审计，5-敏感数据流转监测，6-数据安全风险监测，7-防泄漏，8-数据异常行为监测，9-数据加密，10-数据水印，11-数据销毁，12-文档安全，13-访问控制，14-数据库网关，15-隐私计算，16-数据安全管理平台，99-其他\n多种能力以“,”进行合并，例如具备了数据识别和数据脱敏，则值为”1,2”',
  `data_status` tinyint(4) NOT NULL COMMENT '数据状态: 1-待审核, 2-已审核, 3-成功, 4-失败, 5-已修正',
  `err_info` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '态势稽核失败原因',
  `rep_cond_status` int(11) NULL DEFAULT NULL COMMENT '上报目录状态: 0-不符合上报条件, 1-符合上报条件',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `idx_batchId`(`batch_id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 1 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '文件资产信息表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_st_sync_asset_struct`;
CREATE TABLE `t_st_sync_asset_struct`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键',
  `batch_id` int(11) NOT NULL COMMENT '批次ID',
  `idx` int(11) NOT NULL COMMENT '偏移量/脚标',
  `area_code` int(11) NOT NULL COMMENT '部门编码;部门编码，用于创建分区标识',
  `area_business_id` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '业务系统ID;业务系统ID，省内唯一',
  `area_asset_id` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '资产id;资产id，省内唯一',
  `asset_name` varchar(300) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '资产名称;资产名称',
  `instance_name` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '实例名;结构化-实例名，半结构化-无，非结构化-根路径',
  `schema_name` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '模式名;结构化-模式名，半结构化-无，非结构化-无',
  `asset_version` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '资产版本号;资产版本号',
  `struct_type` tinyint(4) NOT NULL COMMENT '资产结构类型;资产结构类型-字典：1-结构化，2-半结构化，3-非结构化',
  `asset_type` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '资产子类型;资产子类型-字典：mysql、sybase...',
  `asset_ip` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '资产ip;资产IP',
  `asset_port` varchar(20) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '资产端口;资产端口',
  `asset_size` double NULL DEFAULT NULL COMMENT '资产存储大小;资产存储大小，单位MB',
  `asset_level` tinyint(4) NULL DEFAULT 0 COMMENT '分类级别;分类级别-字典：1-1级，2-2级，3-3基本，4-4级',
  `asset_important` tinyint(4) NULL DEFAULT 0 COMMENT '资产重要性;数据重要性-字典：0-未识别，1-一般数据，2-重要数据，3-核心数据',
  `security_capability` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '安全防护能力覆盖;1-数据库防火墙，2-数据库审计，3-静脱脱敏，99-其他 多种能力以“,”进行合并，例如具备了数据库防火墙和数据库审计，则值为”1,2”',
  `data_status` tinyint(4) NOT NULL COMMENT '数据状态: 1-待审核, 2-已审核, 3-成功, 4-失败, 5-已修正',
  `err_info` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '态势稽核失败原因',
  `rep_cond_status` int(11) NULL DEFAULT NULL COMMENT '上报目录状态: 0-不符合上报条件, 1-符合上报条件',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `idx_batchId`(`batch_id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 1 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '结构化资产表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_st_sync_batch`;
CREATE TABLE `t_st_sync_batch`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键id',
  `batch_trigger_id` int(11) NOT NULL COMMENT '批次触发ID',
  `batch_status` tinyint(4) NOT NULL COMMENT '批次状态: 1-初始化, 2-待审核, 3-已上报, 4-已回执',
  `send_timestamp` bigint(20) NULL DEFAULT NULL COMMENT '上报时间戳',
  `send_status` tinyint(4) NULL DEFAULT NULL COMMENT '上报状态: 1-成功, 2-失败',
  `send_msg` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '上报成功/失败信息',
  `batch_num` int(11) NULL DEFAULT NULL COMMENT '批次实际数据量',
  `succ_num` int(11) NULL DEFAULT NULL COMMENT '批次校验成功数据量',
  `fail_num` int(11) NULL DEFAULT NULL COMMENT '批次校验失败数据量',
  `gmt_create` datetime NULL DEFAULT NULL COMMENT '创建时间',
  `gmt_modified` datetime NULL DEFAULT NULL COMMENT '更新时间',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `idx_triggerId`(`batch_trigger_id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 3 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '态势上报同步批次管理' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_st_sync_batch_config`;
CREATE TABLE `t_st_sync_batch_config`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键id',
  `data_type` tinyint(4) NOT NULL COMMENT '数据类型: 1-系统, 2-数据资产, 3-表, 4-字段, ...',
  `enabled` tinyint(4) NOT NULL COMMENT '是否启用: 0-否, 1-是',
  `audit_status` tinyint(4) NULL DEFAULT NULL COMMENT '审批状态',
  `etl_type` tinyint(4) NOT NULL COMMENT '抽取方式: 1-全量, 2-增量',
  `batch_size` int(11) NOT NULL COMMENT '批次条数',
  `cron_exp` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT 'CRON定时表达式',
  `interval` int(11) NULL DEFAULT NULL COMMENT '间隔',
  `interval_type` tinyint(4) NULL DEFAULT NULL COMMENT '间隔时间单位: 1-秒, 2-分钟, 3-小时, 4-天',
  PRIMARY KEY (`id`) USING BTREE,
  UNIQUE INDEX `uniq_dataType`(`data_type`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 10699 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '态势上报同步配置' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_st_sync_batch_stat`;
CREATE TABLE `t_st_sync_batch_stat`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键',
  `batch_total` int(11) NOT NULL DEFAULT 0 COMMENT '批次数量',
  `batch_num` int(11) NOT NULL DEFAULT 0 COMMENT '上报总量;上报总量',
  `succ_num` int(11) NOT NULL DEFAULT 0 COMMENT '成功上报总量;成功上报总量',
  `fail_num` int(11) NOT NULL DEFAULT 0 COMMENT '失败上报总量;失败上报总量',
  `batch_total_day` int(11) NOT NULL DEFAULT 0 COMMENT '今日批次数量',
  `batch_num_day` int(11) NOT NULL DEFAULT 0 COMMENT '今日上报总量;上报总量',
  `succ_num_day` int(11) NOT NULL DEFAULT 0 COMMENT '今日成功上报总量;成功上报总量',
  `fail_num_day` int(11) NOT NULL DEFAULT 0 COMMENT '今日失败上报总量;失败上报总量',
  `statistics_date` int(11) NOT NULL DEFAULT 0 COMMENT '统计日期;统计日期，分区标识',
  PRIMARY KEY (`id`, `statistics_date`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 76 CHARACTER SET = latin1 COLLATE = latin1_swedish_ci COMMENT = '态势上报同步统计' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_st_sync_batch_trigger`;
CREATE TABLE `t_st_sync_batch_trigger`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键id',
  `data_type` tinyint(4) NOT NULL COMMENT '数据类型: 1-系统, 2-数据资产, 3-表, 4-字段, ...',
  `api_version` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '接口版本',
  `audit_status` tinyint(4) NOT NULL COMMENT '审核状态: 0-无需审核, 1-需审核',
  `etl_type` tinyint(4) NOT NULL COMMENT '抽取方式: 1-全量, 2-增量',
  `batch_size` int(11) NOT NULL COMMENT '批次条数 (触发时的设置中的批次条数)',
  `cron_exp` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT 'CRON定时表达式',
  `interval` int(11) NULL DEFAULT NULL COMMENT '间隔',
  `interval_type` tinyint(4) NULL DEFAULT NULL COMMENT '间隔时间单位: 1-秒, 2-分钟, 3-小时, 4-天',
  `condition` text CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '查询条件JSON',
  `gmt_create` datetime NULL DEFAULT NULL COMMENT '创建时间',
  `app_type` int(11) NOT NULL COMMENT '应用类型: 1-同步服务, 2-南京对接模块',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `idx_appType`(`app_type`) USING BTREE,
  INDEX `idx_dataType`(`data_type`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 173739 CHARACTER SET = utf8 COLLATE = utf8_general_ci ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_st_sync_business`;
CREATE TABLE `t_st_sync_business`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键',
  `batch_id` int(11) NOT NULL COMMENT '批次ID',
  `idx` int(11) NOT NULL COMMENT '偏移量/脚标',
  `area_code` int(11) NOT NULL COMMENT '部门编码;部门编码，用于创建分区标识',
  `area_business_id` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '业务系统id;业务系统id，省内唯一',
  `business_name` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '业务系统名称;业务系统名称',
  `business_level` tinyint(4) NOT NULL DEFAULT 0 COMMENT '业务系统定级;业务系统定级-字典：0-其他，1-一级，2-二级，3-三级',
  `profession` tinyint(4) NULL DEFAULT NULL COMMENT '所属专业;所属专业-字典：1-IT网，2-无线，3-接入网，4-核心网，5-WLAN，6-线路，7-动环，8-ICT，9-安全，10-传输，11-数据，12-业务平台，999-其他',
  `business_type` tinyint(4) NOT NULL COMMENT '系统类型;1-生产系统，2-运维系统，3-管理系统，4-业务支撑系统，5-安全保障系统，99-其他',
  `company` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '管理部门;归属部门',
  `responsible` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '责任人;责任人',
  `responsible_phone` varchar(20) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '责任人号码;责任人号码',
  `business_department` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '业务部门',
  `business_person` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '业务责任人',
  `business_phone` varchar(20) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '业务责任人号码',
  `maintenance_department` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '维护部门',
  `maintenance_person` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '维护责任人',
  `maintenance_phone` varchar(20) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '维护责任人号码',
  `master_type` tinyint(4) NULL DEFAULT NULL COMMENT '主识别IP类型;1-ipv4，2-ipv6',
  `master_ip` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '主识别IP',
  `public_type` tinyint(4) NULL DEFAULT NULL COMMENT '公网IP类型;1-ipv4，2-ipv6',
  `public_ip` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '公网IP',
  `cn2_type` tinyint(4) NULL DEFAULT NULL COMMENT 'CN2 IP类型;1-ipv4，2-ipv6',
  `cn2_ip` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT 'CN2 IP',
  `cn2_vpn` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT 'cn2地址VPN号',
  `dcn_type` tinyint(4) NULL DEFAULT NULL COMMENT 'DCN IP类型;1-ipv4，2-ipv6',
  `dcn_ip` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT 'DCN IP',
  `floating_type` tinyint(4) NULL DEFAULT NULL COMMENT '浮动IP类型;1-ipv4，2-ipv6',
  `floating_ip` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '浮动IP',
  `private_type` tinyint(4) NULL DEFAULT NULL COMMENT '私网IP类型;1-ipv4，2-ipv6',
  `private_ip` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '私网IP',
  `security_capability` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '安全防护能力覆盖',
  `security_level` tinyint(4) NULL DEFAULT NULL COMMENT '安全防护级别;信息系统数据的安全防护级别字段 0-未定级，1-一级，2-二级，3-三级，4-四级，5-五级',
  `department_group` tinyint(4) NULL DEFAULT NULL COMMENT '主管部门条线;0-无，1-市场条线，2-客服条线，3-云网条线，4-政企条线，5-渠道条线，6-网信安条线，7-其他',
  `security_management` varchar(500) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '数据安全管理制度 多个以”,”隔开',
  `security_out_call` varchar(500) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '对外被调用业务 多个以”,”隔开',
  `data_status` tinyint(4) NOT NULL COMMENT '数据状态: 1-待审核, 2-已审核, 3-成功, 4-失败, 5-已修正',
  `err_info` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '态势稽核失败原因',
  `department_group_other` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '主管部门条线名称;若主管部门条线为7-其他时，可填入自定义部门名称',
  `rep_cond_status` int(11) NULL DEFAULT NULL COMMENT '上报目录状态: 0-不符合上报条件, 1-符合上报条件',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `idx_batchId`(`batch_id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 8 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '态势业务系统表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_st_sync_classify_file`;
CREATE TABLE `t_st_sync_classify_file`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键',
  `batch_id` int(11) NOT NULL COMMENT '批次ID',
  `idx` int(11) NOT NULL COMMENT '偏移量/脚标',
  `area_code` int(11) NOT NULL COMMENT '部门编码;部门编码，用于创建分区标识',
  `area_asset_id` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `area_file_id` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '文件ID;省份内资产唯一标识',
  `file_path` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '文件路径',
  `file_name` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '文件名',
  `size` double NOT NULL COMMENT '文件大小;单位KB',
  `file_type` varchar(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '文件类型;例如png,jpg,jpeg,bmp,txt,json,xml,doc,docx,xls,xlsx,ppt,pptx,pdf,zip',
  `data_important` tinyint(4) NOT NULL COMMENT '数据级别;0-未识别，1-一般数据，2-重要数据，3-核心数据',
  `classify_type` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '分类类型;分类类型，根据平台定义下发的规范分类标准，到第四层分类',
  `classify_level` tinyint(4) NOT NULL COMMENT '分类级别;分类级别-字典：1-1级，2-2级，3-3级，4-4级',
  `classify_tag_self` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '若敏感数据标签为\"0\"，则可填写该属性',
  `data_status` tinyint(4) NOT NULL COMMENT '数据状态: 1-待审核, 2-已审核, 3-成功, 4-失败, 5-已修正',
  `err_info` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '态势稽核失败原因',
  `rep_cond_status` int(11) NULL DEFAULT NULL COMMENT '上报目录状态: 0-不符合上报条件, 1-符合上报条件',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `idx_batchId`(`batch_id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 1 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '敏感文件信息表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_st_sync_classify_sub`;
CREATE TABLE `t_st_sync_classify_sub`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键',
  `batch_id` int(11) NOT NULL COMMENT '批次ID',
  `idx` int(11) NOT NULL COMMENT '偏移量/脚标',
  `area_code` int(11) NOT NULL COMMENT '部门编码;部门编码，用于创建分区标识',
  `area_table_id` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '表ID;表ID，省内唯一',
  `area_column_id` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '字典id;字段id，省内唯一',
  `column_name` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '字段名',
  `content_type` varchar(30) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '数据类型;数据类型',
  `length` bigint(20) NULL DEFAULT NULL COMMENT '字段长度',
  `memo` varchar(512) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '字段描述',
  `primary` int(11) NULL DEFAULT NULL COMMENT '是否主键: 0-否, 1-是',
  `nullable` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '是否允许为空: 0-不允许, 1-允许',
  `classify_level` tinyint(4) NOT NULL COMMENT '分类级别;分类级别-字典：1-1级，2-2级，3-3级，4-4级',
  `classify_type` varchar(30) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '分类类型;分类类型，根据平台定义下发的规范分类标准，到第四层分类',
  `classify_tag_self` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '若敏感数据标签为\"0\"，则可填写该属性',
  `data_important` tinyint(4) NOT NULL COMMENT '数据重要性;数据重要性-字典：0-未识别，1-一般数据，2-重要数据，3-核心数据',
  `data_status` tinyint(4) NOT NULL COMMENT '数据状态: 1-待审核, 2-已审核, 3-成功, 4-失败, 5-已修正',
  `err_info` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '态势稽核失败原因',
  `classify_tag` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `rep_cond_status` int(11) NULL DEFAULT NULL COMMENT '上报目录状态: 0-不符合上报条件, 1-符合上报条件',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `idx_batchId`(`batch_id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 1 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '敏感数据字段表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_st_sync_classify_super`;
CREATE TABLE `t_st_sync_classify_super`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键',
  `batch_id` int(11) NOT NULL COMMENT '批次ID',
  `idx` int(11) NOT NULL COMMENT '偏移量/脚标',
  `area_code` int(11) NOT NULL COMMENT '部门编码;部门编码，用于创建分区标识',
  `area_asset_id` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '资产ID;资产ID，省内唯一',
  `area_table_id` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '表d;表id，省内唯一',
  `table_name` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '表名称;表名称',
  `table_size` double NOT NULL COMMENT '表存储量;表存储数据量，单位MB',
  `data_status` tinyint(4) NOT NULL COMMENT '数据状态: 1-待审核, 2-已审核, 3-成功, 4-失败, 5-已修正',
  `err_info` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '态势稽核失败原因',
  `rep_cond_status` int(11) NULL DEFAULT NULL COMMENT '上报目录状态: 0-不符合上报条件, 1-符合上报条件',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `idx_batchId`(`batch_id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 1 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '敏感数据表表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_st_sync_report_condition`;
CREATE TABLE `t_st_sync_report_condition`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键id',
  `data_type` tinyint(4) NOT NULL COMMENT '数据类型: 1-系统, 2-数据资产, 3-表, 4-字段, ...',
  `cond_type` int(11) NOT NULL COMMENT '条件类型: 1-ID, 2-分级, 3-分类, ...',
  `cond_rel` int(11) NOT NULL COMMENT '条件约束: 1-包含, 2-不包含, 3-等于, 4-不等于, 5-大于, 6-大等于, ...',
  `cond_items` text CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '条件值, 多个数据以逗号分隔',
  `gmt_create` datetime NULL DEFAULT NULL COMMENT '创建时间',
  `gmt_modified` datetime NULL DEFAULT NULL COMMENT '更新时间',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 1 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '态势上报同步条件构造表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_st_sync_risk`;
CREATE TABLE `t_st_sync_risk`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键',
  `batch_id` int(11) NOT NULL COMMENT '批次ID',
  `idx` int(11) NOT NULL COMMENT '偏移量/脚标',
  `area_code` int(11) NOT NULL COMMENT '部门编码;部门编码，用于创建分区标识',
  `area_risk_id` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '风险id;风险id，省内唯一',
  `risk_name` varchar(300) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '风险名称;风险名称',
  `risk_level` tinyint(4) NOT NULL DEFAULT 0 COMMENT '风险级别;风险级别-字典：0-低风险，1-中风险，2-高风险',
  `risk_type` tinyint(4) NOT NULL DEFAULT 0 COMMENT '风险类型;风险类型小类定义，例如“1-1.数据爬取”则取值11',
  `risk_type_other` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '自定义风险类型;若风险类型为其他(71)，则可选择填写自定义风险类型名称，例如：用户越权访问风险',
  `risk_source` tinyint(4) NOT NULL DEFAULT 0 COMMENT '风险来源;风险来源-字典：0-未定义，1-内部，2-外部',
  `source_ip` varchar(1000) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '源ip;源地址信息，多个以，隔开',
  `target_ip` varchar(1000) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '目标ip;目标地址信息，多个以，隔开',
  `risk_status` tinyint(4) NOT NULL COMMENT '处置状态;0-未处置、1-已处置',
  `personLiable` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '责任人;责任人',
  `area_business_ids` varchar(1000) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '业务系统id;省内唯一；若是涉及多个业务系统，则以\",\"隔开',
  `risk_disposal_time` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '风险处置时间;风险处置时间',
  `is_importcore_data` tinyint(4) NOT NULL DEFAULT 0 COMMENT '是否涉及重要及核心数据;是否涉及重要及核心数据-字典：0-未涉及，1-涉及',
  `is_user_info` tinyint(4) NOT NULL DEFAULT 0 COMMENT '是否涉及用户个人信息;是否涉及用户个人信息-字典：0-未涉及，1-涉及',
  `is_user_sensitive_data` tinyint(4) NOT NULL DEFAULT 0 COMMENT '是否涉及用户个人敏感信息;是否涉及用户个人敏感信息-字典：0-未涉及，1-涉及',
  `disposal_measures` varchar(500) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '处置措施;处置措施',
  `risk_platform_name` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '风险监测平台名称;风险监测平台名称',
  `platform_manufacture` varchar(500) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '平台厂商;平台厂商',
  `detect_components` varchar(500) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '风险发现组件;1-数据识别，2-数据脱敏，3-接口安全管控，4-访问与操作行为安全审计，5-敏感数据流转监测，6-数据安全风险监测，7-防泄漏，8-数据异常行为监测，9-数据加密，10-数据水印，11-数据销毁，12-文档安全，13-访问控制，14-数据库网关，15-隐私计算，16-数据安全管理平台，99-其他 多种能力以“,”进行合并，例如具备了数据识别和数据脱敏，则值为”1,2”',
  `impact_asset_types` varchar(500) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '影响资产类型;影响资产类型-字典：1-数据库，2-API，3-文件，99-其他；',
  `impact_asset_ids` varchar(1000) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '影响资产ids;根据type类型定义，若是数据库资产则填写4.1.3-areaAssetId，文件资产则填写4.1.10-areaAssetId，API资产则填写4.1.8-areaApiId，若是其他资产填写资产ip+端口等信息',
  `data_status` tinyint(4) NOT NULL COMMENT '数据状态: 1-待审核, 2-已审核, 3-成功, 4-失败, 5-已修正',
  `err_info` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '态势稽核失败原因',
  `happened_time` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '风险发生时间;风险发生时间',
  `person_liable` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '责任人;责任人',
  `impact_assets` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '影响资产信息(JSON)',
  `rep_cond_status` int(11) NULL DEFAULT NULL COMMENT '上报目录状态: 0-不符合上报条件, 1-符合上报条件',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `idx_batchId`(`batch_id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 1 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '风险事件表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_st_sync_safety_check`;
CREATE TABLE `t_st_sync_safety_check`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键',
  `batch_id` int(11) NOT NULL COMMENT '批次ID',
  `idx` int(11) NOT NULL COMMENT '偏移量/脚标',
  `area_code` int(11) NOT NULL COMMENT '部门编码;部门编码，用于创建分区标识',
  `asset_type` int(11) NOT NULL COMMENT '资产类型 1-信息系统，2-数据库资产，3-文件系统资产',
  `area_uniq_id` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '资产类型为信息系统时为areaBusinessId，资产类型为数据库资产和文件系统资产时为对应的areaAssetId',
  `has_comp_check` int(11) NOT NULL COMMENT '是否有合规性评估 0-无，1-有',
  `comp_check_time` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '合规性评估时间',
  `comp_check_org` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '合规性评估机构',
  `comp_check_std` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '合规性评估规范',
  `comp_check_conc` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '合规性评估结论',
  `comp_check_details` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '合规性评估详情',
  `has_out_risk` int(11) NOT NULL COMMENT '是否有出境数据;0-无，1-有',
  `has_risk_check` int(11) NOT NULL COMMENT '是否有风险评估 0-无，1-有',
  `comp_risk_time` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '风险评估时间',
  `comp_risk_org` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '风险评估机构',
  `comp_risk_std` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '风险评估规范',
  `comp_risk_conc` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '风险评估结论',
  `comp_risk_details` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '风险评估详情',
  `has_overseas_check` int(11) NOT NULL COMMENT '是否有出境安全评估 0-无，1-有',
  `comp_overseas_time` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '出境安全评估时间',
  `comp_overseas_org` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '出境安全评估机构',
  `comp_overseas_std` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '出境安全评估规范',
  `comp_overseas_conc` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '出境安全评估结论',
  `comp_overseas_details` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '出境安全评估详情',
  `comp_overseas_rcv` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '出境接收方',
  `comp_overseas_mode` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '出境方式',
  `data_status` tinyint(4) NOT NULL COMMENT '数据状态: 1-待审核, 2-已审核, 3-成功, 4-失败, 5-已修正',
  `err_info` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '态势稽核失败原因',
  `rep_cond_status` int(11) NULL DEFAULT NULL COMMENT '上报目录状态: 0-不符合上报条件, 1-符合上报条件',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `idx_batchId`(`batch_id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 1 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = ' 信息系统数据安全台账表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_st_thirdapi_user`;
CREATE TABLE `t_st_thirdapi_user`  (
  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT '主键id',
  `app_id` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '应用ID',
  `sm4_key` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT 'SM4加密key',
  `app_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT '应用名',
  `is_encrypt` tinyint(4) NOT NULL COMMENT '是否加密: 0-否, 1-是',
  `extra_info` text CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL COMMENT '附加信息',
  `gmt_create` datetime NULL DEFAULT NULL COMMENT '创建时间',
  `gmt_modified` datetime NULL DEFAULT NULL COMMENT '更新时间',
  `is_delete` tinyint(4) NOT NULL COMMENT '是否删除',
  PRIMARY KEY (`id`) USING BTREE,
  UNIQUE INDEX `uniq_appId`(`app_id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 1771065176557105154 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '态势上报同步省份配置表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_st_ticket_seq_record`;
CREATE TABLE `t_st_ticket_seq_record`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键id',
  `seq_id` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT '序列ID',
  `state` varchar(16) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '调度中心返回状态码',
  `message` varchar(1024) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '调度中心返回消息',
  `gmt_create` datetime NULL DEFAULT NULL COMMENT '创建时间',
  `gmt_modified` datetime NULL DEFAULT NULL COMMENT '更新时间',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 1 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '态势调度中心调用记录表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_st_updata_batch`;
CREATE TABLE `t_st_updata_batch`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键',
  `area_code` int(11) NULL DEFAULT NULL COMMENT '部门编码;部门编码，用于创建分区标识',
  `batch_id` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '批次id;批次id',
  `send_timestamp` bigint(20) NULL DEFAULT NULL COMMENT '批次时间戳;批次时间戳',
  `updata_type` tinyint(4) NOT NULL COMMENT '批次数据类型;批次数据类型：1-业务系统；2-数据资产；3-敏感数据表；4-敏感数据字段；5-安全风险；6-API资产；7-API安全检查；8-API访问频次',
  `create_time` datetime NOT NULL COMMENT '上报时间;上报时间',
  `batch_num` int(11) NOT NULL DEFAULT 0 COMMENT '上报总量;上报总量',
  `succ_num` int(11) NOT NULL DEFAULT 0 COMMENT '成功上报总量;成功上报总量',
  `fail_num` int(11) NOT NULL DEFAULT 0 COMMENT '失败上报总量;失败上报总量',
  `api_version` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '接口版本;接口版本',
  `sync_type` tinyint(4) NULL DEFAULT NULL COMMENT '同步类型;同步类型-字典：1-新增，2-更新，3-删除',
  `msg` mediumblob NULL COMMENT '上报消息;上报消息体',
  `failure_reason` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '失败原因',
  `batch_type` int(11) NULL DEFAULT NULL COMMENT '批次类型: 1-正常批次, 2-异常批次 (反序列化错误, 重复消息等)',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `idx_common`(`area_code`, `updata_type`, `send_timestamp`) USING BTREE,
  INDEX `idx_createTime`(`create_time`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 3990 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '数据上报批次表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_st_updata_batch_error`;
CREATE TABLE `t_st_updata_batch_error`  (
  `id` bigint(11) NOT NULL AUTO_INCREMENT COMMENT '主键id',
  `area_code` int(11) NULL DEFAULT NULL COMMENT '部门编码;部门编码，用于创建分区标识',
  `asset_type` int(11) NULL DEFAULT NULL COMMENT '资产类型',
  `error_info` varchar(255) CHARACTER SET utf8 COLLATE utf8_bin NULL DEFAULT NULL COMMENT '错误原因',
  `error_num` int(11) NULL DEFAULT NULL COMMENT '错误数量',
  `create_time` datetime NULL DEFAULT NULL COMMENT '创建时间',
  `error_distinct_num` int(11) NULL DEFAULT NULL COMMENT '错误数量（去重后）',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 1823206049713348610 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '态势数据上报异常表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_st_updata_batch_error_prov`;
CREATE TABLE `t_st_updata_batch_error_prov`  (
  `id` bigint(11) NOT NULL AUTO_INCREMENT COMMENT '主键id',
  `asset_type` int(11) NULL DEFAULT NULL COMMENT '资产类型',
  `error_info` varchar(255) CHARACTER SET utf8 COLLATE utf8_bin NULL DEFAULT NULL COMMENT '错误原因',
  `error_num` int(11) NULL DEFAULT NULL COMMENT '错误数量',
  `create_time` datetime NULL DEFAULT NULL COMMENT '创建时间',
  `error_distinct_num` int(11) NULL DEFAULT NULL COMMENT '错误数量（去重后）',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 1781254860247674885 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '态势数据上报异常省份表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_static_probe_scan_task`;
CREATE TABLE `t_static_probe_scan_task`  (
  `id` bigint(20) NOT NULL COMMENT '主键id',
  `name` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT '工单名称',
  `strategy_task_id` bigint(20) NOT NULL COMMENT '静态探针任务id',
  `asset_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '集团侧资产id t_st_asset_struct的area_asset_id',
  `area_code` text CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL COMMENT '部门编码',
  `engine_asset_id` bigint(20) NULL DEFAULT NULL COMMENT '引擎侧资产id t_asset_struct_asset或t_asset_file_asset_new的id',
  `type` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '工单类型1-数据库扫描 2-文件系统扫描 3-资产发现扫描',
  `sub_type` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '数据源类型（mysql、oracle等数据库，redis等半结构化，ftp、sftp等文件系统）',
  `status` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT '0' COMMENT '扫描状态  0-未补录 1-已补录 2-已扫描 3-扫描失败',
  `scan_user` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '用户名 加密存储',
  `scan_password` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '密码 加密存储',
  `sample_type` char(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '取样类型 0-资产结构扫描  1-样本数据扫描',
  `sample_num` int(11) NULL DEFAULT NULL COMMENT '样本数量: -1-不取样本, 0-全量, 其它数字为样本数量',
  `topics` varchar(256) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT 'topic名称 kafka、Rocketmq订阅主题',
  `consumption_time` int(3) NULL DEFAULT NULL COMMENT '消费时间 kafka、Rocketmq历史天数',
  `keytab_file` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT 'Kerberos认证的keytab文件',
  `conf_file` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT 'Kerberos认证的conf文件',
  `business_name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '信息系统名称',
  `asset_name` varchar(300) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '资产名称',
  `company` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '归属部门',
  `responsible` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '归属责任人',
  `responsible_phone` varchar(20) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '归属责任人号码',
  `business_department` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '业务部门',
  `business_person` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '业务责任人',
  `business_phone` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '业务责任人号码',
  `maintenance_department` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '维护部门',
  `maintenance_person` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '维护责任人',
  `maintenance_phone` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '维护责任人号码',
  `create_time` datetime NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `update_time` datetime NULL DEFAULT CURRENT_TIMESTAMP COMMENT '更新时间',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '静态探针扫描工单-省侧' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_strategy_info`;
CREATE TABLE `t_strategy_info`  (
  `id` bigint(20) NOT NULL COMMENT '策略ID',
  `strategy_name` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '策略名称',
  `app_type` varchar(24) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '策略类型，与应用的类型保持一致，用于选择检索',
  `asset_id` bigint(20) NULL DEFAULT NULL COMMENT '源数据资产ID',
  `target_asset_id` bigint(20) NULL DEFAULT NULL COMMENT '目标数据资产ID',
  `status` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '状态,0禁用，1启用',
  `info` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '策略信息,存储各种的对接策略json',
  `is_delete` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '是否删除，0不删除，1删除',
  `updatetime` datetime NULL DEFAULT NULL COMMENT '修改时间',
  `createtime` datetime NULL DEFAULT NULL COMMENT '创建时间',
  `execStatus` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '执行状态，0执行中，1执行完成，2执行失败',
  `execTime` datetime NULL DEFAULT NULL COMMENT '执行时间',
  `source_user` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '源数据资产用户',
  `source_user_password` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '源数据资产用户密码',
  `target_user` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '目标数据资产用户',
  `target_user_password` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '目标据资产用户密码',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `idx_strategy`(`strategy_name`, `createtime`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '安全策略信息表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_strategy_info_rela`;
CREATE TABLE `t_strategy_info_rela`  (
  `id` bigint(20) NOT NULL COMMENT '策略ID',
  `strategy_id` bigint(20) NULL DEFAULT NULL COMMENT '策略ID',
  `asset_id` bigint(20) NULL DEFAULT NULL COMMENT '资产id',
  `app_id` bigint(20) NULL DEFAULT NULL COMMENT '应用id',
  `updatetime` datetime NULL DEFAULT NULL COMMENT '更新时间',
  `createtime` datetime NULL DEFAULT NULL COMMENT '创建时间',
  `source_user` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '源数据资产用户',
  `source_user_password` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '源数据资产用户密码',
  `target_user` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '目标数据资产用户',
  `target_user_password` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '目标据资产用户密码',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `idx_strategy`(`strategy_id`, `asset_id`, `app_id`, `createtime`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '安全策略应用资产关联表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_strategy_sensitive_characteristic_map`;
CREATE TABLE `t_strategy_sensitive_characteristic_map`  (
  `id` bigint(20) NOT NULL COMMENT '主键',
  `appFlag` varchar(16) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '应用标识,sjfhq(闪捷防火墙)，sjjt(闪捷静脱)，sjdt(闪捷动脱)，ahfhq(安华防火墙)',
  `code` varchar(16) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '标识映射编码',
  `name` varchar(24) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '标识映射名称',
  `updatetime` datetime NULL DEFAULT NULL COMMENT '修改时间',
  `createtime` datetime NULL DEFAULT NULL COMMENT '创建时间',
  `sensitive_code` varchar(24) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '敏感编码，唯一索引标识',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `idx_ssc`(`code`, `appFlag`) USING BTREE,
  INDEX `idx_sensitiveCode`(`appFlag`, `sensitive_code`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '安全策略应用特征关联表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_sync_task`;
CREATE TABLE `t_sync_task`  (
  `id` bigint(20) NOT NULL COMMENT '同步任务id',
  `task_name` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,
  `task_no` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '任务号',
  `task_type` int(11) NULL DEFAULT NULL COMMENT '任务类型:0:资产，1策略',
  `app_flag` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '对接厂商标识：sjfhq(闪捷防火墙)，sjjt(闪捷静脱)，sjdt(闪捷动脱)，ahfhq(安华防火墙)',
  `status` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '0初始化，1运行中，2成功，3失败',
  `url` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '同步地址',
  `sync_data_id` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '任务数据标识',
  `data_version` bigint(20) NULL DEFAULT NULL COMMENT '数据版本号',
  `protocol` varchar(12) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '同步任务协议',
  `max_retry` int(11) NULL DEFAULT NULL COMMENT '最大重试次数',
  `retry` int(11) NULL DEFAULT NULL COMMENT '重试次数',
  `last_exec_time` datetime NULL DEFAULT NULL COMMENT '最后执行时间',
  `task_timeout` int(11) NULL DEFAULT NULL COMMENT '超时时间（毫秒）',
  `exec_time` int(11) NULL DEFAULT NULL COMMENT '任务用时(毫秒)',
  `sync_data` mediumblob NULL COMMENT '同步数据',
  `message` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '错误说明',
  `expiretime` datetime NULL DEFAULT NULL COMMENT '任务超时时间',
  `createtime` datetime NULL DEFAULT NULL COMMENT '创建时间',
  `finishtime` datetime NULL DEFAULT NULL COMMENT '完成时间',
  `retry_interval` int(11) NULL DEFAULT NULL COMMENT '重试间隔时间',
  PRIMARY KEY (`id`) USING BTREE,
  UNIQUE INDEX `idx_sync`(`task_name`, `task_no`, `sync_data_id`, `last_exec_time`, `createtime`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '同步任务表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_sys_business_system`;
CREATE TABLE `t_sys_business_system`  (
  `ID` bigint(20) NOT NULL COMMENT '主键',
  `NAME` varchar(64) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '业务系统名称',
  `TYPE` varchar(10) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '业务系统类型 1-生产系统，2-运维系统，3-管理系统，4-业务支撑系统，5-安全保障系统，99-其他',
  `MAJOR_ID` bigint(20) NULL DEFAULT NULL COMMENT '所属专业',
  `DOMAIN_ID` bigint(20) NULL DEFAULT NULL COMMENT '所属安全域',
  `AREA_ID` bigint(20) NULL DEFAULT NULL COMMENT '所属地域',
  `DEPT_ID` bigint(20) NULL DEFAULT NULL COMMENT '所属部门',
  `dept_user` varchar(50) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '归属部门负责人',
  `dept_user_phone` bigint(20) NULL DEFAULT NULL COMMENT '归属部门负责人号码',
  `VALID_TAG` char(1) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT '1' COMMENT '有效标志 1-有效0-无效',
  `IP` varchar(64) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '服务器IP',
  `PHYSICALL_ADDRESS` varchar(128) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '所属物理地址',
  `CHARGE_USER_ID` bigint(20) NULL DEFAULT NULL COMMENT '责任人',
  `SAFETY_USER_ID` bigint(20) NULL DEFAULT NULL COMMENT '安全员',
  `ANSWER_USER_ID` bigint(20) NULL DEFAULT NULL COMMENT '响应人',
  `RECORD_TAG` int(11) NULL DEFAULT 0 COMMENT '是否备案',
  `REMARK` varchar(2048) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '备注',
  `CREATE_TIME` timestamp NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `UPDATE_TIME` timestamp NULL DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
  `CREATE_USER_ID` bigint(20) NULL DEFAULT NULL COMMENT '创建人',
  `UPDATE_USER_ID` bigint(20) NULL DEFAULT NULL COMMENT '更新人',
  `SERVER_NAME` varchar(255) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '服务名',
  `GRADING_FILING_NO` varchar(255) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '定级备案编号',
  `business_level` int(11) NULL DEFAULT NULL COMMENT '业务系统定级 0-未定级，1-一级，2-二级，3-三级，4-四级，5-五级',
  `business_department` bigint(20) NULL DEFAULT NULL COMMENT '业务部门',
  `dept_business_user` varchar(50) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '业务部门负责人',
  `dept_business_user_phone` bigint(20) NULL DEFAULT NULL COMMENT '业务部门负责人号码',
  `maintenance_dartment` bigint(20) NULL DEFAULT NULL COMMENT '维护部门',
  `dept_maintenance_user` varchar(50) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '维护部门负责人',
  `dept_maintenance_user_phone` bigint(20) NULL DEFAULT NULL COMMENT '维护部门负责人号码',
  `management_department` bigint(20) NULL DEFAULT NULL COMMENT '管理部门',
  `dept_management_user` varchar(50) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '管理部门负责人',
  `dept_management_user_phone` bigint(20) NULL DEFAULT NULL COMMENT '管理部门负责人号码',
  `security_capability` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '安全防护能力覆盖',
  `security_level` int(11) NULL DEFAULT NULL COMMENT '0-未定级，1-一级，2-二级，3-三级，4-四级',
  `department_group` int(11) NULL DEFAULT NULL COMMENT '主管部门条线 0-无，1-市场条线，2-客服条线，3-云网条线，4-政企条线，5-渠道条线，6-网信安条线',
  `business_tag` varchar(100) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '业务系统标签 多个标签以”,”隔开',
  `on_off_line` int(11) NULL DEFAULT 0 COMMENT '上下线状态  0 -上线 1-下线',
  `online_time` timestamp NULL DEFAULT NULL COMMENT '上线时间',
  `offline_time` timestamp NULL DEFAULT NULL COMMENT '下线时间',
  `department_group_other` varchar(200) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL,
  `security_management` varchar(500) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '数据安全管理制度 多个以”,”隔开',
  `security_out_call` varchar(500) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '对外被调用业务 多个以”,”隔开',
  `report_status` tinyint(4) NULL DEFAULT 0 COMMENT '上报状态: 0-未上报, 1-成功, 2-失败',
  `soc_id` varchar(500) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT 'soc业务系统id',
  `dept_user_mail` varchar(255) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL,
  `dept_business_user_mail` varchar(255) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '维护责任人邮箱',
  `dept_business_mail` varchar(255) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL,
  `dept_management_mail` varchar(255) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '管理部门负责人邮箱',
  `source` int(11) NOT NULL DEFAULT 1 COMMENT '数据来源 0-soc同步 1-手动添加',
  `memo` varchar(256) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '系统简介',
  `ods_code` varchar(100) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT 'ODS唯一标识',
  PRIMARY KEY (`ID`) USING BTREE,
  INDEX `idx_depart_id`(`DEPT_ID`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '业务系统表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_sys_business_system_ip_port`;
CREATE TABLE `t_sys_business_system_ip_port`  (
  `id` bigint(20) NOT NULL COMMENT '编号',
  `ip` text CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL COMMENT 'ip',
  `port` int(11) NULL DEFAULT NULL COMMENT '端口',
  `sys_id` bigint(20) NULL DEFAULT NULL COMMENT '业务系统编号',
  `isDelete` char(1) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT '0' COMMENT '是否删除，0未删除，1删除',
  `type` int(11) NULL DEFAULT NULL COMMENT '类型 0-主识别IP 1-公网IP 2-CN2 IP 3-dcn IP 4-浮动IP 5-私网IP',
  `ip_type` int(11) NULL DEFAULT NULL COMMENT 'ip类型 1-ipv4，2-ipv6',
  `cn2_vpn` varchar(50) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT 'cn2地址VPN号',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `idx_sysId_del`(`sys_id`, `isDelete`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_unicode_ci COMMENT = '业务系统IP端口映射表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_sys_classification_data`;
CREATE TABLE `t_sys_classification_data`  (
  `id` bigint(20) UNSIGNED ZEROFILL NOT NULL COMMENT '标识',
  `type_code` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '规范编码',
  `code` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '类别编码',
  `value` varchar(256) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '类别名称',
  `parent_type_code` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '父编码',
  `level` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '敏感级别：1-第一级，2-第二级，3-第三级，4-第四级',
  `bak_two` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '预留字段2：是否重要数据：1是0否',
  `isDelete` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT '0' COMMENT '是否删除，0未删除，1删除',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '数据分类规则类别关联表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_sys_classification_level`;
CREATE TABLE `t_sys_classification_level`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '标识',
  `level` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '级别',
  `value` varchar(256) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '级别名称',
  `isDelete` int(11) NULL DEFAULT 0 COMMENT '是否删除，0未删除，1删除',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 8 CHARACTER SET = utf8 COLLATE = utf8_general_ci ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_sys_classification_strategy`;
CREATE TABLE `t_sys_classification_strategy`  (
  `id` bigint(20) NOT NULL COMMENT '规范ID',
  `standard_name` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '规范名称',
  `standard_code` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '规范编码',
  `standard_version` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '规范版本',
  `platform_default` int(11) NULL DEFAULT 0 COMMENT '0-未启用, 11-第一套敏感规范, 12-第二套敏感规范, 21-第一套数据规范, 22-第二套数据规范',
  `platform_show` tinyint(1) NULL DEFAULT 0 COMMENT '平台展示 0-否 1-是',
  `deleted` int(11) NULL DEFAULT 0 COMMENT '是否删除：0-不删除，1-删除',
  `create_time` datetime NULL DEFAULT NULL COMMENT '创建时间',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '分类分级策略表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_sys_component_info`;
CREATE TABLE `t_sys_component_info`  (
  `ID` bigint(20) NOT NULL COMMENT '标识',
  `name` varchar(128) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '组件名称',
  `code` varchar(128) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '组件代码 1-分级分类扫描程序',
  `zip` longblob NULL COMMENT '组件应用包（zip） 二进制类型 暂定最大200M=209715200字节',
  `version` varchar(32) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '组件版本',
  `scope` int(11) NULL DEFAULT NULL COMMENT '作用域（1-安全域 2-业务系统 3-部门）',
  `scope_code` varchar(32) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '作用域识别代码（安全域编码或者业务系统标识或者部门标识）',
  `addr` varchar(128) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '组件访问地址',
  `CREATED_BY` bigint(20) NULL DEFAULT NULL COMMENT '创建人',
  `CREATED_TIME` datetime NULL DEFAULT NULL COMMENT '创建时间',
  `UPDATED_BY` bigint(20) NULL DEFAULT NULL COMMENT '更新人',
  `UPDATED_TIME` datetime NULL DEFAULT NULL COMMENT '更新时间',
  `file_name` varchar(128) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '文件名',
  `file_path` varchar(128) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '文件路径',
  `isDelete` char(1) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT '0' COMMENT '是否删除，0未删除，1删除',
  `dbscan_id` bigint(20) NULL DEFAULT NULL COMMENT '采集机id',
  PRIMARY KEY (`ID`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_unicode_ci COMMENT = '组件信息表 ' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_sys_data_class`;
CREATE TABLE `t_sys_data_class`  (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '类别名称',
  `code` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '类别编码',
  `level_id` int(11) NULL DEFAULT NULL COMMENT '级别id',
  `parent_id` int(11) NULL DEFAULT NULL COMMENT '上级类别名称',
  `memo` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '类别定义',
  `system_id` text CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL COMMENT '业务系统作用域',
  `threshold_condition` tinyint(1) NULL DEFAULT NULL COMMENT '数据量条件 1-大于 2-小于',
  `threshold_value` bigint(20) NULL DEFAULT NULL COMMENT '数据量阈值',
  `status` tinyint(1) NULL DEFAULT 1 COMMENT '是否启用 0-否 1-是',
  `deleted` tinyint(1) NULL DEFAULT 0 COMMENT '是否删除：0-不删除，1-删除',
  `create_time` datetime NULL DEFAULT NULL COMMENT '创建时间',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 2476 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '重要核心数据规范-数据类别' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_sys_data_class_characteristic_assoc`;
CREATE TABLE `t_sys_data_class_characteristic_assoc`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'ID标识',
  `data_class_id` int(11) NOT NULL COMMENT '数据类别ID',
  `characteristic_id` bigint(20) NOT NULL COMMENT '标签ID',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 6316 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '数据类别与标签关联表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_sys_data_grade_strategy`;
CREATE TABLE `t_sys_data_grade_strategy`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '规范ID',
  `standard_name` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '规范名称',
  `standard_code` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '规范编码',
  `platform_enable` tinyint(1) NULL DEFAULT 0 COMMENT '是否平台启用：0-否 21-第一套 22-第二套',
  `platform_show` tinyint(1) NULL DEFAULT 0 COMMENT '平台展示 0-否 1-是',
  `deleted` tinyint(1) NULL DEFAULT 0 COMMENT '是否删除：0-不删除，1-删除',
  `create_time` datetime NULL DEFAULT NULL COMMENT '创建时间',
  `enable_time` datetime NULL DEFAULT NULL COMMENT '启用时间',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 25 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '重要核心识别规范' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_sys_data_level`;
CREATE TABLE `t_sys_data_level`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键id',
  `strategy_id` int(11) NULL DEFAULT NULL COMMENT '规范id',
  `name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '级别名称',
  `priority` int(1) NULL DEFAULT NULL COMMENT '优先级',
  `deleted` tinyint(1) NULL DEFAULT 0 COMMENT '是否删除：0-不删除，1-删除',
  `create_time` datetime NULL DEFAULT NULL COMMENT '创建时间',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 96 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '重要核心数据规范-数据级别' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_sys_data_permission`;
CREATE TABLE `t_sys_data_permission`  (
  `id` bigint(20) NOT NULL COMMENT '编号',
  `name` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '权限名称',
  `code` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '权限编码',
  `memo` varchar(1024) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '备注',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '系统数据权限表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_sys_data_permission_item`;
CREATE TABLE `t_sys_data_permission_item`  (
  `id` bigint(20) NOT NULL COMMENT '编号',
  `data_permission_id` bigint(20) NULL DEFAULT NULL COMMENT '权限id',
  `item_type` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '权限项目（1-用户 2-部门 3-地域 4-业务系统 99-其他）',
  `permission_column` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '权限字段（必须和表字段一模一样）',
  `match_rule` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '运算规则（0-等于 1-包含 2-不等于 3-大于 4-大于等于 5-小于 6-小于等于）',
  `match_value` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '值匹配项（1-当前用户 2-归属部门 21-归属部门及子部门 3-归属地域 31-归属地域及下级地域 4-责任业务系统 99-自定义SQL 991-固定值）',
  `value` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '固定值/自定义SQL',
  `andor` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '条件运算符（and-and-or-or）',
  `auth_code` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '权限代码',
  `role_id` bigint(20) NULL DEFAULT NULL COMMENT '角色Id',
  `seq` int(11) NULL DEFAULT NULL COMMENT '优先级',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '系统数据权限细项表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_sys_dbscan`;
CREATE TABLE `t_sys_dbscan`  (
  `id` bigint(20) NOT NULL COMMENT '主键id',
  `ip` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '采集机ip',
  `port` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '采集机端口',
  `create_time` datetime NULL DEFAULT NULL COMMENT '创建时间',
  `online` int(11) NULL DEFAULT 2 COMMENT '1在线2离线',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_sys_dbscan_disk_info`;
CREATE TABLE `t_sys_dbscan_disk_info`  (
  `dbscan_id` bigint(20) NULL DEFAULT NULL COMMENT '主键id',
  `disk_name` varchar(256) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '硬盘名称',
  `disk_type` int(11) NOT NULL COMMENT '硬盘类型，1文件系统，2磁盘',
  `usage` float NULL DEFAULT NULL COMMENT '硬盘或IO使用率',
  `update_time` datetime NULL DEFAULT NULL COMMENT '采集时间'
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '采集机硬盘信息表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_sys_dbscan_info`;
CREATE TABLE `t_sys_dbscan_info`  (
  `id` bigint(20) NOT NULL COMMENT '主键id',
  `cpu_usage` float NULL DEFAULT NULL COMMENT 'CPU使用率',
  `mem_usage` float NULL DEFAULT NULL COMMENT '内存使用率',
  `run_tasks` int(11) NULL DEFAULT NULL COMMENT '当前执行任务数',
  `wait_tasks` int(11) NULL DEFAULT NULL COMMENT '待执行任务数',
  `update_time` datetime NULL DEFAULT NULL COMMENT '时间'
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '采集机统计表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_sys_dbscan_netcard_info`;
CREATE TABLE `t_sys_dbscan_netcard_info`  (
  `dbscan_id` bigint(20) NULL DEFAULT NULL COMMENT '采集机id',
  `netcard_name` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '网口名称',
  `up_bandwidth` bigint(20) NULL DEFAULT NULL COMMENT '上行速率',
  `down_bandwidth` bigint(20) NULL DEFAULT NULL COMMENT '下行速率',
  `update_time` datetime NULL DEFAULT NULL COMMENT '采集时间'
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_sys_dbscan_task_info`;
CREATE TABLE `t_sys_dbscan_task_info`  (
  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT '主键id',
  `dbscan_id` bigint(20) NOT NULL COMMENT '采集机id',
  `task_id` bigint(20) NOT NULL COMMENT '任务id',
  `create_time` datetime NOT NULL COMMENT '创建时间',
  `start_time` datetime NULL DEFAULT NULL COMMENT '任务开始时间',
  `end_time` datetime NULL DEFAULT NULL COMMENT '任务结束时间',
  `type` int(11) NULL DEFAULT NULL COMMENT '任务状态，1等待2执行中3结束',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 1820293649674600451 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '采集机任务信息表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_sys_dbscan_upload_info`;
CREATE TABLE `t_sys_dbscan_upload_info`  (
  `dbscan_id` bigint(20) NULL DEFAULT NULL COMMENT '采集机id',
  `data_type` int(11) NULL DEFAULT NULL COMMENT '数据类型 1数据库 2文件系统',
  `data_count` bigint(20) NULL DEFAULT NULL COMMENT '数据量',
  `update_time` datetime NULL DEFAULT NULL COMMENT '上报时间'
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '采集机上报数据记录表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_sys_depart`;
CREATE TABLE `t_sys_depart`  (
  `DEPART_ID` bigint(20) NOT NULL COMMENT '主键',
  `DEPART_NAME` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '部门名称',
  `DEPART_CODE` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '部门编码',
  `DEPART_FRAME` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '部门结构串',
  `DEPART_LEVEL` varchar(2) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '部门级别',
  `depart_type` varchar(2) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '部门类型: 0-其他, 1-省份, 2-专业公司, 3-集团',
  `PARENT_DEPART_ID` bigint(20) NULL DEFAULT NULL COMMENT '上级部门',
  `UNIT_TAG` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '是否单位节点(1是,0否)',
  `UNIT_ID` bigint(20) NULL DEFAULT NULL COMMENT '所属单位节点',
  `STATION_ID` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '岗位ID',
  `VALID_TAG` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT '1' COMMENT '0-删除 1-正常',
  `CREATE_USER_ID` bigint(20) NULL DEFAULT NULL COMMENT '创建人',
  `CREATE_TIME` timestamp NULL DEFAULT NULL COMMENT '创建时间',
  `UPDATE_USER_ID` bigint(20) NULL DEFAULT NULL COMMENT '更新人',
  `UPDATE_TIME` timestamp NULL DEFAULT NULL COMMENT '更新时间',
  `REMARK` varchar(500) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '备注',
  `CHARGE_USER_ID` bigint(20) NULL DEFAULT NULL COMMENT '责任人',
  `PARENT_DEPART_IDS` varchar(500) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '上级部门ID串;',
  `ACCESS_TAG` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT '0' COMMENT '鏄?惁鎺ュ叆(1鏄?0鍚?',
  `IS_PLATFORM` tinyint(4) NULL DEFAULT 1 COMMENT '是否接入平台：0-是 1-否',
  `soc_id` varchar(500) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT 'soc部门id',
  PRIMARY KEY (`DEPART_ID`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '部门表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_sys_dic_data`;
CREATE TABLE `t_sys_dic_data`  (
  `id` bigint(20) NOT NULL COMMENT '标识',
  `type_code` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '字典类型编码',
  `code` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '字典编码',
  `value` varchar(256) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '字典值',
  `bak_one` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '预留字段1',
  `bak_two` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '预留字段2',
  `bak_three` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '预留字段3',
  `isDelete` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT '0' COMMENT '是否删除，0未删除，1删除',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '系统字典数据表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_sys_dic_tree_data`;
CREATE TABLE `t_sys_dic_tree_data`  (
  `id` bigint(25) NOT NULL AUTO_INCREMENT COMMENT '标识',
  `type_code` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '字典类型编码',
  `code` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '字典编码',
  `value` varchar(256) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '字典值',
  `parent_type_code` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '父编码',
  `level` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '敏感级别：1-第一级，2-第二级，3-第三级，4-第四级',
  `bak_two` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '预留字段2：是否重要数据：1是0否',
  `bak_three` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '预留字段3',
  `category_definition` varchar(256) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '类别定义',
  `isDelete` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT '0' COMMENT '是否删除，0未删除，1删除',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 1810213730689069737 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '系统树形字典数据表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_sys_encrypt_column`;
CREATE TABLE `t_sys_encrypt_column`  (
  `id` bigint(20) NOT NULL COMMENT '主键',
  `table_name` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '表名称，对应实体类名称',
  `column_names` text CHARACTER SET utf8 COLLATE utf8_unicode_ci NOT NULL COMMENT '字段名称，遵循驼峰命名规则,多个字段用逗号隔开',
  `key_column` varchar(128) CHARACTER SET utf8 COLLATE utf8_unicode_ci NOT NULL COMMENT '表名称对应的表主键',
  `memo` text CHARACTER SET utf8 COLLATE utf8_unicode_ci NOT NULL COMMENT '字段注释',
  `original_type` text CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL COMMENT '原始类型,多个类型用\"/\"隔开',
  `history_status` tinyint(4) NOT NULL DEFAULT 0 COMMENT '历史数据更新状态\n;0-未开始 \n1-进行中 \n2-已完成 \n3-异常',
  `config_status` tinyint(4) NOT NULL DEFAULT 0 COMMENT '配置状态\n;0-已生效\n1-已失效',
  `creator` bigint(20) NULL DEFAULT NULL COMMENT '创建人ID',
  `create_time` datetime NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `updater` bigint(20) NULL DEFAULT NULL COMMENT '更新人ID',
  `update_time` datetime NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
  `error_message` varchar(255) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL COMMENT '错误消息',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_unicode_ci COMMENT = '加密字段表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_sys_import_result`;
CREATE TABLE `t_sys_import_result`  (
  `ID` bigint(20) NOT NULL COMMENT '标识',
  `TYPE` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '导入类型 0-专业数据、1-地域数据、2--安全域数据、3-部门数据、4-用户数据 5-数据库资产 7-数据分类分级策略数据 8-数据标记数据  9-定级备案数据 10-定级备案与业务系统关联关系表',
  `USER_ID` bigint(20) NULL DEFAULT NULL COMMENT '导入用户',
  `IMPORT_TIME` timestamp NULL DEFAULT NULL COMMENT '导入时间',
  `RESULT` int(11) NULL DEFAULT NULL COMMENT '导入结果',
  `ERROR_MAG` longtext CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '错误信息',
  `RESULT_DETAIL` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '导入结果详情Json',
  PRIMARY KEY (`ID`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '数据导入结果表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_sys_log_login`;
CREATE TABLE `t_sys_log_login`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'id',
  `session_id` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '登录会话ID',
  `user_id` bigint(20) NULL DEFAULT NULL COMMENT '用户id',
  `account` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '用户账号',
  `name` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '用户姓名',
  `phone` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '用户手机号',
  `user_type` tinyint(4) NOT NULL DEFAULT 0 COMMENT '用户类型-字典表',
  `org_ids` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '用户组织单位id集合，多个\",\"分割',
  `login_status` tinyint(4) NOT NULL DEFAULT 0 COMMENT '登录状态;登录状态-字典表：0-正常，1-用户不存在，2-密码错误，3-用户被禁用，4-验证码错误，5-设备未初始化，6-非管理员登录管理系统，7-已经登录，8-用户登录认证策略禁止登录,9-上线准入策略禁止登录,10-多次认证用户信息不一致,98-用户登录中，99-其他错误',
  `login_ip` varchar(15) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '登录IP',
  `ip_status` tinyint(4) NULL DEFAULT 0 COMMENT '是否锁定 0-否 1-是',
  `login_mac` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '登录mac',
  `target_system` tinyint(4) NULL DEFAULT 0 COMMENT '目标系统-字典值：0-USER平台，1-管理平台',
  `verify_type` tinyint(4) NULL DEFAULT 0 COMMENT '认证方式-字典表：0-密码，1-短信...',
  `login_client` tinyint(4) NOT NULL DEFAULT 0 COMMENT '登录客户端-字典表：0-web...',
  `abnormal_type` tinyint(4) NOT NULL DEFAULT 0 COMMENT '异常行为类型-字典表：0-正常，1-异地登录，2-爆破登录，3-爆破锁定，4-ACL...',
  `client_info` varchar(500) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '客户端信息',
  `par_id` int(11) NOT NULL DEFAULT 202101 COMMENT '分区标识，分区表标识，根据year(create_time)+month(create_time)来取值，默认创建12个分区',
  `requestSeq` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '请求序列',
  `destroy_type` tinyint(4) NULL DEFAULT 0 COMMENT '注销类型-字典值：0-正常，1-用户注销，2-准入注销，3-资源访问注销，4-管理员注销，5-agent触发登出,6-系统到期自动登出,7-改密退出登录',
  `destroy_id` int(11) NULL DEFAULT 0 COMMENT '注销操作人会话id',
  `created_time` datetime NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `destroy_time` datetime NULL DEFAULT NULL COMMENT '注销时间',
  PRIMARY KEY (`id`, `par_id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 6514 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '登录日志信息表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_sys_log_login_auth`;
CREATE TABLE `t_sys_log_login_auth`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'id',
  `login_id` int(11) NOT NULL COMMENT '登录id',
  `account` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '账号名',
  `session_id` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '会话id',
  `verify_type` tinyint(4) NOT NULL DEFAULT 0 COMMENT '认证方式-字典表：1-密码，2-短信...',
  `login_status` tinyint(4) NOT NULL DEFAULT 0 COMMENT '登录状态-字典表：0-正常，1-用户不存在，2-密码错误，3-用户被禁用，4-验证码错误，5-设备未初始化，6-非管理员登录管理系统，7-已经登录，8-用户登录认证策略禁止登录,9-上线准入策略禁止登录,10-多次认证用户信息不一致,98-用户登录中，99-其他错误',
  `par_id` int(11) NOT NULL DEFAULT 202101 COMMENT '分区标识，分区表标识，根据year(updated_time)+month(updated_time)来取值，默认创建12个分区',
  `created_time` datetime NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  PRIMARY KEY (`id`, `par_id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 6512 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '用户登录记录表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_sys_login_white_ip`;
CREATE TABLE `t_sys_login_white_ip`  (
  `id` bigint(20) NOT NULL COMMENT 'id',
  `ip` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '白名单Ip',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '系统登录ip白名单' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_sys_oplog`;
CREATE TABLE `t_sys_oplog`  (
  `id` int(10) UNSIGNED NOT NULL AUTO_INCREMENT COMMENT '主键id',
  `global_trace_id` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '全局链路ID',
  `src_ip` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '源ip',
  `desc_ip` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '目标ip',
  `account` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '账号',
  `user_id` bigint(20) NULL DEFAULT NULL COMMENT '用户ID',
  `user_name` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '账号名',
  `dept_id` bigint(20) NULL DEFAULT NULL COMMENT '部门ID',
  `dept_name` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '部门名',
  `op_type` tinyint(4) NULL DEFAULT NULL COMMENT '操作类型',
  `op_function` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '涉及功能',
  `op_content` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '操作内容',
  `op_status` tinyint(4) NULL DEFAULT NULL COMMENT '操作结果: 1-成功, 2-失败',
  `app_code` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '应用代码',
  `app_name` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '应用名',
  `uri` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '请求地址',
  `req_params` longtext CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '请求参数',
  `resp_data` longtext CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '响应数据',
  `enable_trace` tinyint(4) NULL DEFAULT NULL COMMENT '是否开启链路 (0-未开启, 1-开启)',
  `gmt_create` datetime NULL DEFAULT NULL COMMENT '创建时间',
  `gmt_modified` datetime NULL DEFAULT NULL COMMENT '更新时间',
  `page_req_id` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '页面请求ID',
  `session_id` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT 'session ID',
  `route` varchar(256) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '前端页面地址',
  `op_start` datetime NULL DEFAULT NULL COMMENT '接口请求开始时间',
  `op_end` datetime NULL DEFAULT NULL COMMENT '接口请求结束时间',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `idx_create`(`gmt_create`) USING BTREE,
  INDEX `idx_pageReqId`(`page_req_id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 229478 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '操作日志表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_sys_oplog_config`;
CREATE TABLE `t_sys_oplog_config`  (
  `id` int(10) UNSIGNED NOT NULL AUTO_INCREMENT COMMENT '主键id',
  `res_api_id` bigint(20) NULL DEFAULT NULL COMMENT 'API资源ID',
  `enable_trace` tinyint(4) NULL DEFAULT NULL COMMENT '是否开启链路: 0-否, 1-是',
  `gmt_create` datetime NULL DEFAULT NULL COMMENT '创建时间',
  `gmt_modified` datetime NULL DEFAULT NULL COMMENT '更新时间',
  `is_delete` tinyint(4) NULL DEFAULT NULL COMMENT '是否删除: 0-否, 1-是',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 7 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '系统操作日志配置表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_sys_oplog_details`;
CREATE TABLE `t_sys_oplog_details`  (
  `id` int(10) UNSIGNED NOT NULL AUTO_INCREMENT COMMENT '主键id',
  `global_trace_id` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '全局链路ID',
  `segment_id` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '环节链路ID',
  `level` int(11) NULL DEFAULT NULL COMMENT '调用层级',
  `ref_segment_id` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '父节点环节链路ID',
  `type` int(11) NULL DEFAULT NULL COMMENT '类型: 1-前端, 2-网关, 3-应用[controller], 4-应用[service]',
  `inst_addr` varchar(256) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '实例地址(IP:PORT)',
  `app_code` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '应用代码',
  `app_name` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '应用名',
  `ext_route` varchar(256) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '前端页面地址',
  `ext_uri` varchar(256) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '应用 controller 请求地址',
  `ext_method` varchar(256) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '应用 service 方法',
  `ext_req_params` longtext CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '请求参数',
  `ext_resp_data` longtext CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '响应数据',
  `start` bigint(20) NULL DEFAULT NULL COMMENT '环节开始时间',
  `end` bigint(20) NULL DEFAULT NULL COMMENT '环节结束时间',
  `gmt_create` datetime NULL DEFAULT NULL COMMENT '创建时间',
  `gmt_modified` datetime NULL DEFAULT NULL COMMENT '更新时间',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `idx_create`(`gmt_create`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 231849 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '系统操作日志详情表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_sys_oplog_menu`;
CREATE TABLE `t_sys_oplog_menu`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键id',
  `page_req_id` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '页面请求ID',
  `session_id` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT 'session ID',
  `op_start` datetime NOT NULL COMMENT '操作开始时间',
  `op_end` datetime NOT NULL COMMENT '操作结束时间',
  `res_code` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '资源编码',
  `user_id` bigint(20) NOT NULL COMMENT '用户ID',
  `op_sum` varchar(1024) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '操作统计描述',
  `gmt_create` datetime NULL DEFAULT NULL COMMENT '创建时间',
  `gmt_modified` datetime NULL DEFAULT NULL COMMENT '更新时间',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `idx_opStart`(`op_start`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 25415 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '系统操作日志涉及菜单表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_sys_oplog_menu_mapping`;
CREATE TABLE `t_sys_oplog_menu_mapping`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键id',
  `oplog_menu_id` int(11) NOT NULL COMMENT '操作菜单ID',
  `global_trace_id` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '全局链路ID',
  PRIMARY KEY (`id`) USING BTREE,
  UNIQUE INDEX `uniq_menu_trace`(`oplog_menu_id`, `global_trace_id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 298264 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '系统操作日志涉及菜单映射表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_sys_provices_config`;
CREATE TABLE `t_sys_provices_config`  (
  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT '主键',
  `name` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '名称',
  `value` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '值',
  `description` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '描述',
  `status` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '是否处理0-未处理1-已处理',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 17 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '省份配置表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_sys_res_perm_mapping`;
CREATE TABLE `t_sys_res_perm_mapping`  (
  `id` bigint(20) UNSIGNED NOT NULL AUTO_INCREMENT COMMENT '主键id',
  `role_resource_id` bigint(20) UNSIGNED NOT NULL COMMENT '资源表id',
  `permission_item_id` bigint(20) UNSIGNED NOT NULL COMMENT '权限项id',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 1820396346272690178 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '系统资源权限映射表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_sys_resource`;
CREATE TABLE `t_sys_resource`  (
  `ID` bigint(20) NOT NULL COMMENT '功能菜单标识',
  `NAME` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '名称',
  `TYPE` int(11) NULL DEFAULT NULL COMMENT '类型 0-菜单 1-操作按钮  2-表头按钮',
  `ICON` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '菜单图标',
  `ROUTE` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '前端路由',
  `API` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '后端接口',
  `PARENT_ID` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '父标识',
  `SEQ` int(11) NULL DEFAULT NULL COMMENT '排序',
  `VALID_TAG` int(11) NOT NULL DEFAULT 1 COMMENT '有效标志 0-无效 1-有效',
  `VIEW` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '前端view路径',
  `IS_SHOW` tinyint(4) NULL DEFAULT NULL COMMENT '是否展示: 0-否, 1-是',
  `PARENT_IDS` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '父标识集合',
  `CODE` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '编码',
  `INTRODUCTION` varchar(500) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '详情介绍',
  `USAGE` int(255) NULL DEFAULT NULL COMMENT '菜单用途: 1-静态页面, 21-废弃页面, 22-多余删除, 41-通用菜单, 42-省侧共通, 43-集团专属, 44-运维页面, 61-安全公司315定制, 62-河南定制, 63-福建定制, 64-咪咕定制',
  PRIMARY KEY (`ID`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '系统资源信息表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_sys_resource_api`;
CREATE TABLE `t_sys_resource_api`  (
  `id` bigint(20) NOT NULL COMMENT '主键id',
  `resource_code` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '关联资源编码',
  `name` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '接口名称',
  `path` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '接口地址',
  `create_time` datetime NULL DEFAULT NULL COMMENT '创建时间',
  `op_type` tinyint(4) NULL DEFAULT NULL COMMENT '操作类型',
  `op_function` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '涉及功能',
  `op_content` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '操作内容',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '资源接口权限表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_sys_role`;
CREATE TABLE `t_sys_role`  (
  `ID` bigint(20) NOT NULL COMMENT '角色标识',
  `NAME` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '角色名称',
  `code` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '角色编码',
  `TYPE` varchar(16) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '角色类型 0-省中心安全管理员 1-省中心安全运营员 2-部门安全管理者 3-部门安全运营者',
  `REMARK` varchar(2048) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '角色描述',
  `PARENT_ID` bigint(20) NULL DEFAULT NULL COMMENT '父角色标识',
  `DEL_FLAG` int(11) NULL DEFAULT NULL COMMENT '逻辑删除标识',
  PRIMARY KEY (`ID`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '角色信息表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_sys_role_menu`;
CREATE TABLE `t_sys_role_menu`  (
  `ID` bigint(20) NOT NULL COMMENT '标识',
  `ROLE_ID` bigint(20) NULL DEFAULT NULL COMMENT '角色标识',
  `FUNC_ID` bigint(20) NULL DEFAULT NULL COMMENT '功能菜单标识',
  PRIMARY KEY (`ID`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '角色资源表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_sys_role_res_mapping`;
CREATE TABLE `t_sys_role_res_mapping`  (
  `id` bigint(20) UNSIGNED NOT NULL AUTO_INCREMENT COMMENT '主键id',
  `role_id` bigint(20) UNSIGNED NOT NULL COMMENT '角色ID',
  `resource_id` bigint(20) UNSIGNED NOT NULL COMMENT '资源ID',
  `target_names` varchar(1024) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '权限涉及存储名(表|index|topic...), 以逗号分隔',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 1820396346130083843 CHARACTER SET = utf8 COLLATE = utf8_general_ci ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_sys_sensitive_type_characteristic_assoc`;
CREATE TABLE `t_sys_sensitive_type_characteristic_assoc`  (
  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT 'ID标识',
  `sensitive_type_id` bigint(20) NOT NULL COMMENT '敏感分类ID',
  `characteristic_id` bigint(20) NOT NULL COMMENT '标签ID',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 1810244830681387139 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '敏感分类与标签关系表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_sys_sensitive_type_characteristic_assoc_legacy`;
CREATE TABLE `t_sys_sensitive_type_characteristic_assoc_legacy`  (
  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT 'ID标识',
  `sensitive_type_id` bigint(20) NOT NULL COMMENT '敏感分类ID',
  `characteristic_id` bigint(20) NOT NULL COMMENT '标签ID',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 1638451782582300674 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '敏感分类与标签关系表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_sys_sync_download`;
CREATE TABLE `t_sys_sync_download`  (
  `ID` bigint(20) NOT NULL COMMENT '标志',
  `NAME` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '任务名',
  `START_TIME` datetime NULL DEFAULT NULL COMMENT '任务开始时间',
  `END_TIME` datetime NULL DEFAULT NULL COMMENT '任务结束时间',
  `FILE_PATH` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '文件路径',
  `CREATE_USER_ID` bigint(20) NULL DEFAULT NULL COMMENT '操作用户',
  `CREATE_USER_DEPT_ID` bigint(20) NULL DEFAULT NULL COMMENT '操作用户部门',
  `STATUS` varchar(2) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '下载状态0-执行中1-已完成2-失败',
  `TYPE` varchar(2) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '任务状态0-导入1-导出（下载）',
  `DEAL_STATUS` varchar(2) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '是否处理0-未处理1-已处理',
  `IS_DOT` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '是否显示红点0-显示1-不显示',
  `EXPORT_TYPE` tinyint(4) NULL DEFAULT NULL COMMENT '资产类型',
  PRIMARY KEY (`ID`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '系统下载任务表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_sys_third_api_user`;
CREATE TABLE `t_sys_third_api_user`  (
  `id` bigint(20) NOT NULL COMMENT '标识',
  `user_name` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '第三方用户名',
  `app_key` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT 'appkey',
  `secret_key` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT 'secretKey',
  `AES_key` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT 'AES加密密钥,32位',
  `if_encrypt` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '是否进行加密:1青示加密，0表示非加密',
  `if_signture` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '是否进行验签:1青示验签，0表示不要验签',
  `create_time` datetime NULL DEFAULT NULL COMMENT '创建时间',
  `allow_urls` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '允许访问的url',
  `active` int(11) NULL DEFAULT NULL COMMENT '生效状态 0-停用  1-启用',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '第三方对接用户认证表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_sys_user`;
CREATE TABLE `t_sys_user`  (
  `ID` bigint(20) NOT NULL COMMENT '用户标识',
  `dept_id` bigint(20) NULL DEFAULT NULL COMMENT '所属部门',
  `area_id` bigint(20) NULL DEFAULT NULL COMMENT '归属地域id',
  `user_name` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '用户名',
  `sex` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '性别（M-男 F-女）',
  `TELEPHONE` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '电话',
  `MOBILE_PHONE` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '手机',
  `EMAIL` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '邮箱',
  `role_id` bigint(20) NULL DEFAULT NULL COMMENT '角色',
  `account` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '账号',
  `password` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '密码',
  `salt` varchar(16) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '盐',
  `active` int(11) NULL DEFAULT NULL COMMENT '帐号状态（0-停用  1-正常）',
  `last_login_ip` varchar(20) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '上次登录ip',
  `first_login_time` datetime NULL DEFAULT NULL COMMENT '首次登录时间',
  `account_strategy_id` int(11) NULL DEFAULT NULL COMMENT '账号策略id',
  `auth_strategy_id` int(11) NULL DEFAULT NULL COMMENT '认证策略',
  `leak_password` tinyint(4) NULL DEFAULT 0 COMMENT '弱密码标识 0-正常，1-弱密码',
  `pwd_update_time` timestamp NULL DEFAULT NULL COMMENT '密码最后修改时间',
  `expire_time` datetime NULL DEFAULT NULL COMMENT '账号过期时间',
  `create_time` timestamp NULL DEFAULT NULL COMMENT '创建时间',
  `del_flag` int(11) NULL DEFAULT NULL COMMENT '逻辑删除标识',
  `identity` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '身份证号',
  `last_login_time` timestamp NULL DEFAULT NULL COMMENT '最后一次登录时间',
  `user_label` int(11) NULL DEFAULT 0 COMMENT '用户标签：0-电信员工，1-非电信员工',
  `pwd_strategy_id` int(11) NULL DEFAULT NULL COMMENT '密码策略ID',
  `valid_time` datetime NULL DEFAULT NULL COMMENT '账号有效期限：精确到 时-分-秒',
  `malicious_login_lock_time` datetime NULL DEFAULT NULL COMMENT '触发恶意登入后记录锁定时间',
  `pwd_status` int(11) NULL DEFAULT 0 COMMENT '是否为系统生成密码 0 -是 1- 否',
  `dept_code` int(11) NULL DEFAULT NULL COMMENT '部门编码',
  `soc_id` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT 'soc系统id',
  `human_res_code` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '人力编码',
  `company` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '所在单位',
  `telecom_person` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '联系人',
  `telecom_person_phone` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '联系电话',
  PRIMARY KEY (`ID`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '用户信息表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_sys_user_cqrz`;
CREATE TABLE `t_sys_user_cqrz`  (
  `id` bigint(20) NOT NULL COMMENT '主键',
  `transaction_id` varchar(30) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '请求流水',
  `main_acct_code` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '统一认证账号',
  `certi_number` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '身份证',
  `phone_number` varchar(16) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '手机号码',
  `user_name` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '姓名',
  `org_info` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '所属组织信息json',
  `action_code` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT 'A：新增 (个别系统才会同步该操作)，M：修改 D：注销',
  `request_time` datetime NULL DEFAULT NULL COMMENT '请求时间',
  `post_id` varchar(20) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '岗位id',
  `post_name` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '岗位名称',
  `post_type_name` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '岗位类型名称',
  `post_type_id` varchar(20) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '岗位类型id',
  `remark1` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '备注1 人力资源的HRID',
  `remark2` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '备注2 人员分类明文，未区分承包',
  `remark3` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '备注3 人员分类编码，区分承包',
  `sign` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '数字签名 将请求报文中除sign节点以外的信息通过DES加密生成数字签名',
  `user_id` bigint(20) NOT NULL COMMENT '态势用户id',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '重庆用户信息表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_sys_user_cqrz_action`;
CREATE TABLE `t_sys_user_cqrz_action`  (
  `user_id` bigint(20) NOT NULL COMMENT '态势用户id',
  `is_login_action` char(1) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT 'A：创建，D：注销',
  PRIMARY KEY (`user_id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '重庆用户登录权限控制表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_sys_user_pwd_history`;
CREATE TABLE `t_sys_user_pwd_history`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'id',
  `user_id` bigint(20) NOT NULL COMMENT '用户id',
  `password` varchar(128) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '历史密码',
  `creator` bigint(20) NULL DEFAULT NULL COMMENT '创建者',
  `created_time` datetime NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `update_seq` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT '0' COMMENT '更新记录',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 223 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '历史密码记录表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_sys_user_sync`;
CREATE TABLE `t_sys_user_sync`  (
  `id` bigint(20) NOT NULL COMMENT '主键',
  `creat_time` timestamp NULL DEFAULT NULL COMMENT '创建时间（记录同步时间）',
  `type` char(2) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '固定值，根据不同对接平台配置（1-重庆人主）',
  `request_json` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '整个请求参数转string',
  `serialize_json` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '整个请求参数序列化（记录成功解析，成功解密数据，报错则这段为null）',
  `user_id` bigint(20) NULL DEFAULT NULL COMMENT '态势用户id',
  `error_msg` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL COMMENT '根据实际情况落盘异常消息',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '平台同步用户历史记录表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `t_sys_user_totp`;
CREATE TABLE `t_sys_user_totp`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'id',
  `user_id` bigint(20) NOT NULL COMMENT '用户id',
  `send_type` tinyint(4) NOT NULL COMMENT '发送状态-字典表：0-未发送，1-已发送',
  `gen_status` tinyint(4) NULL DEFAULT NULL COMMENT '生成状态：0-未生成，1-已生成',
  `generate_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '生成时间',
  `send_time` datetime NULL DEFAULT NULL COMMENT '发送时间',
  `created_time` datetime NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `update_seq` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT '0' COMMENT '更新记录',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 129 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = '人员TOTP信息表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `totp_info`;
CREATE TABLE `totp_info`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'id',
  `system_id` int(11) NOT NULL DEFAULT 0 COMMENT '系统标识/分区标识',
  `user_id` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '0' COMMENT '用户标识,可以是id,可以是账号',
  `otp_seed` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '0' COMMENT '64位MD5字符串',
  `created_time` datetime NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  PRIMARY KEY (`id`, `system_id`) USING BTREE,
  UNIQUE INDEX `UNIQUE_SYSTEM_USER`(`system_id`, `user_id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 74 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = 'TOTP种子信息表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `totp_log`;
CREATE TABLE `totp_log`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'id',
  `totp_code` varchar(6) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '0' COMMENT '校验码',
  `totp_id` int(11) NOT NULL DEFAULT 0 COMMENT '种子标识',
  `system_id` int(11) NOT NULL DEFAULT 0 COMMENT '系统标识',
  `result` tinyint(4) NOT NULL DEFAULT 0 COMMENT '验证结果：0-成功，1-失败',
  `par_id` int(11) NOT NULL DEFAULT 0 COMMENT '分区标识，按时间分区，例如：202101',
  `created_time` datetime NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  PRIMARY KEY (`id`, `par_id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 8 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = 'TOTP认证记录表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `totp_system`;
CREATE TABLE `totp_system`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'id',
  `code` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '系统编码',
  `name` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '系统名称',
  `description` varchar(200) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '系统描述',
  `created_time` datetime NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 2 CHARACTER SET = utf8 COLLATE = utf8_general_ci COMMENT = 'totp系统表' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `user_resource_login`;
CREATE TABLE `user_resource_login`  (
  `id` int(10) UNSIGNED NOT NULL AUTO_INCREMENT COMMENT '主键id',
  `account` varchar(250) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '主账号',
  `name` varchar(250) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '姓名',
  `sub_account` varchar(250) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '从账号',
  `belong_sys` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '所属业务系统',
  `res_id` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '资源id',
  `res_name` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '资源名称',
  `res_ip` varchar(20) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '资源IP',
  `login_time` datetime NULL DEFAULT NULL COMMENT '登录时间',
  `login_time_time` time NULL DEFAULT NULL COMMENT '登录时间-时间',
  `login_hour` tinyint(4) NULL DEFAULT NULL COMMENT '登录时间-小时',
  `year` int(11) NULL DEFAULT NULL COMMENT '分区-年',
  `month` tinyint(4) NULL DEFAULT NULL COMMENT '分区-月',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 163 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '用户资源登录' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `xxl_job_group`;
CREATE TABLE `xxl_job_group`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键id',
  `app_name` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT '执行器AppName',
  `title` varchar(12) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT '执行器名称',
  `address_type` tinyint(4) NOT NULL DEFAULT 0 COMMENT '执行器地址类型：0=自动注册、1=手动录入',
  `address_list` text CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL COMMENT '执行器地址列表，多地址逗号分隔',
  `update_time` datetime NULL DEFAULT NULL COMMENT '更新时间',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 19 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = 'xxl定时任务执行器' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `xxl_job_info`;
CREATE TABLE `xxl_job_info`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键id',
  `job_group` int(11) NOT NULL COMMENT '执行器主键ID',
  `job_desc` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT '任务描述',
  `add_time` datetime NULL DEFAULT NULL COMMENT '增加时间',
  `update_time` datetime NULL DEFAULT NULL COMMENT '更新时间',
  `author` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '作者',
  `alarm_email` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '报警邮件',
  `schedule_type` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL DEFAULT 'NONE' COMMENT '调度类型',
  `schedule_conf` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '调度配置，值含义取决于调度类型',
  `misfire_strategy` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL DEFAULT 'DO_NOTHING' COMMENT '调度过期策略',
  `executor_route_strategy` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '执行器路由策略',
  `executor_handler` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '执行器任务handler',
  `executor_param` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL COMMENT '执行器任务参数',
  `executor_block_strategy` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '阻塞处理策略',
  `executor_timeout` int(11) NOT NULL DEFAULT 0 COMMENT '任务执行超时时间，单位秒',
  `executor_fail_retry_count` int(11) NOT NULL DEFAULT 0 COMMENT '失败重试次数',
  `glue_type` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT 'GLUE类型',
  `glue_source` mediumtext CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL COMMENT 'GLUE源代码',
  `glue_remark` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT 'GLUE备注',
  `glue_updatetime` datetime NULL DEFAULT NULL COMMENT 'GLUE更新时间',
  `child_jobid` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '子任务ID，多个逗号分隔',
  `trigger_status` tinyint(4) NOT NULL DEFAULT 0 COMMENT '调度状态：0-停止，1-运行',
  `trigger_last_time` bigint(20) NOT NULL DEFAULT 0 COMMENT '上次调度时间',
  `trigger_next_time` bigint(20) NOT NULL DEFAULT 0 COMMENT '下次调度时间',
  `start_time` datetime NULL DEFAULT NULL COMMENT '开始时间',
  `end_time` datetime NULL DEFAULT NULL COMMENT '结束时间',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 1174 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = 'xxl定时任务信息' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `xxl_job_lock`;
CREATE TABLE `xxl_job_lock`  (
  `lock_name` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT '锁名称',
  PRIMARY KEY (`lock_name`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = 'xxl定时任务锁' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `xxl_job_log`;
CREATE TABLE `xxl_job_log`  (
  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT '主键id',
  `job_group` int(11) NOT NULL COMMENT '执行器主键ID',
  `job_id` int(11) NOT NULL COMMENT '任务，主键ID',
  `executor_address` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '执行器地址，本次执行的地址',
  `executor_handler` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '执行器任务handler',
  `executor_param` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL COMMENT '执行器任务参数',
  `executor_sharding_param` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '执行器任务分片参数，格式如 1/2',
  `executor_fail_retry_count` int(11) NOT NULL DEFAULT 0 COMMENT '失败重试次数',
  `trigger_time` datetime NULL DEFAULT NULL COMMENT '调度-时间',
  `trigger_code` int(11) NOT NULL COMMENT '调度-结果',
  `trigger_msg` text CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL COMMENT '调度-日志',
  `handle_time` datetime NULL DEFAULT NULL COMMENT '执行-时间',
  `handle_code` int(11) NOT NULL COMMENT '执行-状态',
  `handle_msg` text CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL COMMENT '执行-日志',
  `alarm_status` tinyint(4) NOT NULL DEFAULT 0 COMMENT '告警状态：0-默认、1-无需告警、2-告警成功、3-告警失败',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `I_trigger_time`(`trigger_time`) USING BTREE,
  INDEX `I_handle_code`(`handle_code`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 1207629 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = 'xxl定时任务日志' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `xxl_job_log_report`;
CREATE TABLE `xxl_job_log_report`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键id',
  `trigger_day` datetime NULL DEFAULT NULL COMMENT '调度-时间',
  `running_count` int(11) NOT NULL DEFAULT 0 COMMENT '运行中-日志数量',
  `suc_count` int(11) NOT NULL DEFAULT 0 COMMENT '执行成功-日志数量',
  `fail_count` int(11) NOT NULL DEFAULT 0 COMMENT '执行失败-日志数量',
  `update_time` datetime NULL DEFAULT NULL COMMENT '更新时间',
  PRIMARY KEY (`id`) USING BTREE,
  UNIQUE INDEX `i_trigger_day`(`trigger_day`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 101 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = 'xxl定时任务日志报告' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `xxl_job_logglue`;
CREATE TABLE `xxl_job_logglue`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键id',
  `job_id` int(11) NOT NULL COMMENT '任务，主键ID',
  `glue_type` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT 'GLUE类型',
  `glue_source` mediumtext CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL COMMENT 'GLUE源代码',
  `glue_remark` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT 'GLUE备注',
  `add_time` datetime NULL DEFAULT NULL COMMENT '创建时间',
  `update_time` datetime NULL DEFAULT NULL COMMENT '更新时间',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 1 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = 'xxl定时任务GLUE日志' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `xxl_job_registry`;
CREATE TABLE `xxl_job_registry`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键id',
  `registry_group` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT '注册执行器id',
  `registry_key` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT '注册密钥',
  `registry_value` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT '注册值',
  `update_time` datetime NULL DEFAULT NULL COMMENT '更新时间',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `i_g_k_v`(`registry_group`, `registry_key`, `registry_value`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 7228 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = 'xxl定时任务注册记录' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `xxl_job_user`;
CREATE TABLE `xxl_job_user`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键id',
  `username` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT '账号',
  `password` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT '密码',
  `role` tinyint(4) NOT NULL COMMENT '角色：0-普通用户、1-管理员',
  `permission` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT '权限：执行器ID列表，多个逗号分割',
  PRIMARY KEY (`id`) USING BTREE,
  UNIQUE INDEX `i_username`(`username`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 2 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = 'xxl定时任务账号' ROW_FORMAT = DYNAMIC;

-- ----------------------------
DROP TABLE IF EXISTS `zysqgx_sj`;
CREATE TABLE `zysqgx_sj`  (
  `id` int(10) UNSIGNED NOT NULL AUTO_INCREMENT COMMENT '主键id',
  `login_name` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '主帐号',
  `name` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '姓名',
  `acct_name` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '从账号',
  `entity_name` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '主机/数据库名称',
  `ip_addr` varchar(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '主机/数据库IP地址',
  `instance_name` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '实例名',
  `res_type` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '设备类型',
  `org_name` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '所属部门',
  `author_effect_time` datetime NULL DEFAULT NULL COMMENT '授权生效时间',
  `author_expire_time` datetime NULL DEFAULT NULL COMMENT '授权失效时间',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 3795608 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci COMMENT = '资源授权管理' ROW_FORMAT = DYNAMIC;

SET FOREIGN_KEY_CHECKS = 1;
